(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"01f9":function(t,n,e){"use strict";var r=e("2d00"),i=e("5ca1"),a=e("2aba"),o=e("32e9"),u=e("84f2"),s=e("41a0"),c=e("7f20"),l=e("38fd"),f=e("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",g=function(){return this};t.exports=function(t,n,e,m,y,b,_){s(e,n,m);var x,w,A,O=function(t){if(!h&&t in C)return C[t];switch(t){case p:return function(){return new e(this,t)};case v:return function(){return new e(this,t)}}return function(){return new e(this,t)}},k=n+" Iterator",M=y==v,E=!1,C=t.prototype,j=C[f]||C[d]||y&&C[y],D=j||O(y),S=y?M?O("entries"):D:void 0,F="Array"==n&&C.entries||j;if(F&&(A=l(F.call(new t)),A!==Object.prototype&&A.next&&(c(A,k,!0),r||"function"==typeof A[f]||o(A,f,g))),M&&j&&j.name!==v&&(E=!0,D=function(){return j.call(this)}),r&&!_||!h&&!E&&C[f]||o(C,f,D),u[n]=D,u[k]=g,y)if(x={values:M?D:O(v),keys:b?D:O(p),entries:S},_)for(w in x)w in C||a(C,w,x[w]);else i(i.P+i.F*(h||E),n,x);return x}},"037c":function(t,n,e){"use strict";var r={};e.r(r),e.d(r,"aggregate",function(){return na}),e.d(r,"bin",function(){return ra}),e.d(r,"collect",function(){return oa}),e.d(r,"compare",function(){return sa}),e.d(r,"countpattern",function(){return la}),e.d(r,"cross",function(){return da}),e.d(r,"density",function(){return xa}),e.d(r,"expression",function(){return Ma}),e.d(r,"extent",function(){return Ca}),e.d(r,"facet",function(){return Fa}),e.d(r,"field",function(){return Ba}),e.d(r,"filter",function(){return Na}),e.d(r,"flatten",function(){return za}),e.d(r,"fold",function(){return Ua}),e.d(r,"formula",function(){return qa}),e.d(r,"generate",function(){return Ya}),e.d(r,"impute",function(){return Xa}),e.d(r,"joinaggregate",function(){return to}),e.d(r,"key",function(){return eo}),e.d(r,"load",function(){return io}),e.d(r,"lookup",function(){return uo}),e.d(r,"multiextent",function(){return co}),e.d(r,"multivalues",function(){return fo}),e.d(r,"params",function(){return po}),e.d(r,"pivot",function(){return vo}),e.d(r,"prefacet",function(){return _o}),e.d(r,"project",function(){return wo}),e.d(r,"proxy",function(){return ko}),e.d(r,"relay",function(){return Eo}),e.d(r,"sample",function(){return jo}),e.d(r,"sequence",function(){return So}),e.d(r,"sieve",function(){return To}),e.d(r,"subflow",function(){return Da}),e.d(r,"tupleindex",function(){return Ro}),e.d(r,"values",function(){return Po}),e.d(r,"window",function(){return Yo});var i={};e.r(i),e.d(i,"bound",function(){return Hd}),e.d(i,"identifier",function(){return Jd}),e.d(i,"mark",function(){return Kd}),e.d(i,"overlap",function(){return ep}),e.d(i,"render",function(){return fp}),e.d(i,"viewlayout",function(){return Mp});var a={};e.r(a),e.d(a,"interpolate",function(){return jm}),e.d(a,"interpolateArray",function(){return gm}),e.d(a,"interpolateBasis",function(){return im}),e.d(a,"interpolateBasisClosed",function(){return am}),e.d(a,"interpolateDate",function(){return mm}),e.d(a,"interpolateDiscrete",function(){return Dm}),e.d(a,"interpolateHue",function(){return Sm}),e.d(a,"interpolateNumber",function(){return ym}),e.d(a,"interpolateObject",function(){return bm}),e.d(a,"interpolateRound",function(){return Fm}),e.d(a,"interpolateString",function(){return Cm}),e.d(a,"interpolateTransformCss",function(){return zm}),e.d(a,"interpolateTransformSvg",function(){return $m}),e.d(a,"interpolateZoom",function(){return Gm}),e.d(a,"interpolateRgb",function(){return hm}),e.d(a,"interpolateRgbBasis",function(){return pm}),e.d(a,"interpolateRgbBasisClosed",function(){return vm}),e.d(a,"interpolateHsl",function(){return Jm}),e.d(a,"interpolateHslLong",function(){return Zm}),e.d(a,"interpolateLab",function(){return Qm}),e.d(a,"interpolateHcl",function(){return ty}),e.d(a,"interpolateHclLong",function(){return ny}),e.d(a,"interpolateCubehelix",function(){return ry}),e.d(a,"interpolateCubehelixLong",function(){return iy}),e.d(a,"piecewise",function(){return ay}),e.d(a,"quantize",function(){return oy});var o={};e.r(o),e.d(o,"axisticks",function(){return y_}),e.d(o,"datajoin",function(){return __}),e.d(o,"encode",function(){return O_}),e.d(o,"legendentries",function(){return I_}),e.d(o,"linkpath",function(){return X_}),e.d(o,"pie",function(){return cx}),e.d(o,"scale",function(){return vx}),e.d(o,"sortitems",function(){return jx}),e.d(o,"stack",function(){return Rx}),e.d(o,"validTicks",function(){return l_});var u={};e.r(u),e.d(u,"contour",function(){return xw}),e.d(u,"geojson",function(){return Ew}),e.d(u,"geopath",function(){return ME}),e.d(u,"geopoint",function(){return jE}),e.d(u,"geoshape",function(){return SE}),e.d(u,"graticule",function(){return BE}),e.d(u,"projection",function(){return NE});var s={};e.r(s),e.d(s,"force",function(){return oj});var c={};e.r(c),e.d(c,"nest",function(){return zD}),e.d(c,"pack",function(){return XD}),e.d(c,"partition",function(){return QD}),e.d(c,"stratify",function(){return tS}),e.d(c,"tree",function(){return iS}),e.d(c,"treelinks",function(){return oS}),e.d(c,"treemap",function(){return lS});var l={};e.r(l),e.d(l,"voronoi",function(){return eF});var f={};e.r(f),e.d(f,"wordcloud",function(){return _F});var h={};e.r(h),e.d(h,"crossfilter",function(){return TF}),e.d(h,"resolvefilter",function(){return RF});var d=e("276f");function p(t){var n=t||d["u"],e=[],r={};return e.add=function(t){var i=n(t);return r[i]||(r[i]=1,e.push(t)),e},e.remove=function(t){var i,a=n(t);return r[a]&&(r[a]=0,(i=e.indexOf(t))>=0&&e.splice(i,1)),e},e}var v=async function(t,n){try{await n(t)}catch(e){t.error(e)}},g=Symbol("vega_id"),m=1;function y(t){return!(!t||!b(t))}function b(t){return t[g]}function _(t,n){return t[g]=n,t}function x(t){var n=t===Object(t)?t:{data:t};return b(n)?n:_(n,m++)}function w(t){return A(t,x({}))}function A(t,n){for(var e in t)n[e]=t[e];return n}function O(t,n){return _(n,b(t))}function k(t){return t&&t.constructor===M}function M(){var t=[],n=[],e=[],r=[],i=[],a=!1;return{constructor:M,insert:function(n){for(var e=Object(d["g"])(n),r=0,i=e.length;r<i;++r)t.push(e[r]);return this},remove:function(t){for(var e=Object(d["A"])(t)?r:n,i=Object(d["g"])(t),a=0,o=i.length;a<o;++a)e.push(i[a]);return this},modify:function(t,n,r){var a={field:n,value:Object(d["j"])(r)};return Object(d["A"])(t)?(a.filter=t,i.push(a)):(a.tuple=t,e.push(a)),this},encode:function(t,n){return Object(d["A"])(t)?i.push({filter:t,field:n}):e.push({tuple:t,field:n}),this},reflow:function(){return a=!0,this},pulse:function(o,u){var s,c,l,f,h,d,p={},v={};for(s=0,c=u.length;s<c;++s)p[b(u[s])]=1;for(s=0,c=n.length;s<c;++s)h=n[s],p[b(h)]=-1;for(s=0,c=r.length;s<c;++s)f=r[s],u.forEach(function(t){f(t)&&(p[b(t)]=-1)});for(s=0,c=t.length;s<c;++s)h=t[s],d=b(h),p[d]?p[d]=1:o.add.push(x(t[s]));for(s=0,c=u.length;s<c;++s)h=u[s],p[b(h)]<0&&o.rem.push(h);function g(t,n,e){e?t[n]=e(t):o.encode=n,a||(v[b(t)]=t)}for(s=0,c=e.length;s<c;++s)l=e[s],h=l.tuple,f=l.field,d=p[b(h)],d>0&&(g(h,f,l.value),o.modifies(f));for(s=0,c=i.length;s<c;++s)l=i[s],f=l.filter,u.forEach(function(t){f(t)&&p[b(t)]>0&&g(t,l.field,l.value)}),o.modifies(l.field);if(a)o.mod=n.length||r.length?u.filter(function(t){return p[b(t)]>0}):u.slice();else for(d in v)o.mod.push(v[d]);return o}}}var E="_:mod:_";function C(){Object.defineProperty(this,E,{writable:!0,value:{}})}var j=C.prototype;j.set=function(t,n,e,r){var i=this,a=i[t],o=i[E];return null!=n&&n>=0?(a[n]!==e||r)&&(a[n]=e,o[n+":"+t]=-1,o[t]=-1):(a!==e||r)&&(i[t]=e,o[t]=Object(d["x"])(e)?1+e.length:-1),i},j.modified=function(t,n){var e,r=this[E];if(!arguments.length){for(e in r)if(r[e])return!0;return!1}if(Object(d["x"])(t)){for(e=0;e<t.length;++e)if(r[t[e]])return!0;return!1}return null!=n&&n>=0?n+1<r[t]||!!r[n+":"+t]:!!r[t]},j.clear=function(){return this[E]={},this};var D=0,S="pulse",F=new C,T=1,B=2;function R(t,n,e,r){this.id=++D,this.value=t,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,n&&(this._update=n),e&&this.parameters(e,r)}var N=R.prototype;function P(t){return function(n){var e=this.flags;return 0===arguments.length?!!(e&t):(this.flags=n?e|t:e&~t,this)}}N.targets=function(){return this._targets||(this._targets=p(d["t"]))},N.set=function(t){return this.value!==t?(this.value=t,1):0},N.skip=P(T),N.modified=P(B),N.parameters=function(t,n,e){n=!1!==n;var r,i,a,o,u=this,s=u._argval=u._argval||new C,c=u._argops=u._argops||[],l=[];function f(t,e,r){r instanceof R?(r!==u&&(n&&r.targets().add(u),l.push(r)),c.push({op:r,name:t,index:e})):s.set(t,e,r)}for(r in t)if(i=t[r],r===S)Object(d["g"])(i).forEach(function(t){t instanceof R?t!==u&&(t.targets().add(u),l.push(t)):Object(d["l"])("Pulse parameters must be operator instances.")}),u.source=i;else if(Object(d["x"])(i))for(s.set(r,-1,Array(a=i.length)),o=0;o<a;++o)f(r,o,i[o]);else f(r,-1,i);return this.marshall().clear(),e&&(c.initonly=!0),l},N.marshall=function(t){var n,e,r,i,a,o=this._argval||F,u=this._argops;if(u){for(e=0,r=u.length;e<r;++e)n=u[e],i=n.op,a=i.modified()&&i.stamp===t,o.set(n.name,n.index,i.value,a);if(u.initonly){for(e=0;e<r;++e)n=u[e],n.op.targets().remove(this);this._argops=null,this._update=null}}return o},N.evaluate=function(t){var n=this._update;if(n){var e=this.marshall(t.stamp),r=n.call(this,e,t);if(e.clear(),r!==this.value)this.value=r;else if(!this.modified())return t.StopPropagation}},N.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?(this.skip(!1),n=0):n=this.evaluate(t),this.stamp=t.stamp,this.pulse=n||t);var n};var L=function(t,n,e,r){var i,a=1;return t instanceof R?i=t:t&&t.prototype instanceof R?i=new t:Object(d["A"])(t)?i=new R(null,t):(a=0,i=new R(t,n)),this.rank(i),a&&(r=e,e=n),e&&this.connect(i,i.parameters(e,r)),this.touch(i),i},z=function(t,n){var e,r,i=t.rank;for(e=0,r=n.length;e<r;++e)if(i<n[e].rank)return void this.rerank(t)},$=0;function U(t,n,e){this.id=++$,this.value=null,e&&(this.receive=e),t&&(this._filter=t),n&&(this._apply=n)}function I(t,n,e){return new U(t,n,e)}var q=U.prototype;q._filter=d["ab"],q._apply=d["u"],q.targets=function(){return this._targets||(this._targets=p(d["t"]))},q.consume=function(t){return arguments.length?(this._consume=!!t,this):!!this._consume},q.receive=function(t){if(this._filter(t)){for(var n=this.value=this._apply(t),e=this._targets,r=e?e.length:0,i=0;i<r;++i)e[i].receive(n);this._consume&&(t.preventDefault(),t.stopPropagation())}},q.filter=function(t){var n=I(t);return this.targets().add(n),n},q.apply=function(t){var n=I(null,t);return this.targets().add(n),n},q.merge=function(){var t=I();this.targets().add(t);for(var n=0,e=arguments.length;n<e;++n)arguments[n].targets().add(t);return t},q.throttle=function(t){var n=-1;return this.filter(function(){var e=Date.now();return e-n>t?(n=e,1):0})},q.debounce=function(t){var n=I();return this.targets().add(I(null,null,Object(d["k"])(t,function(t){var e=t.dataflow;n.receive(t),e&&e.run&&e.run()}))),n},q.between=function(t,n){var e=!1;return t.targets().add(I(null,null,function(){e=!0})),n.targets().add(I(null,null,function(){e=!1})),this.filter(function(){return e})};var W=function(t,n,e,r){var i,a=this,o=I(e,r),u=function(t){t.dataflow=a;try{o.receive(t)}catch(n){a.error(n)}finally{a.run()}};i="string"===typeof t&&"undefined"!==typeof document?document.querySelectorAll(t):Object(d["g"])(t);for(var s=0,c=i.length;s<c;++s)i[s].addEventListener(n,u);return o},Y=/^([A-Za-z]+:)?\/\//,H="file://",V=function(t,n){return function(e){return{options:e||{},sanitize:X,load:G,fileAccess:!!n,file:J(n),http:Q(t)}}};async function G(t,n){const e=await this.sanitize(t,n),r=e.href;return e.localFile?this.file(r):this.http(r,n)}async function X(t,n){n=Object(d["m"])({},this.options,n);const e=this.fileAccess,r={href:null};let i,a,o,u;return null!=t&&"string"===typeof t||Object(d["l"])("Sanitize failure, invalid URI: "+Object(d["T"])(t)),a=Y.test(t),(u=n.baseURL)&&!a&&(t.startsWith("/")||"/"===u[u.length-1]||(t="/"+t),t=u+t),o=(i=t.startsWith(H))||"file"===n.mode||"http"!==n.mode&&!a&&e,i?t=t.slice(H.length):t.startsWith("//")&&("file"===n.defaultProtocol?(t=t.slice(2),o=!0):t=(n.defaultProtocol||"http")+":"+t),Object.defineProperty(r,"localFile",{value:!!o}),r.href=t,n.target&&(r.target=n.target+""),n.rel&&(r.rel=n.rel+""),r}function J(t){return t?function(n){return new Promise(function(e,r){t.readFile(n,function(t,n){t?r(t):e(n)})})}:Z}async function Z(){Object(d["l"])("No file system access.")}function Q(t){return t?async function(n,e){const r=Object(d["m"])({},this.options.http,e),i=e&&e.response,a=await t(n,r);return a.ok?Object(d["A"])(a[i])?a[i]():a.text():Object(d["l"])(a.status+""+a.statusText)}:K}async function K(){Object(d["l"])("No HTTP fetch method available.")}var tt={boolean:d["U"],integer:d["W"],number:d["W"],date:d["V"],string:d["Y"],unknown:d["u"]},nt=[ot,ct,st,ut],et=["boolean","integer","number","date"];function rt(t,n){if(!t||!t.length)return"unknown";var e,r,i,a=0,o=t.length,u=nt.length,s=nt.map(function(t,n){return n+1});for(r=0,o=t.length;r<o;++r)for(e=n?t[r][n]:t[r],i=0;i<u;++i)if(s[i]&&at(e)&&!nt[i](e)&&(s[i]=0,++a,a===nt.length))return"string";return a=s.reduce(function(t,n){return 0===t?n:t},0)-1,et[a]}function it(t,n){return n.reduce(function(n,e){return n[e]=rt(t,e),n},{})}function at(t){return null!=t&&t===t}function ot(t){return"true"===t||"false"===t||!0===t||!1===t}function ut(t){return!isNaN(Date.parse(t))}function st(t){return!isNaN(+t)&&!(t instanceof Date)}function ct(t){return st(t)&&(t=+t)===~~t}var lt={},ft={},ht=34,dt=10,pt=13;function vt(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function gt(t,n){var e=vt(t);return function(r,i){return n(e(r),i,t)}}function mt(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}function yt(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function bt(t){return t<0?"-"+yt(-t,6):t>9999?"+"+yt(t,6):yt(t,4)}function _t(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":bt(t.getUTCFullYear(),4)+"-"+yt(t.getUTCMonth()+1,2)+"-"+yt(t.getUTCDate(),2)+(i?"T"+yt(n,2)+":"+yt(e,2)+":"+yt(r,2)+"."+yt(i,3)+"Z":r?"T"+yt(n,2)+":"+yt(e,2)+":"+yt(r,2)+"Z":e||n?"T"+yt(n,2)+":"+yt(e,2)+"Z":"")}var xt=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var e,r,a=i(t,function(t,i){if(e)return e(t,i-1);r=t,e=n?gt(t,n):vt(t)});return a.columns=r||[],a}function i(t,n){var r,i=[],a=t.length,o=0,u=0,s=a<=0,c=!1;function l(){if(s)return ft;if(c)return c=!1,lt;var n,r,i=o;if(t.charCodeAt(i)===ht){while(o++<a&&t.charCodeAt(o)!==ht||t.charCodeAt(++o)===ht);return(n=o)>=a?s=!0:(r=t.charCodeAt(o++))===dt?c=!0:r===pt&&(c=!0,t.charCodeAt(o)===dt&&++o),t.slice(i+1,n-1).replace(/""/g,'"')}while(o<a){if((r=t.charCodeAt(n=o++))===dt)c=!0;else if(r===pt)c=!0,t.charCodeAt(o)===dt&&++o;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,a)}t.charCodeAt(a-1)===dt&&--a,t.charCodeAt(a-1)===pt&&--a;while((r=l())!==ft){var f=[];while(r!==lt&&r!==ft)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function a(n,e){return n.map(function(n){return e.map(function(t){return l(n[t])}).join(t)})}function o(n,e){return null==e&&(e=mt(n)),[e.map(l).join(t)].concat(a(n,e)).join("\n")}function u(t,n){return null==n&&(n=mt(t)),a(t,n).join("\n")}function s(t){return t.map(c).join("\n")}function c(n){return n.map(l).join(t)}function l(t){return null==t?"":t instanceof Date?_t(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:r,parseRows:i,format:o,formatBody:u,formatRows:s}},wt=xt(","),At=(wt.parse,wt.parseRows,wt.format,wt.formatBody,wt.formatRows,xt("\t"));At.parse,At.parseRows,At.format,At.formatBody,At.formatRows;function Ot(t){const n=function(n,e){const r={delimiter:t};return kt(n,e?Object(d["m"])(e,r):r)};return n.responseType="text",n}function kt(t,n){return n.header&&(t=n.header.map(d["T"]).join(n.delimiter)+"\n"+t),xt(n.delimiter).parse(t+"")}kt.responseType="text";var Mt=e("9b0d"),Et=function(t){return t},Ct=function(t){if(null==t)return Et;var n,e,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(t,u){u||(n=e=0);var s=2,c=t.length,l=new Array(c);l[0]=(n+=t[0])*r+a,l[1]=(e+=t[1])*i+o;while(s<c)l[s]=t[s],++s;return l}},jt=function(t,n){var e,r=t.length,i=r-n;while(i<--r)e=t[i],t[i++]=t[r],t[r]=e},Dt=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return St(t,n)})}:St(t,n)};function St(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,a=Ft(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:e,properties:i,geometry:a}:{type:"Feature",id:e,bbox:r,properties:i,geometry:a}}function Ft(t,n){var e=Ct(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],a=0,o=i.length;a<o;++a)n.push(e(i[a],a));t<0&&jt(n,o)}function a(t){return e(t)}function o(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){var n=o(t);while(n.length<4)n.push(n[0]);return n}function s(t){return t.map(u)}function c(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(c)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=o(t.arcs);break;case"MultiLineString":n=t.arcs.map(o);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:e,coordinates:n}}return c(n)}var Tt=function(t,n){var e={},r={},i={},a=[],o=-1;function u(n){var e,r=t.arcs[n<0?~n:n],i=r[0];return t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1],n<0?[e,i]:[i,e]}function s(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){e[t<0?~t:t]=1}),a.push(i)}}return n.forEach(function(e,r){var i,a=t.arcs[e<0?~e:e];a.length<3&&!a[1][0]&&!a[1][1]&&(i=n[++o],n[o]=e,n[r]=i)}),n.forEach(function(t){var n,e,a=u(t),o=a[0],s=a[1];if(n=i[o])if(delete i[n.end],n.push(t),n.end=s,e=r[s]){delete r[e.start];var c=e===n?n:n.concat(e);r[c.start=n.start]=i[c.end=e.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(t),n.start=o,e=i[o]){delete i[e.end];var l=e===n?n:e.concat(n);r[l.start=e.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else n=[t],r[n.start=o]=i[n.end=s]=n}),s(i,r),s(r,i),n.forEach(function(t){e[t<0?~t:t]||a.push([t])}),a},Bt=function(t){return Ft(t,Rt.apply(this,arguments))};function Rt(t,n,e){var r,i,a;if(arguments.length>1)r=Nt(t,n,e);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Tt(t,r)}}function Nt(t,n,e){var r,i=[],a=[];function o(t){var n=t<0?~t:t;(a[n]||(a[n]=[])).push({i:t,g:r})}function u(t){t.forEach(o)}function s(t){t.forEach(u)}function c(t){t.forEach(s)}function l(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"LineString":u(t.arcs);break;case"MultiLineString":case"Polygon":s(t.arcs);break;case"MultiPolygon":c(t.arcs);break}}return l(n),a.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function Pt(t,n){var e,r,i;return t=Object(Mt["a"])(t,n),e=n&&(i=n.feature)?Dt:n&&(i=n.mesh)?Bt:Object(d["l"])("Missing TopoJSON feature or mesh parameter."),r=(r=t.objects[i])?e(t,r):Object(d["l"])("Invalid TopoJSON object: "+i),r&&r.features||[r]}Pt.responseType="json";const Lt={dsv:kt,csv:Ot(","),tsv:Ot("\t"),json:Mt["a"],topojson:Pt};function zt(t,n){return arguments.length>1?(Lt[t]=n,this):Lt.hasOwnProperty(t)?Lt[t]:null}function $t(t){const n=zt(t);return n&&n.responseType||"text"}var Ut=new Date,It=new Date;function qt(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,a){var o,u=[];if(e=i.ceil(e),a=null==a?1:Math.floor(a),!(e<r)||!(a>0))return u;do{u.push(o=new Date(+e)),n(e,a),t(e)}while(o<e&&e<r);return u},i.filter=function(e){return qt(function(n){if(n>=n)while(t(n),!e(n))n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)while(++r<=0)while(n(t,-1),!e(t));else while(--r>=0)while(n(t,1),!e(t));})},e&&(i.count=function(n,r){return Ut.setTime(+n),It.setTime(+r),t(Ut),t(It),Math.floor(e(Ut,It))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0}):i:null}),i}var Wt=qt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Wt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?qt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Wt:null};var Yt=Wt,Ht=(Wt.range,1e3),Vt=6e4,Gt=36e5,Xt=864e5,Jt=6048e5,Zt=qt(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+n*Ht)},function(t,n){return(n-t)/Ht},function(t){return t.getUTCSeconds()}),Qt=Zt,Kt=(Zt.range,qt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht)},function(t,n){t.setTime(+t+n*Vt)},function(t,n){return(n-t)/Vt},function(t){return t.getMinutes()})),tn=Kt,nn=(Kt.range,qt(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht-t.getMinutes()*Vt)},function(t,n){t.setTime(+t+n*Gt)},function(t,n){return(n-t)/Gt},function(t){return t.getHours()})),en=nn,rn=(nn.range,qt(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vt)/Xt},function(t){return t.getDate()-1})),an=rn;rn.range;function on(t){return qt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vt)/Jt})}var un=on(0),sn=on(1),cn=on(2),ln=on(3),fn=on(4),hn=on(5),dn=on(6),pn=(un.range,sn.range,cn.range,ln.range,fn.range,hn.range,dn.range,qt(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),vn=pn,gn=(pn.range,qt(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));gn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var mn=gn,yn=(gn.range,qt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Vt)},function(t,n){return(n-t)/Vt},function(t){return t.getUTCMinutes()})),bn=yn,_n=(yn.range,qt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Gt)},function(t,n){return(n-t)/Gt},function(t){return t.getUTCHours()})),xn=_n,wn=(_n.range,qt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Xt},function(t){return t.getUTCDate()-1})),An=wn;wn.range;function On(t){return qt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Jt})}var kn=On(0),Mn=On(1),En=On(2),Cn=On(3),jn=On(4),Dn=On(5),Sn=On(6),Fn=(kn.range,Mn.range,En.range,Cn.range,jn.range,Dn.range,Sn.range,qt(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),Tn=Fn,Bn=(Fn.range,qt(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Bn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?qt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Rn=Bn;Bn.range;function Nn(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Pn(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ln(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function zn(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,s=t.shortMonths,c=Zn(i),l=Qn(i),f=Zn(a),h=Qn(a),d=Zn(o),p=Qn(o),v=Zn(u),g=Qn(u),m=Zn(s),y=Qn(s),b={a:T,A:B,b:R,B:N,c:null,d:ye,e:ye,f:Ae,H:be,I:_e,j:xe,L:we,m:Oe,M:ke,p:P,Q:Ke,s:tr,S:Me,u:Ee,U:Ce,V:je,w:De,W:Se,x:null,X:null,y:Fe,Y:Te,Z:Be,"%":Qe},_={a:L,A:z,b:$,B:U,c:null,d:Re,e:Re,f:$e,H:Ne,I:Pe,j:Le,L:ze,m:Ue,M:Ie,p:I,Q:Ke,s:tr,S:qe,u:We,U:Ye,V:He,w:Ve,W:Ge,x:null,X:null,y:Xe,Y:Je,Z:Ze,"%":Qe},x={a:M,A:E,b:C,B:j,c:D,d:se,e:se,f:pe,H:le,I:le,j:ce,L:de,m:ue,M:fe,p:k,Q:ge,s:me,S:he,u:te,U:ne,V:ee,w:Kn,W:re,x:S,X:F,y:ae,Y:ie,Z:oe,"%":ve};function w(t,n){return function(e){var r,i,a,o=[],u=-1,s=0,c=t.length;e instanceof Date||(e=new Date(+e));while(++u<c)37===t.charCodeAt(u)&&(o.push(t.slice(s,u)),null!=(i=Yn[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(a=n[r])&&(r=a(e,i)),o.push(r),s=u+1);return o.push(t.slice(s,u)),o.join("")}}function A(t,n){return function(e){var r,i,a=Ln(1900),o=O(a,t,e+="",0);if(o!=e.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(r=Pn(Ln(a.y)),i=r.getUTCDay(),r=i>4||0===i?Mn.ceil(r):Mn(r),r=An.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(r=n(Ln(a.y)),i=r.getDay(),r=i>4||0===i?sn.ceil(r):sn(r),r=an.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Pn(Ln(a.y)).getUTCDay():n(Ln(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Pn(a)):n(a)}}function O(t,n,e,r){var i,a,o=0,u=n.length,s=e.length;while(o<u){if(r>=s)return-1;if(i=n.charCodeAt(o++),37===i){if(i=n.charAt(o++),a=x[i in Yn?n.charAt(o++):i],!a||(r=a(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function k(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1}function M(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1}function E(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1}function C(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1}function j(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1}function D(t,e,r){return O(t,n,e,r)}function S(t,n,r){return O(t,e,n,r)}function F(t,n,e){return O(t,r,n,e)}function T(t){return o[t.getDay()]}function B(t){return a[t.getDay()]}function R(t){return s[t.getMonth()]}function N(t){return u[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function L(t){return o[t.getUTCDay()]}function z(t){return a[t.getUTCDay()]}function $(t){return s[t.getUTCMonth()]}function U(t){return u[t.getUTCMonth()]}function I(t){return i[+(t.getUTCHours()>=12)]}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=A(t+="",Nn);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=A(t,Pn);return n.toString=function(){return t},n}}}var $n,Un,In,qn,Wn,Yn={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,Vn=/^%/,Gn=/[\\^$*+?|[\]().{}]/g;function Xn(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<e?new Array(e-a+1).join(n)+i:i)}function Jn(t){return t.replace(Gn,"\\$&")}function Zn(t){return new RegExp("^(?:"+t.map(Jn).join("|")+")","i")}function Qn(t){var n={},e=-1,r=t.length;while(++e<r)n[t[e].toLowerCase()]=e;return n}function Kn(t,n,e){var r=Hn.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function te(t,n,e){var r=Hn.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function ne(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ee(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function re(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function ie(t,n,e){var r=Hn.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ae(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function oe(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function ue(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function se(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function ce(t,n,e){var r=Hn.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function le(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function fe(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function he(t,n,e){var r=Hn.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function de(t,n,e){var r=Hn.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function pe(t,n,e){var r=Hn.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function ve(t,n,e){var r=Vn.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ge(t,n,e){var r=Hn.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function me(t,n,e){var r=Hn.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function ye(t,n){return Xn(t.getDate(),n,2)}function be(t,n){return Xn(t.getHours(),n,2)}function _e(t,n){return Xn(t.getHours()%12||12,n,2)}function xe(t,n){return Xn(1+an.count(mn(t),t),n,3)}function we(t,n){return Xn(t.getMilliseconds(),n,3)}function Ae(t,n){return we(t,n)+"000"}function Oe(t,n){return Xn(t.getMonth()+1,n,2)}function ke(t,n){return Xn(t.getMinutes(),n,2)}function Me(t,n){return Xn(t.getSeconds(),n,2)}function Ee(t){var n=t.getDay();return 0===n?7:n}function Ce(t,n){return Xn(un.count(mn(t),t),n,2)}function je(t,n){var e=t.getDay();return t=e>=4||0===e?fn(t):fn.ceil(t),Xn(fn.count(mn(t),t)+(4===mn(t).getDay()),n,2)}function De(t){return t.getDay()}function Se(t,n){return Xn(sn.count(mn(t),t),n,2)}function Fe(t,n){return Xn(t.getFullYear()%100,n,2)}function Te(t,n){return Xn(t.getFullYear()%1e4,n,4)}function Be(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Xn(n/60|0,"0",2)+Xn(n%60,"0",2)}function Re(t,n){return Xn(t.getUTCDate(),n,2)}function Ne(t,n){return Xn(t.getUTCHours(),n,2)}function Pe(t,n){return Xn(t.getUTCHours()%12||12,n,2)}function Le(t,n){return Xn(1+An.count(Rn(t),t),n,3)}function ze(t,n){return Xn(t.getUTCMilliseconds(),n,3)}function $e(t,n){return ze(t,n)+"000"}function Ue(t,n){return Xn(t.getUTCMonth()+1,n,2)}function Ie(t,n){return Xn(t.getUTCMinutes(),n,2)}function qe(t,n){return Xn(t.getUTCSeconds(),n,2)}function We(t){var n=t.getUTCDay();return 0===n?7:n}function Ye(t,n){return Xn(kn.count(Rn(t),t),n,2)}function He(t,n){var e=t.getUTCDay();return t=e>=4||0===e?jn(t):jn.ceil(t),Xn(jn.count(Rn(t),t)+(4===Rn(t).getUTCDay()),n,2)}function Ve(t){return t.getUTCDay()}function Ge(t,n){return Xn(Mn.count(Rn(t),t),n,2)}function Xe(t,n){return Xn(t.getUTCFullYear()%100,n,2)}function Je(t,n){return Xn(t.getUTCFullYear()%1e4,n,4)}function Ze(){return"+0000"}function Qe(){return"%"}function Ke(t){return+t}function tr(t){return Math.floor(+t/1e3)}function nr(t){return $n=zn(t),Un=$n.format,In=$n.parse,qn=$n.utcFormat,Wn=$n.utcParse,$n}nr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var er="%Y-%m-%dT%H:%M:%S.%LZ";function rr(t){return t.toISOString()}Date.prototype.toISOString||qn(er);function ir(t){var n=new Date(t);return isNaN(n)?null:n}+new Date("2000-01-01T00:00:00.000Z")||Wn(er);var ar=function(t,n,e){n=n||{};const r=zt(n.type||"json");return r||Object(d["l"])("Unknown data format type: "+n.type),t=r(t,n),n.parse&&or(t,n.parse,e),t.hasOwnProperty("columns")&&delete t.columns,t};function or(t,n,e){if(t.length){e=e||In;var r,i,a,o,u,s,c,l=t.columns||Object.keys(t[0]);for("auto"===n&&(n=it(t,l)),l=Object.keys(n),r=l.map(function(t){var r,i,a=n[t];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return r=a.split(/:(.+)?/,2),i=r[1],("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?Wn(i):e(i);if(!tt[a])throw Error("Illegal format pattern: "+t+":"+a);return tt[a]}),o=0,s=t.length,c=l.length;o<s;++o)for(i=t[o],u=0;u<c;++u)a=l[u],i[a]=r[u](i[a])}}var ur=V("undefined"!==typeof fetch&&fetch,null);const sr=ar;function cr(t,n,e){return this.pulse(t,this.changeset().insert(sr(n,e)))}async function lr(t,n){const e=this;let r,i=0;try{r=await e.loader().load(t,{context:"dataflow",response:$t(n&&n.type)});try{r=sr(r,n)}catch(a){i=-2,e.warn("Data ingestion failed",t,a)}}catch(a){i=-1,e.warn("Loading failed",t,a)}return{data:r,status:i}}async function fr(t,n,e){const r=this,i=r._pending||hr(r);i.requests+=1;const a=await r.request(n,e);return r.pulse(t,r.changeset().remove(d["ab"]).insert(a.data||[])),i.done(),a}function hr(t){var n,e=new Promise(function(t){n=t});return e.requests=0,e.done=function(){0===--e.requests&&(t._pending=null,n(t))},t._pending=e}var dr={skip:!0},pr=function(t,n,e,r,i){var a=t instanceof R?gr:vr;return a(this,t,n,e,r,i),this};function vr(t,n,e,r,i,a){var o,u,s=Object(d["m"])({},a,dr);Object(d["A"])(e)||(e=Object(d["j"])(e)),void 0===r?o=function(n){t.touch(e(n))}:Object(d["A"])(r)?(u=new R(null,r,i,!1),o=function(n){var r,i=e(n);u.evaluate(n),k(r=u.value)?t.pulse(i,r,a):t.update(i,r,s)}):o=function(n){t.update(e(n),r,s)},n.apply(o)}function gr(t,n,e,r,i,a){var o,u;void 0===r?u=e:(o=Object(d["A"])(r)?r:Object(d["j"])(r),r=e?function(t,n){var r=o(t,n);return e.skip()||(e.skip(r!==this.value).value=r),r}:o,u=new R(null,r,i,!1),u.modified(a&&a.force),u.rank=0,e&&(u.skip(!0),u.value=e.value,u.targets().add(e))),n.targets().add(u)}function mr(t){t.rank=++this._rank}function yr(t){var n,e,r,i=[t];while(i.length)if(this.rank(n=i.pop()),e=n._targets)for(r=e.length;--r>=0;)i.push(n=e[r]),n===t&&Object(d["l"])("Cycle detected in dataflow graph.")}var br={},_r=1,xr=2,wr=4,Ar=_r|xr,Or=_r|wr,kr=_r|xr|wr,Mr=8,Er=16,Cr=32,jr=64;function Dr(t,n,e){this.dataflow=t,this.stamp=null==n?-1:n,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=e||null}var Sr=Dr.prototype;function Fr(t,n){return t?function(e,r){return t(e,r)&&n(e,r)}:n}function Tr(t,n){var e=[];return Object(d["cb"])(t,n,function(t){e.push(t)}),e}function Br(t,n){var e={};return t.visit(n,function(t){e[b(t)]=1}),function(t){return e[b(t)]?null:t}}function Rr(t,n,e,r){var i,a,o,u,s,c=this,l=0;for(this.dataflow=t,this.stamp=n,this.fields=null,this.encode=r||null,this.pulses=e,o=0,u=e.length;o<u;++o)if(i=e[o],i.stamp===n){if(i.fields)for(s in a=c.fields||(c.fields={}),i.fields)a[s]=1;i.changed(c.ADD)&&(l|=c.ADD),i.changed(c.REM)&&(l|=c.REM),i.changed(c.MOD)&&(l|=c.MOD)}this.changes=l}Sr.StopPropagation=br,Sr.ADD=_r,Sr.REM=xr,Sr.MOD=wr,Sr.ADD_REM=Ar,Sr.ADD_MOD=Or,Sr.ALL=kr,Sr.REFLOW=Mr,Sr.SOURCE=Er,Sr.NO_SOURCE=Cr,Sr.NO_FIELDS=jr,Sr.fork=function(t){return new Dr(this.dataflow).init(this,t)},Sr.clone=function(){var t=this.fork(kr);return t.add=t.add.slice(),t.rem=t.rem.slice(),t.mod=t.mod.slice(),t.source&&(t.source=t.source.slice()),t.materialize(kr|Er)},Sr.addAll=function(){var t=this;return this.source&&this.source.length!==this.add.length?(t=new Dr(this.dataflow).init(this),t.add=t.source,t):t},Sr.init=function(t,n){var e=this;return e.stamp=t.stamp,e.encode=t.encode,!t.fields||n&jr||(e.fields=t.fields),n&_r?(e.addF=t.addF,e.add=t.add):(e.addF=null,e.add=[]),n&xr?(e.remF=t.remF,e.rem=t.rem):(e.remF=null,e.rem=[]),n&wr?(e.modF=t.modF,e.mod=t.mod):(e.modF=null,e.mod=[]),n&Cr?(e.srcF=null,e.source=null):(e.srcF=t.srcF,e.source=t.source),e},Sr.runAfter=function(t){this.dataflow.runAfter(t)},Sr.changed=function(t){var n=t||kr;return n&_r&&this.add.length||n&xr&&this.rem.length||n&wr&&this.mod.length},Sr.reflow=function(t){if(t)return this.fork(kr).reflow();var n=this.add.length,e=this.source&&this.source.length;return e&&e!==n&&(this.mod=this.source,n&&this.filter(wr,Br(this,_r))),this},Sr.modifies=function(t){var n=Object(d["g"])(t),e=this.fields||(this.fields={});return n.forEach(function(t){e[t]=!0}),this},Sr.modified=function(t){var n=this.fields;return!(!this.mod.length||!n)&&(arguments.length?Object(d["x"])(t)?t.some(function(t){return n[t]}):n[t]:!!n)},Sr.filter=function(t,n){var e=this;return t&_r&&(e.addF=Fr(e.addF,n)),t&xr&&(e.remF=Fr(e.remF,n)),t&wr&&(e.modF=Fr(e.modF,n)),t&Er&&(e.srcF=Fr(e.srcF,n)),e},Sr.materialize=function(t){t=t||kr;var n=this;return t&_r&&n.addF&&(n.add=Tr(n.add,n.addF),n.addF=null),t&xr&&n.remF&&(n.rem=Tr(n.rem,n.remF),n.remF=null),t&wr&&n.modF&&(n.mod=Tr(n.mod,n.modF),n.modF=null),t&Er&&n.srcF&&(n.source=n.source.filter(n.srcF),n.srcF=null),n},Sr.visit=function(t,n){var e,r,i=this,a=n;return t&Er?(Object(d["cb"])(i.source,i.srcF,a),i):(t&_r&&Object(d["cb"])(i.add,i.addF,a),t&xr&&Object(d["cb"])(i.rem,i.remF,a),t&wr&&Object(d["cb"])(i.mod,i.modF,a),t&Mr&&(e=i.source)&&(r=i.add.length+i.mod.length,r===e.length||(r?Object(d["cb"])(e,Br(i,Or),a):Object(d["cb"])(e,i.srcF,a))),i)};var Nr=Object(d["v"])(Rr,Dr);async function Pr(t,n,e){const r=this,i=r.logLevel();if(r._pulse)return Ur(r);if(r._pending&&await r._pending,n&&await v(r,n),!r._touched.length)return r.info("Dataflow invoked, but nothing to do."),r;let a,o,u,s,c=++r._clock,l=0;r._pulse=new Dr(r,c,t),i>=d["c"]&&(u=Date.now(),r.debug("-- START PROPAGATION ("+c+") -----")),r._touched.forEach(function(t){r._enqueue(t,!0)}),r._touched=p(d["t"]);try{while(r._heap.size()>0)a=r._heap.pop(),a.rank===a.qrank?(o=a.run(r._getPulse(a,t)),o.then&&(o=await o),i>=d["a"]&&r.debug(a.id,o===br?"STOP":o,a),o!==br&&(r._pulse=o,a._targets&&a._targets.forEach(t=>r._enqueue(t))),++l):r._enqueue(a,!0)}catch(f){s=f}if(r._pulses={},r._pulse=null,i>=d["c"]&&(u=Date.now()-u,r.info("> Pulse "+c+": "+l+" operators; "+u+"ms")),s&&(r._postrun=[],r.error(s)),r._postrun.length){const t=r._postrun;r._postrun=[],t.sort((t,n)=>n.priority-t.priority).forEach(async function(t){await v(r,t.callback)})}return e&&await v(r,e),r}async function Lr(t,n,e){while(this._running)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(t,n,e)).then(r,r),this._running}function zr(t,n,e){return this._pulse?Ur(this):(this.evaluate(t,n,e),this)}function $r(t,n,e){if(this._pulse||n)this._postrun.push({priority:e||0,callback:t});else try{t(this)}catch(r){this.error(r)}}function Ur(t){return t.error("Dataflow already running. Use runAsync() to chain invocations."),t}function Ir(t,n){var e=!this._pulses[t.id];e&&(this._pulses[t.id]=this._pulse),(e||n)&&(t.qrank=t.rank,this._heap.push(t))}function qr(t,n){var e,r=t.source,i=this._clock;return r&&Object(d["x"])(r)?(e=r.map(function(t){return t.pulse}),new Rr(this,i,e,n)):(e=this._pulses[t.id],r&&(r=r.pulse,r&&r!==br?r.stamp===i&&e.target!==t?e=r:e.source=r.source:e.source=[]),e)}Nr.fork=function(t){var n=new Dr(this.dataflow).init(this,t&this.NO_FIELDS);return void 0!==t&&(t&n.ADD&&this.visit(n.ADD,function(t){return n.add.push(t)}),t&n.REM&&this.visit(n.REM,function(t){return n.rem.push(t)}),t&n.MOD&&this.visit(n.MOD,function(t){return n.mod.push(t)})),n},Nr.changed=function(t){return this.changes&t},Nr.modified=function(t){var n=this,e=n.fields;return e&&n.changes&n.MOD?Object(d["x"])(t)?t.some(function(t){return e[t]}):e[t]:0},Nr.filter=function(){Object(d["l"])("MultiPulse does not support filtering.")},Nr.materialize=function(){Object(d["l"])("MultiPulse does not support materialization.")},Nr.visit=function(t,n){var e=this,r=e.pulses,i=r.length,a=0;if(t&e.SOURCE)for(;a<i;++a)r[a].visit(t,n);else for(;a<i;++a)r[a].stamp===e.stamp&&r[a].visit(t,n);return e};var Wr={skip:!1,force:!1};function Yr(t,n){var e=n||Wr;return this._pulse?this._enqueue(t):this._touched.add(t),e.skip&&t.skip(!0),this}function Hr(t,n,e){var r=e||Wr;return(t.set(n)||r.force)&&this.touch(t,r),this}function Vr(t,n,e){this.touch(t,e||Wr);var r=new Dr(this,this._clock+(this._pulse?0:1)),i=t.pulse&&t.pulse.source||[];return r.target=t,this._pulses[t.id]=n.pulse(r,i),this}function Gr(t){this.cmp=t,this.nodes=[]}var Xr=Gr.prototype;function Jr(t,n,e,r){var i,a,o;i=t[e];while(e>n){if(o=e-1>>1,a=t[o],!(r(i,a)<0))break;t[e]=a,e=o}return t[e]=i}function Zr(t,n,e){var r,i=n,a=t.length,o=t[n],u=2*n+1;while(u<a)r=u+1,r<a&&e(t[u],t[r])>=0&&(u=r),t[n]=t[u],n=u,u=2*n+1;return t[n]=o,Jr(t,i,n,e)}function Qr(){this._log=Object(d["H"])(),this.logLevel(d["b"]),this._clock=0,this._rank=0;try{this._loader=ur()}catch(t){}this._touched=p(d["t"]),this._pulses={},this._pulse=null,this._heap=new Gr(function(t,n){return t.qrank-n.qrank}),this._postrun=[]}Xr.size=function(){return this.nodes.length},Xr.clear=function(){return this.nodes=[],this},Xr.peek=function(){return this.nodes[0]},Xr.push=function(t){var n=this.nodes;return n.push(t),Jr(n,0,n.length-1,this.cmp)},Xr.pop=function(){var t,n=this.nodes,e=n.pop();return n.length?(t=n[0],n[0]=e,Zr(n,0,this.cmp)):t=e,t},Xr.replace=function(t){var n=this.nodes,e=n[0];return n[0]=t,Zr(n,0,this.cmp),e},Xr.pushpop=function(t){var n=this.nodes,e=n[0];return n.length&&this.cmp(e,t)<0&&(n[0]=t,t=e,Zr(n,0,this.cmp)),t};var Kr=Qr.prototype;function ti(t){return function(){return this._log[t].apply(this,arguments)}}function ni(t,n){R.call(this,t,null,n)}Kr.stamp=function(){return this._clock},Kr.loader=function(t){return arguments.length?(this._loader=t,this):this._loader},Kr.cleanThreshold=1e4,Kr.add=L,Kr.connect=z,Kr.rank=mr,Kr.rerank=yr,Kr.pulse=Vr,Kr.touch=Yr,Kr.update=Hr,Kr.changeset=M,Kr.ingest=cr,Kr.parse=sr,Kr.preload=fr,Kr.request=lr,Kr.events=W,Kr.on=pr,Kr.evaluate=Pr,Kr.run=zr,Kr.runAsync=Lr,Kr.runAfter=$r,Kr._enqueue=Ir,Kr._getPulse=qr,Kr.error=ti("error"),Kr.warn=ti("warn"),Kr.info=ti("info"),Kr.debug=ti("debug"),Kr.logLevel=ti("level");var ei=Object(d["v"])(ni,R);ei.run=function(t){return t.stamp<=this.stamp?t.StopPropagation:(this.skip()?this.skip(!1):n=this.evaluate(t),n=n||t,this.stamp=t.stamp,n.then?n=n.then(t=>this.pulse=t):n!==t.StopPropagation&&(this.pulse=n),n);var n},ei.evaluate=function(t){var n=this.marshall(t.stamp),e=this.transform(n,t);return n.clear(),e},ei.transform=function(){};var ri={};function ii(t){var n=ai(t);return n&&n.Definition||null}function ai(t){return t=t&&t.toLowerCase(),ri.hasOwnProperty(t)?ri[t]:null}function oi(t){return function(n){for(var e=t.length,r=1,i=String(t[0](n));r<e;++r)i+="|"+t[r](n);return i}}function ui(t){return t&&t.length?1===t.length?t[0]:oi(t):function(){return""}}function si(t,n,e){return e||t+(n?"_"+n:"")}var ci={values:hi({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:hi({name:"count",set:"cell.num"}),__count__:hi({name:"count",set:"this.missing + this.valid"}),missing:hi({name:"missing",set:"this.missing"}),valid:hi({name:"valid",set:"this.valid"}),sum:hi({name:"sum",init:"this.sum = 0;",add:"this.sum += +v;",rem:"this.sum -= v;",set:"this.sum"}),mean:hi({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.valid ? this.mean : undefined"}),average:hi({name:"average",set:"this.valid ? this.mean : undefined",req:["mean"],idx:1}),variance:hi({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : undefined",req:["mean"],idx:1}),variancep:hi({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : undefined",req:["variance"],idx:2}),stdev:hi({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : undefined",req:["variance"],idx:2}),stdevp:hi({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : undefined",req:["variance"],idx:2}),stderr:hi({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : undefined",req:["variance"],idx:2}),distinct:hi({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:hi({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:hi({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:hi({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:hi({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:hi({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:hi({name:"argmin",init:"this.argmin = undefined;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = undefined;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:hi({name:"argmax",init:"this.argmax = undefined;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = undefined;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:hi({name:"min",init:"this.min = undefined;",add:"if (v < this.min || this.min === undefined) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:hi({name:"max",init:"this.max = undefined;",add:"if (v > this.max || this.max === undefined) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},li=Object.keys(ci);function fi(t,n){return ci[t](n)}function hi(t){return function(n){var e=Object(d["m"])({init:"",add:"",rem:"",idx:0},t);return e.out=n||t.name,e}}function di(t,n){return t.idx-n.idx}function pi(t,n){function e(t,r){function i(n){t[n]||e(t,t[n]=ci[n]())}return r.req&&r.req.forEach(i),n&&r.str&&r.str.forEach(i),t}var r,i=t.reduce(e,t.reduce(function(t,n){return t[n.name]=n,t},{})),a=[];for(r in i)a.push(i[r]);return a.sort(di)}function vi(t,n){var e=n||d["u"],r=pi(t,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",u="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",s="var cell = this.cell;";return r.forEach(function(t){i+=t.init,o+=t.add,u+=t.rem}),t.slice().sort(di).forEach(function(t){s+="t['"+t.out+"']="+t.set+";"}),s+="return t;",a=Function("cell",a),a.prototype.init=Function(i),a.prototype.add=Function("v","t",o),a.prototype.rem=Function("v","t",u),a.prototype.set=Function("t",s),a.prototype.get=e,a.fields=t.map(function(t){return t.out}),a}var gi=function(t){var n,e,r,i,a,o,u,s,c=t.maxbins||20,l=t.base||10,f=Math.log(l),h=t.divide||[5,2],d=t.extent[0],p=t.extent[1],v=p-d;if(t.step)n=t.step;else if(t.steps){for(a=v/c,o=0,u=t.steps.length;o<u&&t.steps[o]<a;++o);n=t.steps[Math.max(0,o-1)]}else{e=Math.ceil(Math.log(c)/f),r=t.minstep||0,n=Math.max(r,Math.pow(l,Math.round(Math.log(v)/f)-e));while(Math.ceil(v/n)>c)n*=l;for(o=0,u=h.length;o<u;++o)a=n/h[o],a>=r&&v/a<=c&&(n=a)}return a=Math.log(n),i=a>=0?0:1+~~(-a/f),s=Math.pow(l,-i-1),(t.nice||void 0===t.nice)&&(a=Math.floor(d/n+s)*n,d=d<a?a-n:a,p=Math.ceil(p/n)*n),{start:d,stop:p,step:n}},mi=function(t,n){var e,r=[],i=t.length,a=-1;if(null==n)while(++a<i)isNaN(e=yi(t[a]))||r.push(e);else while(++a<i)isNaN(e=yi(n(t[a],a,t)))||r.push(e);return r};function yi(t){return null===t?NaN:+t}var bi=Math.random;var _i=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},xi=function(t){return 1===t.length&&(t=wi(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};function wi(t){return function(n,e){return _i(t(n),e)}}var Ai=xi(_i),Oi=Ai.right,ki=Ai.left,Mi=Oi;function Ei(t,n){let e,r=0,i=0,a=0;if(void 0===n)for(let o of t)null!=o&&(o=+o)>=o&&(e=o-i,i+=e/++r,a+=e*(o-i));else{let o=-1;for(let u of t)null!=(u=n(u,++o,t))&&(u=+u)>=u&&(e=u-i,i+=e/++r,a+=e*(u-i))}if(r>1)return a/(r-1)}var Ci=function(t,n){let e,r;if(void 0===n)for(let i of t)null!=i&&i>=i&&(void 0===e?e=r=i:(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&a>=a&&(void 0===e?e=r=a:(e>a&&(e=a),r<a&&(r=a)))}return[e,r]};var ji=Array.prototype,Di=(ji.slice,ji.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);while(++r<i)a[r]=t+r*e;return a}),Si=Math.sqrt(50),Fi=Math.sqrt(10),Ti=Math.sqrt(2);function Bi(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Si?i*=10:a>=Fi?i*=5:a>=Ti&&(i*=2),n<t?-i:i}var Ri=function(t){return null===t?NaN:+t};function Ni(t,n,e=Ri){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),u=+e(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function Pi(t,n){let e;if(void 0===n)for(let r of t)null!=r&&r>=r&&(void 0===e||e<r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e<i)&&(e=i)}return e}function Li(t,n){let e=0,r=0;if(void 0===n)for(let i of t)null!=i&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let a of t)null!=(a=n(a,++i,t))&&(a=+a)>=a&&(++e,r+=a)}if(e)return r/e}function zi(t,n,e=0,r=t.length-1,i=_i){while(r>e){if(r-e>600){const a=r-e+1,o=n-e+1,u=Math.log(a),s=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1),l=Math.max(e,Math.floor(n-o*s/a+c)),f=Math.min(r,Math.floor(n+(a-o)*s/a+c));zi(t,n,l,f,i)}const a=t[n];let o=e,u=r;$i(t,e,n),i(t[r],a)>0&&$i(t,e,r);while(o<u){$i(t,o,u),++o,--u;while(i(t[o],a)<0)++o;while(i(t[u],a)>0)--u}0===i(t[e],a)?$i(t,e,u):(++u,$i(t,u,r)),u<=n&&(e=u+1),n<=u&&(r=u-1)}return t}function $i(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function*Ui(t,n){if(void 0===n)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}var Ii=function(t,n){if(t=Float64Array.from(Ui(t,n)),!t.length)return;const e=t.length,r=e>>1;return zi(t,r-1,0),0===(1&e)&&zi(t,r,r),Ni(t,.5)};function qi(t,n){let e;if(void 0===n)for(let r of t)null!=r&&r>=r&&(void 0===e||e>r)&&(e=r);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&i>=i&&(void 0===e||e>i)&&(e=i)}return e}var Wi=function(t,n){var e=n.length,r=new Array(e);while(e--)r[e]=t[n[e]];return r};function Yi(t,n){let e=0;if(void 0===n)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}var Hi=function(t,n,e,r){if(!t.length)return[void 0,void 0];var i,a,o,u,s=mi(t,r),c=s.length,l=n;for(o=0,u=Array(l);o<l;++o){for(i=0,a=0;a<c;++a)i+=s[~~(bi()*c)];u[o]=i/c}return[Ni(u.sort(_i),e/2),Ni(u,1-e/2)]},Vi=function(t,n){var e=mi(t,n);return[Ni(e.sort(_i),.25),Ni(e,.5),Ni(e,.75)]},Gi=function(t,n){var e,r,i=NaN,a={mean:function(t){return arguments.length?(e=t||0,i=NaN,a):e},stdev:function(t){return arguments.length?(r=null==t?1:t,i=NaN,a):r},sample:function(){var t,n,a=0,o=0;if(i===i)return a=i,i=NaN,a;do{a=2*bi()-1,o=2*bi()-1,t=a*a+o*o}while(0===t||t>1);return n=Math.sqrt(-2*Math.log(t)/t),i=e+o*n*r,e+a*n*r},pdf:function(t){var n=Math.exp(Math.pow(t-e,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*n},cdf:function(t){var n,i=(t-e)/r,a=Math.abs(i);if(a>37)n=0;else{var o,u=Math.exp(-a*a/2);a<7.07106781186547?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,n=u*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,n/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,n=u/o/2.506628274631)}return i>0?1-n:n},icdf:function(t){if(t<=0||t>=1)return NaN;var n=2*t-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(n,2))/2,o=Math.log(1-n*n)/i,u=(n>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return e+r*Math.SQRT2*u}};return a.mean(t).stdev(n)},Xi=function(t,n){var e=Gi(),r={},i=0;return r.data=function(e){return arguments.length?(t=e,i=e?e.length:0,r.bandwidth(n)):t},r.bandwidth=function(e){return arguments.length?(n=e,!n&&t&&(n=Ji(t)),r):n},r.sample=function(){return t[~~(bi()*i)]+n*e.sample()},r.pdf=function(r){for(var a=0,o=0;o<i;++o)a+=e.pdf((r-t[o])/n);return a/n/i},r.cdf=function(r){for(var a=0,o=0;o<i;++o)a+=e.cdf((r-t[o])/n);return a/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(t)};function Ji(t){var n=t.length,e=Vi(t),r=(e[2]-e[0])/1.34;return 1.06*Math.min(Math.sqrt(Ei(t)),r)*Math.pow(n,-.2)}var Zi=function(t,n){var e,r={},i=0;function a(t){var n,e=[],r=0;for(n=0;n<i;++n)r+=e[n]=null==t[n]?1:+t[n];for(n=0;n<i;++n)e[n]/=r;return e}return r.weights=function(t){return arguments.length?(e=a(n=t||[]),r):n},r.distributions=function(e){return arguments.length?(e?(i=e.length,t=e):(i=0,t=[]),r.weights(n)):t},r.sample=function(){for(var n=bi(),r=t[i-1],a=e[0],o=0;o<i-1;a+=e[++o])if(n<a){r=t[o];break}return r.sample()},r.pdf=function(n){for(var r=0,a=0;a<i;++a)r+=e[a]*t[a].pdf(n);return r},r.cdf=function(n){for(var r=0,a=0;a<i;++a)r+=e[a]*t[a].cdf(n);return r},r.icdf=function(){throw Error("Mixture icdf not supported.")},r.distributions(t).weights(n)},Qi=function(t,n){null==n&&(n=null==t?1:t,t=0);var e,r,i,a={};return a.min=function(t){return arguments.length?(e=t||0,i=r-e,a):e},a.max=function(t){return arguments.length?(r=t||0,i=r-e,a):r},a.sample=function(){return e+i*bi()},a.pdf=function(t){return t>=e&&t<=r?1/i:0},a.cdf=function(t){return t<e?0:t>r?1:(t-e)/i},a.icdf=function(t){return t>=0&&t<=1?e+t*i:NaN},a.min(t).max(n)};function Ki(t){this._key=t?Object(d["r"])(t):b,this.reset()}var ta=Ki.prototype;function na(t){ni.call(this,null,t),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}ta.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},ta.add=function(t){this._add.push(t)},ta.rem=function(t){this._rem.push(t)},ta.values=function(){if(this._get=null,0===this._rem.length)return this._add;var t,n,e,r=this._add,i=this._rem,a=this._key,o=r.length,u=i.length,s=Array(o-u),c={};for(t=0;t<u;++t)c[a(i[t])]=1;for(t=0,n=0;t<o;++t)c[a(e=r[t])]?c[a(e)]=0:s[n++]=e;return this._rem=[],this._add=s},ta.distinct=function(t){var n,e=this.values(),r=e.length,i={},a=0;while(--r>=0)n=t(e[r])+"",i.hasOwnProperty(n)||(i[n]=1,++a);return a},ta.extent=function(t){if(this._get!==t||!this._ext){var n=this.values(),e=Object(d["o"])(n,t);this._ext=[n[e[0]],n[e[1]]],this._get=t}return this._ext},ta.argmin=function(t){return this.extent(t)[0]||{}},ta.argmax=function(t){return this.extent(t)[1]||{}},ta.min=function(t){var n=this.extent(t)[0];return null!=n?t(n):void 0},ta.max=function(t){var n=this.extent(t)[1];return null!=n?t(n):void 0},ta.quartile=function(t){return this._get===t&&this._q||(this._q=Vi(this.values(),t),this._get=t),this._q},ta.q1=function(t){return this.quartile(t)[0]},ta.q2=function(t){return this.quartile(t)[1]},ta.q3=function(t){return this.quartile(t)[2]},ta.ci=function(t){return this._get===t&&this._ci||(this._ci=Hi(this.values(),1e3,.05,t),this._get=t),this._ci},ta.ci0=function(t){return this.ci(t)[0]},ta.ci1=function(t){return this.ci(t)[1]},na.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:li},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var ea=Object(d["v"])(na,ni);function ra(t){ni.call(this,null,t)}ea.transform=function(t,n){var e,r=this,i=n.fork(n.NO_SOURCE|n.NO_FIELDS);return this.stamp=i.stamp,this.value&&((e=t.modified())||n.modified(this._inputs))?(this._prev=this.value,this.value=e?this.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(this.value=this.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),i.modifies(this._outputs),r._drop=!1!==t.drop,t.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},ea.cross=function(){var t=this,n=t.value,e=t._dnames,r=e.map(function(){return{}}),i=e.length;function a(t){var n,a,o,u;for(n in t)for(o=t[n].tuple,a=0;a<i;++a)r[a][u=o[e[a]]]=u}function o(a,u,s){var c,l,f=e[s],h=r[s++];for(c in h)u[f]=h[c],l=a?a+"|"+c:c,s<i?o(l,u,s):n[l]||t.cell(l,u)}a(t._prev),a(n),o("",{},0)},ea.init=function(t){var n=this._inputs=[],e=this._outputs=[],r={};function i(t){for(var e,i=Object(d["g"])(Object(d["e"])(t)),a=0,o=i.length;a<o;++a)r[e=i[a]]||(r[e]=1,n.push(e))}this._dims=Object(d["g"])(t.groupby),this._dnames=this._dims.map(function(t){var n=Object(d["f"])(t);return i(t),e.push(n),n}),this.cellkey=t.key?t.key:ui(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var a,o,u,s,c,l,f=t.fields||[null],h=t.ops||["count"],p=t.as||[],v=f.length,g={};for(v!==h.length&&Object(d["l"])("Unmatched number of fields and aggregate ops."),l=0;l<v;++l)a=f[l],o=h[l],null==a&&"count"!==o&&Object(d["l"])("Null aggregate field specified."),s=Object(d["f"])(a),c=si(o,s,p[l]),e.push(c),"count"!==o?(u=g[s],u||(i(a),u=g[s]=[],u.field=a,this._measures.push(u)),"count"!==o&&(this._countOnly=!1),u.push(fi(o,c))):this._counts.push(c);return this._measures=this._measures.map(function(t){return vi(t,t.field)}),{}},ea.cellkey=ui(),ea.cell=function(t,n){var e=this.value[t];return e?0===e.num&&this._drop&&e.stamp<this.stamp?(e.stamp=this.stamp,this._adds[this._alen++]=e):e.stamp<this.stamp&&(e.stamp=this.stamp,this._mods[this._mlen++]=e):(e=this.value[t]=this.newcell(t,n),this._adds[this._alen++]=e),e},ea.newcell=function(t,n){var e={key:t,num:0,agg:null,tuple:this.newtuple(n,this._prev&&this._prev[t]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(e.agg=Array(a),r=0;r<a;++r)e.agg[r]=new i[r](e)}return e.store&&(e.data=new Ki),e},ea.newtuple=function(t,n){var e,r,i=this._dnames,a=this._dims,o={};for(e=0,r=a.length;e<r;++e)o[i[e]]=a[e](t);return n?O(n.tuple,o):x(o)},ea.add=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(t),n=a.agg,e=0,r=n.length;e<r;++e)n[e].add(n[e].get(t),t)},ea.rem=function(t){var n,e,r,i=this.cellkey(t),a=this.cell(i,t);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(t),n=a.agg,e=0,r=n.length;e<r;++e)n[e].rem(n[e].get(t),t)},ea.celltuple=function(t){var n,e,r,i=t.tuple,a=this._counts;for(t.store&&t.data.values(),e=0,r=a.length;e<r;++e)i[a[e]]=t.num;if(!this._countOnly)for(n=t.agg,e=0,r=n.length;e<r;++e)n[e].set(i);return i},ea.changes=function(t){var n,e,r,i,a=this._adds,o=this._mods,u=this._prev,s=this._drop,c=t.add,l=t.rem,f=t.mod;if(u)for(e in u)n=u[e],s&&!n.num||l.push(n.tuple);for(r=0,i=this._alen;r<i;++r)c.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)n=o[r],(0===n.num&&s?l:f).push(this.celltuple(n)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,t},ra.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var ia=Object(d["v"])(ra,ni);ia.transform=function(t,n){var e,r=this._bins(t),i=r.start,a=r.step,o=t.as||["bin0","bin1"],u=o[0],s=o[1];return t.modified()?(n=n.reflow(!0),e=n.SOURCE):e=n.modified(Object(d["e"])(t.field))?n.ADD_MOD:n.ADD,n.visit(e,function(t){var n=r(t);t[u]=n,t[s]=null==n?null:i+a*(1+(n-i)/a)}),n.modifies(o)},ia._bins=function(t){if(this.value&&!t.modified())return this.value;var n,e,r=t.field,i=gi(t),a=i.start,o=i.stop,u=i.step;null!=(n=t.anchor)&&(e=n-(a+u*Math.floor((n-a)/u)),a+=e,o+=e);var s=function(t){var n=r(t);return null==n?null:(n=Math.max(a,Math.min(+n,o-u)),a+u*Math.floor((n-a)/u))};return s.start=a,s.stop=o,s.step=u,this.value=Object(d["d"])(s,Object(d["e"])(r),t.name||"bin_"+Object(d["f"])(r))};var aa=function(t,n,e){var r=t,i=n||[],a=e||[],o={},u=0;return{add:function(t){a.push(t)},remove:function(t){o[r(t)]=++u},size:function(){return i.length},data:function(t,n){return u&&(i=i.filter(function(t){return!o[r(t)]}),o={},u=0),n&&t&&i.sort(t),a.length&&(i=t?Object(d["I"])(t,i,a.sort(t)):i.concat(a),a=[]),i}}};function oa(t){ni.call(this,[],t)}oa.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};var ua=Object(d["v"])(oa,ni);function sa(t){R.call(this,null,ca,t)}function ca(t){return this.value&&!t.modified()?this.value:Object(d["i"])(t.fields,t.orders)}function la(t){ni.call(this,null,t)}function fa(t,n,e){switch(n){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break}return t.match(e)}ua.transform=function(t,n){var e=n.fork(n.ALL),r=aa(b,this.value,e.materialize(e.ADD).add),i=t.sort,a=n.changed()||i&&(t.modified("sort")||n.modified(i.fields));return e.visit(e.REM,r.remove),this.modified(a),this.value=e.source=r.data(i,a),n.source&&n.source.root&&(this.value.root=n.source.root),e},Object(d["v"])(sa,R),la.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var ha=Object(d["v"])(la,ni);function da(t){ni.call(this,null,t)}ha.transform=function(t,n){function e(n){return function(e){for(var r,i=fa(u(e),t.case,a)||[],s=0,c=i.length;s<c;++s)o.test(r=i[s])||n(r)}}var r=this._parameterCheck(t,n),i=this._counts,a=this._match,o=this._stop,u=t.field,s=t.as||["text","count"],c=e(function(t){i[t]=1+(i[t]||0)}),l=e(function(t){i[t]-=1});return r?n.visit(n.SOURCE,c):(n.visit(n.ADD,c),n.visit(n.REM,l)),this._finish(n,s)},ha._parameterCheck=function(t,n){var e=!1;return!t.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(t.stopwords||"")+"$","i"),e=!0),!t.modified("pattern")&&this._match||(this._match=new RegExp(t.pattern||"[\\w']+","g"),e=!0),(t.modified("field")||n.modified(t.field.fields))&&(e=!0),e&&(this._counts={}),e},ha._finish=function(t,n){var e,r,i,a=this._counts,o=this._tuples||(this._tuples={}),u=n[0],s=n[1],c=t.fork(t.NO_SOURCE|t.NO_FIELDS);for(e in a)r=o[e],i=a[e]||0,!r&&i?(o[e]=r=x({}),r[u]=e,r[s]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),a[e]=null,o[e]=null):r[s]!==i&&(r[s]=i,c.mod.push(r));return c.modifies(n)},da.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};var pa=Object(d["v"])(da,ni);function va(t,n,e,r){for(var i,a,o=[],u={},s=t.length,c=0;c<s;++c)for(u[n]=a=t[c],i=0;i<s;++i)u[e]=t[i],r(u)&&(o.push(x(u)),u={},u[n]=a);return o}pa.transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=this.value,i=t.as||["a","b"],a=i[0],o=i[1],u=!r||n.changed(n.ADD_REM)||t.modified("as")||t.modified("filter");return u?(r&&(e.rem=r),r=n.materialize(n.SOURCE).source,e.add=this.value=va(r,a,o,t.filter||d["ab"])):e.mod=r,e.source=this.value,e.modifies(i)};var ga={kde:Xi,mixture:Zi,normal:Gi,uniform:Qi},ma="distributions",ya="function",ba="field";function _a(t,n){var e=t[ya];ga.hasOwnProperty(e)||Object(d["l"])("Unknown distribution function: "+e);var r=ga[e]();for(var i in t)i===ba?r.data((t.from||n()).map(t[i])):i===ma?r[i](t[i].map(function(t){return _a(t,n)})):typeof r[i]===ya&&r[i](t[i]);return r}function xa(t){ni.call(this,null,t)}var wa=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Aa={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:wa},{name:"weights",type:"number",array:!0}]};xa.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:wa.concat(Aa)},{name:"as",type:"string",array:!0,default:["value","density"]}]};var Oa=Object(d["v"])(xa,ni);function ka(t){return function(){return t.materialize(t.SOURCE).source}}function Ma(t){R.call(this,null,Ea,t),this.modified(!0)}function Ea(t){var n=t.expr;return this.value&&!t.modified("expr")?this.value:Object(d["d"])(function(e){return n(e,t)},Object(d["e"])(n),Object(d["f"])(n))}function Ca(t){ni.call(this,[void 0,void 0],t)}Oa.transform=function(t,n){var e=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||t.modified()){var r=_a(t.distribution,ka(n)),i=t.method||"pdf";"pdf"!==i&&"cdf"!==i&&Object(d["l"])("Invalid density method: "+i),t.extent||r.data||Object(d["l"])("Missing density extent parameter."),i=r[i];var a=t.as||["value","density"],o=t.extent||Ci(r.data()),u=(o[1]-o[0])/(t.steps||100),s=Di(o[0],o[1]+u/2,u).map(function(t){var n={};return n[a[0]]=t,n[a[1]]=i(t),x(n)});this.value&&(e.rem=this.value),this.value=e.add=e.source=s}return e},Object(d["v"])(Ma,R),Ca.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};var ja=Object(d["v"])(Ca,ni);function Da(t,n){R.call(this,t),this.parent=n}ja.transform=function(t,n){var e,r=this.value,i=t.field,a=r[0],o=r[1];e=n.changed()||n.modified(i.fields)||t.modified("field"),(e||null==a)&&(a=1/0,o=-1/0),n.visit(e?n.SOURCE:n.ADD,function(t){var n=i(t);null!=n&&(n=+n,n<a&&(a=n),n>o&&(o=n))}),isFinite(a)&&isFinite(o)||(a=o=void 0),this.value=[a,o]};var Sa=Object(d["v"])(Da,R);function Fa(t){ni.call(this,{},t),this._keys=Object(d["q"])();var n=this._targets=[];n.active=0,n.forEach=function(t){for(var e=0,r=n.active;e<r;++e)t(n[e],e,n)}}Sa.connect=function(t){return this.targets().add(t),t.source=this},Sa.add=function(t){this.value.add.push(t)},Sa.rem=function(t){this.value.rem.push(t)},Sa.mod=function(t){this.value.mod.push(t)},Sa.init=function(t){this.value.init(t,t.NO_SOURCE)},Sa.evaluate=function(){return this.value};var Ta=Object(d["v"])(Fa,ni);function Ba(t){R.call(this,null,Ra,t)}function Ra(t){return this.value&&!t.modified()?this.value:Object(d["x"])(t.name)?Object(d["g"])(t.name).map(function(t){return Object(d["r"])(t)}):Object(d["r"])(t.name,t.as)}function Na(t){ni.call(this,Object(d["q"])(),t)}Ta.activate=function(t){this._targets[this._targets.active++]=t},Ta.subflow=function(t,n,e,r){var i,a,o=this.value,u=o.hasOwnProperty(t)&&o[t];return u?u.value.stamp<e.stamp&&(u.init(e),this.activate(u)):(a=r||(a=this._group[t])&&a.tuple,i=e.dataflow,u=i.add(new Da(e.fork(e.NO_SOURCE),this)).connect(n(i,t,a)),o[t]=u,this.activate(u)),u},Ta.transform=function(t,n){var e=n.dataflow,r=this,i=t.key,a=t.subflow,o=this._keys,u=t.modified("key");function s(t){return r.subflow(t,a,n)}return this._group=t.group||{},this._targets.active=0,n.visit(n.REM,function(t){var n=b(t),e=o.get(n);void 0!==e&&(o.delete(n),s(e).rem(t))}),n.visit(n.ADD,function(t){var n=i(t);o.set(b(t),n),s(n).add(t)}),u||n.modified(i.fields)?n.visit(n.MOD,function(t){var n=b(t),e=o.get(n),r=i(t);e===r?s(r).mod(t):(o.set(n,r),s(e).rem(t),s(r).add(t))}):n.changed(n.MOD)&&n.visit(n.MOD,function(t){s(o.get(b(t))).mod(t)}),u&&n.visit(n.REFLOW,function(t){var n=b(t),e=o.get(n),r=i(t);e!==r&&(o.set(n,r),s(e).rem(t),s(r).add(t))}),o.empty>e.cleanThreshold&&e.runAfter(o.clean),n},Object(d["v"])(Ba,R),Na.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};var Pa=Object(d["v"])(Na,ni);function La(t,n){return t?t.map(function(t,e){return n[e]||Object(d["f"])(t)}):null}function za(t){ni.call(this,[],t)}Pa.transform=function(t,n){var e=n.dataflow,r=this.value,i=n.fork(),a=i.add,o=i.rem,u=i.mod,s=t.expr,c=!0;function l(n){var e=b(n),i=s(n,t),l=r.get(e);i&&l?(r.delete(e),a.push(n)):i||l?c&&i&&!l&&u.push(n):(r.set(e,1),o.push(n))}return n.visit(n.REM,function(t){var n=b(t);r.has(n)?r.delete(n):o.push(t)}),n.visit(n.ADD,function(n){s(n,t)?a.push(n):r.set(b(n),1)}),n.visit(n.MOD,l),t.modified()&&(c=!1,n.visit(n.REFLOW,l)),r.empty>e.cleanThreshold&&e.runAfter(r.clean),i},za.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0}]};var $a=Object(d["v"])(za,ni);function Ua(t){ni.call(this,[],t)}$a.transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=t.fields,i=La(r,t.as||[]),a=i.length;return e.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,o,u,s=r.map(function(n){return n(t)}),c=s.reduce(function(t,n){return Math.max(t,n.length)},0),l=0;l<c;++l){for(o=w(t),n=0;n<a;++n)o[i[n]]=null==(u=s[n][l])?null:u;e.add.push(o)}}),this.value=e.source=e.add,e.modifies(i)},Ua.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};var Ia=Object(d["v"])(Ua,ni);function qa(t){ni.call(this,null,t)}Ia.transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=t.fields,i=r.map(d["f"]),a=t.as||["key","value"],o=a[0],u=a[1],s=r.length;return e.rem=this.value,n.visit(n.SOURCE,function(t){for(var n,a=0;a<s;++a)n=w(t),n[o]=i[a],n[u]=r[a](t),e.add.push(n)}),this.value=e.source=e.add,e.modifies(a)},qa.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};var Wa=Object(d["v"])(qa,ni);function Ya(t){ni.call(this,[],t)}Wa.transform=function(t,n){var e=t.expr,r=t.as,i=t.modified(),a=t.initonly?n.ADD:i?n.SOURCE:n.modified(e.fields)?n.ADD_MOD:n.ADD;function o(n){n[r]=e(n,t)}return i&&(n=n.materialize().reflow(!0)),t.initonly||n.modifies(r),n.visit(a,o)};var Ha=Object(d["v"])(Ya,ni);Ha.transform=function(t,n){var e,r,i,a=this.value,o=n.fork(n.ALL),u=t.size-a.length,s=t.generator;if(u>0){for(e=[];--u>=0;)e.push(i=x(s(t))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(e):e}else r=a.slice(0,-u),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-u);return o.source=this.value=a,o};var Va={value:"value",median:Ii,mean:Li,min:qi,max:Pi},Ga=[];function Xa(t){ni.call(this,[],t)}Xa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};var Ja=Object(d["v"])(Xa,ni);function Za(t){var n,e=t.method||Va.value;if(null!=Va[e])return e===Va.value?(n=void 0!==t.value?t.value:0,function(){return n}):Va[e];Object(d["l"])("Unrecognized imputation method: "+e)}function Qa(t){var n=t.field;return function(t){return t?n(t):NaN}}function Ka(t,n,e,r){var i,a,o,u,s,c,l,f,h=function(t){return t(f)},d=[],p=r?r.slice():[],v={},g={};for(p.forEach(function(t,n){v[t]=n+1}),u=0,l=t.length;u<l;++u)f=t[u],c=e(f),s=v[c]||(v[c]=p.push(c)),a=(i=n?n.map(h):Ga)+"",(o=g[a])||(o=g[a]=[],d.push(o),o.values=i),o[s-1]=f;return d.domain=p,d}function to(t){na.call(this,t)}Ja.transform=function(t,n){var e,r,i,a,o,u,s,c,l,f,h=n.fork(n.ALL),p=Za(t),v=Qa(t),g=Object(d["f"])(t.field),m=Object(d["f"])(t.key),y=(t.groupby||[]).map(d["f"]),b=Ka(n.source,t.groupby,t.key,t.keyvals),_=[],w=this.value,A=b.domain.length;for(o=0,c=b.length;o<c;++o)for(e=b[o],i=e.values,r=NaN,s=0;s<A;++s)if(null==e[s]){for(a=b.domain[s],f={_impute:!0},u=0,l=i.length;u<l;++u)f[y[u]]=i[u];f[m]=a,f[g]=isNaN(r)?r=p(e,v):r,_.push(x(f))}return _.length&&(h.add=h.materialize(h.ADD).add.concat(_)),w.length&&(h.rem=h.materialize(h.REM).rem.concat(w)),this.value=_,h},to.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:li},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var no=Object(d["v"])(to,na);function eo(t){R.call(this,null,ro,t)}function ro(t){return this.value&&!t.modified()?this.value:Object(d["F"])(t.fields,t.flat)}function io(t){ni.call(this,[],t)}no.transform=function(t,n){var e,r=this,i=t.modified();return r.value&&(i||n.modified(r._inputs))?(e=r.value=i?r.init(t):{},n.visit(n.SOURCE,function(t){r.add(t)})):(e=r.value=r.value||this.init(t),n.visit(n.REM,function(t){r.rem(t)}),n.visit(n.ADD,function(t){r.add(t)})),r.changes(),n.visit(n.SOURCE,function(t){Object(d["m"])(t,e[r.cellkey(t)].tuple)}),n.reflow(i).modifies(this._outputs)},no.changes=function(){var t,n,e=this._adds,r=this._mods;for(t=0,n=this._alen;t<n;++t)this.celltuple(e[t]),e[t]=null;for(t=0,n=this._mlen;t<n;++t)this.celltuple(r[t]),r[t]=null;this._alen=this._mlen=0},Object(d["v"])(eo,R);var ao=Object(d["v"])(io,ni);function oo(t,n,e){e.forEach(x);const r=n.fork(n.NO_FIELDS&n.NO_SOURCE);return r.rem=t.value,t.value=r.add=r.source=e,r}function uo(t){ni.call(this,{},t)}ao.transform=function(t,n){const e=n.dataflow;return t.values?oo(this,n,e.parse(t.values,t.format)):e.request(t.url,t.format).then(t=>oo(this,n,t.data||[]))},uo.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};var so=Object(d["v"])(uo,ni);function co(t){R.call(this,null,lo,t)}function lo(t){if(this.value&&!t.modified())return this.value;var n,e,r,i=1/0,a=-1/0,o=t.extents;for(n=0,e=o.length;n<e;++n)r=o[n],r[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function fo(t){R.call(this,null,ho,t)}function ho(t){return this.value&&!t.modified()?this.value:t.values.reduce(function(t,n){return t.concat(n)},[])}function po(t){ni.call(this,null,t)}function vo(t){na.call(this,t)}so.transform=function(t,n){var e,r,i,a=n,o=t.as,u=t.fields,s=t.index,c=t.values,l=null==t.default?null:t.default,f=t.modified(),h=f?n.SOURCE:n.ADD,p=u.length;return c?(r=c.length,p>1&&!o&&Object(d["l"])('Multi-field lookup requires explicit "as" parameter.'),o&&o.length!==p*r&&Object(d["l"])('The "as" parameter has too few output field names.'),o=o||c.map(d["f"]),e=function(t){for(var n,e,i=0,a=0;i<p;++i)if(e=s.get(u[i](t)),null==e)for(n=0;n<r;++n,++a)t[o[a]]=l;else for(n=0;n<r;++n,++a)t[o[a]]=c[n](e)}):(o||Object(d["l"])("Missing output field names."),e=function(t){for(var n,e=0;e<p;++e)n=s.get(u[e](t)),t[o[e]]=null==n?l:n}),f?a=n.reflow(!0):(i=u.some(function(t){return n.modified(t.fields)}),h|=i?n.MOD:0),n.visit(h,e),a.modifies(o)},Object(d["v"])(co,R),Object(d["v"])(fo,R),Object(d["v"])(po,ni),po.prototype.transform=function(t,n){return this.modified(t.modified()),this.value=t,n.fork(n.NO_SOURCE|n.NO_FIELDS)},vo.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:li,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};var go=Object(d["v"])(vo,na);function mo(t,n){var e=t.field,r=t.value,i=("count"===t.op?"__count__":t.op)||"sum",a=Object(d["e"])(e).concat(Object(d["e"])(r)),o=bo(e,t.limit||0,n);return{key:t.key,groupby:t.groupby,ops:o.map(function(){return i}),fields:o.map(function(t){return yo(t,e,r,a)}),as:o.map(function(t){return t+""}),modified:t.modified.bind(t)}}function yo(t,n,e,r){return Object(d["d"])(function(r){return n(r)===t?e(r):NaN},r,t+"")}function bo(t,n,e){var r={},i=[];return e.visit(e.SOURCE,function(n){var e=t(n);r[e]||(r[e]=1,i.push(e))}),i.sort(function(t,n){return(t<n||null==t)&&null!=n?-1:(t>n||null==n)&&null!=t?1:(n=n instanceof Date?+n:n,(t=t instanceof Date?+t:t)!==t&&n===n?-1:n!==n&&t===t?1:0)}),n?i.slice(0,n):i}function _o(t){Fa.call(this,t)}go._transform=go.transform,go.transform=function(t,n){return this._transform(mo(t,n),n)};var xo=Object(d["v"])(_o,Fa);function wo(t){ni.call(this,null,t)}xo.transform=function(t,n){var e=this,r=t.subflow,i=t.field;return(t.modified("field")||i&&n.modified(Object(d["e"])(i)))&&Object(d["l"])("PreFacet does not support field modification."),this._targets.active=0,n.visit(n.MOD,function(t){var a=e.subflow(b(t),r,n,t);i?i(t).forEach(function(t){a.mod(t)}):a.mod(t)}),n.visit(n.ADD,function(t){var a=e.subflow(b(t),r,n,t);i?i(t).forEach(function(t){a.add(x(t))}):a.add(t)}),n.visit(n.REM,function(t){var a=e.subflow(b(t),r,n,t);i?i(t).forEach(function(t){a.rem(t)}):a.rem(t)}),n},wo.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};var Ao=Object(d["v"])(wo,ni);function Oo(t,n,e,r){for(var i=0,a=e.length;i<a;++i)n[r[i]]=e[i](t);return n}function ko(t){ni.call(this,null,t)}Ao.transform=function(t,n){var e,r,i=t.fields,a=La(t.fields,t.as||[]),o=i?function(t,n){return Oo(t,n,i,a)}:A;return this.value?r=this.value:(n=n.addAll(),r=this.value={}),e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=b(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=o(t,x({}));r[b(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(o(t,r[b(t)]))}),e};var Mo=Object(d["v"])(ko,ni);function Eo(t){ni.call(this,null,t)}Mo.transform=function(t,n){return this.value=t.value,t.modified("value")?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation};var Co=Object(d["v"])(Eo,ni);function jo(t){ni.call(this,[],t),this.count=0}Co.transform=function(t,n){var e,r;return this.value?r=this.value:(e=n=n.addAll(),r=this.value={}),t.derive&&(e=n.fork(n.NO_SOURCE),n.visit(n.REM,function(t){var n=b(t);e.rem.push(r[n]),r[n]=null}),n.visit(n.ADD,function(t){var n=w(t);r[b(t)]=n,e.add.push(n)}),n.visit(n.MOD,function(t){e.mod.push(A(t,r[b(t)]))})),e},jo.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};var Do=Object(d["v"])(jo,ni);function So(t){ni.call(this,null,t)}Do.transform=function(t,n){var e=n.fork(n.NO_SOURCE),r=t.modified("size"),i=t.size,a=this.value,o=this.count,u=0,s=a.reduce(function(t,n){return t[b(n)]=1,t},{});function c(t){var n,r;a.length<i?a.push(t):(r=~~((o+1)*bi()),r<a.length&&r>=u&&(n=a[r],s[b(n)]&&e.rem.push(n),a[r]=t)),++o}if(n.rem.length&&(n.visit(n.REM,function(t){var n=b(t);s[n]&&(s[n]=-1,e.rem.push(t)),--o}),a=a.filter(function(t){return-1!==s[b(t)]})),(n.rem.length||r)&&a.length<i&&n.source&&(u=o=a.length,n.visit(n.SOURCE,function(t){s[b(t)]||c(t)}),u=-1),r&&a.length>i){for(var l=0,f=a.length-i;l<f;++l)s[b(a[l])]=-1,e.rem.push(a[l]);a=a.slice(f)}return n.mod.length&&n.visit(n.MOD,function(t){s[b(t)]&&e.mod.push(t)}),n.add.length&&n.visit(n.ADD,c),(n.add.length||u<0)&&(e.add=a.filter(function(t){return!s[b(t)]})),this.count=o,this.value=e.source=a,e},So.Definition={type:"Sequence",metadata:{changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};var Fo=Object(d["v"])(So,ni);function To(t){ni.call(this,null,t),this.modified(!0)}Fo.transform=function(t,n){if(!this.value||t.modified()){var e=n.materialize().fork(n.MOD),r=t.as||"data";return e.rem=this.value?n.rem.concat(this.value):n.rem,this.value=Di(t.start,t.stop,t.step||1).map(function(t){var n={};return n[r]=t,x(n)}),e.add=n.add.concat(this.value),e}};var Bo=Object(d["v"])(To,ni);function Ro(t){ni.call(this,Object(d["q"])(),t)}Bo.transform=function(t,n){return this.value=n.source,n.changed()?n.fork(n.NO_SOURCE|n.NO_FIELDS):n.StopPropagation};var No=Object(d["v"])(Ro,ni);function Po(t){ni.call(this,null,t)}No.transform=function(t,n){var e=n.dataflow,r=t.field,i=this.value,a=!0;function o(t){i.set(r(t),t)}return t.modified("field")||n.modified(r.fields)?(i.clear(),n.visit(n.SOURCE,o)):n.changed()?(n.visit(n.REM,function(t){i.delete(r(t))}),n.visit(n.ADD,o)):a=!1,this.modified(a),i.empty>e.cleanThreshold&&e.runAfter(i.clean),n.fork()};var Lo=Object(d["v"])(Po,ni);function zo(t,n,e,r){var i=$o[t](n,e);return{init:i.init||d["db"],update:function(t,n){n[r]=i.next(t)}}}Lo.transform=function(t,n){var e=!this.value||t.modified("field")||t.modified("sort")||n.changed()||t.sort&&n.modified(t.sort.fields);e&&(this.value=(t.sort?n.source.slice().sort(t.sort):n.source).map(t.field))};var $o={row_number:function(){return{next:function(t){return t.index+1}}},rank:function(){var t;return{init:function(){t=1},next:function(n){var e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?t=e+1:t}}},dense_rank:function(){var t;return{init:function(){t=1},next:function(n){var e=n.index,r=n.data;return e&&n.compare(r[e-1],r[e])?++t:t}}},percent_rank:function(){var t=$o.rank(),n=t.next;return{init:t.init,next:function(t){return(n(t)-1)/(t.data.length-1)}}},cume_dist:function(){var t;return{init:function(){t=0},next:function(n){var e=n.index,r=n.data,i=n.compare;if(t<e){while(e+1<r.length&&!i(r[e],r[e+1]))++e;t=e}return(1+t)/r.length}}},ntile:function(t,n){n=+n,n>0||Object(d["l"])("ntile num must be greater than zero.");var e=$o.cume_dist(),r=e.next;return{init:e.init,next:function(t){return Math.ceil(n*r(t))}}},lag:function(t,n){return n=+n||1,{next:function(e){var r=e.index-n;return r>=0?t(e.data[r]):null}}},lead:function(t,n){return n=+n||1,{next:function(e){var r=e.index+n,i=e.data;return r<i.length?t(i[r]):null}}},first_value:function(t){return{next:function(n){return t(n.data[n.i0])}}},last_value:function(t){return{next:function(n){return t(n.data[n.i1-1])}}},nth_value:function(t,n){return n=+n,n>0||Object(d["l"])("nth_value nth must be greater than zero."),{next:function(e){var r=e.i0+(n-1);return r<e.i1?t(e.data[r]):null}}}},Uo=Object.keys($o);function Io(t){var n=this,e=Object(d["g"])(t.ops),r=Object(d["g"])(t.fields),i=Object(d["g"])(t.params),a=Object(d["g"])(t.as),o=n.outputs=[],u=n.windows=[],s={},c={},l=!0,f=[],h=[];function p(t){Object(d["g"])(Object(d["e"])(t)).forEach(function(t){s[t]=1})}p(t.sort),e.forEach(function(t,n){var e=r[n],s=Object(d["f"])(e),v=si(t,s,a[n]);if(p(e),o.push(v),$o.hasOwnProperty(t))u.push(zo(t,r[n],i[n],v));else{if(null==e&&"count"!==t&&Object(d["l"])("Null aggregate field specified."),"count"===t)return void f.push(v);l=!1;var g=c[s];g||(g=c[s]=[],g.field=e,h.push(g)),g.push(fi(t,v))}}),(f.length||h.length)&&(n.cell=Wo(h,f,l)),n.inputs=Object.keys(s)}var qo=Io.prototype;function Wo(t,n,e){t=t.map(function(t){return vi(t,t.field)});var r={num:0,agg:null,store:!1,count:n};if(!e)for(var i=t.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new t[o](r);if(r.store)var u=r.data=new Ki;return r.add=function(t){if(r.num+=1,!e){u&&u.add(t);for(var n=0;n<i;++n)a[n].add(a[n].get(t),t)}},r.rem=function(t){if(r.num-=1,!e){u&&u.rem(t);for(var n=0;n<i;++n)a[n].rem(a[n].get(t),t)}},r.set=function(t){var i,o;for(u&&u.values(),i=0,o=n.length;i<o;++i)t[n[i]]=r.num;if(!e)for(i=0,o=a.length;i<o;++i)a[i].set(t)},r.init=function(){r.num=0,u&&u.reset();for(var t=0;t<i;++t)a[t].init()},r}function Yo(t){ni.call(this,{},t),this._mlen=0,this._mods=[]}qo.init=function(){this.windows.forEach(function(t){t.init()}),this.cell&&this.cell.init()},qo.update=function(t,n){var e,r=this,i=r.cell,a=r.windows,o=t.data,u=a&&a.length;if(i){for(e=t.p0;e<t.i0;++e)i.rem(o[e]);for(e=t.p1;e<t.i1;++e)i.add(o[e]);i.set(n)}for(e=0;e<u;++e)a[e].update(t,n)},Yo.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Uo.concat(li)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var Ho=Object(d["v"])(Yo,ni);function Vo(t,n,e){var r=e.sort,i=r&&!e.ignorePeers,a=e.frame||[null,0],o=t.data(r),u=o.length,s=0,c=i?xi(r):null,l={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:r||Object(d["j"])(-1)};for(n.init();s<u;++s)Go(l,a,s,u),i&&Xo(l,c),n.update(l,o[s])}function Go(t,n,e,r){t.p0=t.i0,t.p1=t.i1,t.i0=null==n[0]?0:Math.max(0,e-Math.abs(n[0])),t.i1=null==n[1]?r:Math.min(r,e+Math.abs(n[1])+1),t.index=e}function Xo(t,n){var e=t.i0,r=t.i1-1,i=t.compare,a=t.data,o=a.length-1;e>0&&!i(a[e],a[e-1])&&(t.i0=n.left(a,a[e])),r<o&&!i(a[r],a[r+1])&&(t.i1=n.right(a,a[r]))}Ho.transform=function(t,n){var e,r,i=this,a=i.state,o=t.modified();this.stamp=n.stamp,a&&!o||(a=i.state=new Io(t));var u=ui(t.groupby);function s(t){return i.group(u(t))}for(o||n.modified(a.inputs)?(i.value={},n.visit(n.SOURCE,function(t){s(t).add(t)})):(n.visit(n.REM,function(t){s(t).remove(t)}),n.visit(n.ADD,function(t){s(t).add(t)})),e=0,r=i._mlen;e<r;++e)Vo(i._mods[e],a,t);return i._mlen=0,i._mods=[],n.reflow(o).modifies(a.outputs)},Ho.group=function(t){var n=this,e=n.value[t];return e||(e=n.value[t]=aa(b),e.stamp=-1),e.stamp<n.stamp&&(e.stamp=n.stamp,n._mods[n._mlen++]=e),e};var Jo="top",Zo="left",Qo="right",Ko="bottom",tu="top-left",nu="top-right",eu="bottom-left",ru="bottom-right",iu="start",au="end",ou="group",uu="axis",su="title",cu="frame",lu="scope",fu="legend",hu="row-header",du="row-footer",pu="row-title",vu="column-header",gu="column-footer",mu="column-title",yu="padding",bu="symbol",_u="fit",xu="fit-x",wu="fit-y",Au="pad",Ou="none",ku="all",Mu="each",Eu="flush",Cu="column",ju="row";function Du(t){this.clear(),t&&this.union(t)}var Su=Du.prototype;Su.clone=function(){return new Du(this)},Su.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},Su.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},Su.set=function(t,n,e,r){return e<t?(this.x2=t,this.x1=e):(this.x1=t,this.x2=e),r<n?(this.y2=n,this.y1=r):(this.y1=n,this.y2=r),this},Su.add=function(t,n){return t<this.x1&&(this.x1=t),n<this.y1&&(this.y1=n),t>this.x2&&(this.x2=t),n>this.y2&&(this.y2=n),this},Su.expand=function(t){return this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t,this},Su.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},Su.translate=function(t,n){return this.x1+=t,this.x2+=t,this.y1+=n,this.y2+=n,this},Su.rotate=function(t,n,e){const r=this.rotatedPoints(t,n,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},Su.rotatedPoints=function(t,n,e){var{x1:r,y1:i,x2:a,y2:o}=this,u=Math.cos(t),s=Math.sin(t),c=n-n*u+e*s,l=e-n*s-e*u;return[u*r-s*i+c,s*r+u*i+l,u*r-s*o+c,s*r+u*o+l,u*a-s*i+c,s*a+u*i+l,u*a-s*o+c,s*a+u*o+l]},Su.union=function(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this},Su.intersect=function(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this},Su.encloses=function(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2},Su.alignsWith=function(t){return t&&(this.x1==t.x1||this.x2==t.x2||this.y1==t.y1||this.y2==t.y2)},Su.intersects=function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)},Su.contains=function(t,n){return!(t<this.x1||t>this.x2||n<this.y1||n>this.y2)},Su.width=function(){return this.x2-this.x1},Su.height=function(){return this.y2-this.y1};var Fu=0,Tu=function(t,n){var e,r=[];return e={id:"gradient_"+Fu++,x1:t?t[0]:0,y1:t?t[1]:0,x2:n?n[0]:1,y2:n?n[1]:0,stops:r,stop:function(t,n){return r.push({offset:t,color:n}),e}}};function Bu(t){this.mark=t,this.bounds=this.bounds||new Du}function Ru(t){Bu.call(this,t),this.items=this.items||[]}function Nu(t,n){if("undefined"!==typeof document&&document.createElement){var e=document.createElement("canvas");if(e&&e.getContext)return e.width=t,e.height=n,e}return null}function Pu(){return"undefined"!==typeof Image?Image:null}function Lu(t){this._pending=0,this._loader=t||ur()}Object(d["v"])(Ru,Bu);var zu=Lu.prototype;function $u(t){t._pending+=1}function Uu(t){t._pending-=1}zu.pending=function(){return this._pending},zu.sanitizeURL=function(t){var n=this;return $u(n),n._loader.sanitize(t,{context:"href"}).then(function(t){return Uu(n),t}).catch(function(){return Uu(n),null})},zu.loadImage=function(t){var n=this,e=Pu();return $u(n),n._loader.sanitize(t,{context:"image"}).then(function(t){var r=t.href;if(!r||!e)throw{url:r};var i=new e;return i.onload=function(){Uu(n),i.loaded=!0},i.onerror=function(){Uu(n),i.loaded=!1},i.src=r,i}).catch(function(t){return Uu(n),{loaded:!1,width:0,height:0,src:t&&t.url||""}})},zu.ready=function(){var t=this;return new Promise(function(n){function e(r){t.pending()?setTimeout(function(){e(!0)},10):n(r)}e(!1)})};var Iu=Math.PI,qu=2*Iu,Wu=1e-6,Yu=qu-Wu;function Hu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Vu(){return new Hu}Hu.prototype=Vu.prototype={constructor:Hu,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,u=e-t,s=r-n,c=a-t,l=o-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>Wu)if(Math.abs(l*u-s*c)>Wu&&i){var h=e-a,d=r-o,p=u*u+s*s,v=h*h+d*d,g=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((Iu-Math.acos((p+f-v)/(2*g*m)))/2),b=y/m,_=y/g;Math.abs(b-1)>Wu&&(this._+="L"+(t+b*c)+","+(n+b*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e;var o=e*Math.cos(r),u=e*Math.sin(r),s=t+o,c=n+u,l=1^a,f=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>Wu||Math.abs(this._y1-c)>Wu)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%qu+qu),f>Yu?this._+="A"+e+","+e+",0,1,"+l+","+(t-o)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>Wu&&(this._+="A"+e+","+e+",0,"+ +(f>=Iu)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Gu=Vu,Xu=function(t){return function(){return t}},Ju=Math.abs,Zu=Math.atan2,Qu=Math.cos,Ku=Math.max,ts=Math.min,ns=Math.sin,es=Math.sqrt,rs=1e-12,is=Math.PI,as=is/2,os=2*is;function us(t){return t>1?0:t<-1?is:Math.acos(t)}function ss(t){return t>=1?as:t<=-1?-as:Math.asin(t)}function cs(t){return t.innerRadius}function ls(t){return t.outerRadius}function fs(t){return t.startAngle}function hs(t){return t.endAngle}function ds(t){return t&&t.padAngle}function ps(t,n,e,r,i,a,o,u){var s=e-t,c=r-n,l=o-i,f=u-a,h=f*s-l*c;if(!(h*h<rs))return h=(l*(n-a)-f*(t-i))/h,[t+h*s,n+h*c]}function vs(t,n,e,r,i,a,o){var u=t-e,s=n-r,c=(o?a:-a)/es(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=n+f,p=e+l,v=r+f,g=(h+p)/2,m=(d+v)/2,y=p-h,b=v-d,_=y*y+b*b,x=i-a,w=h*v-p*d,A=(b<0?-1:1)*es(Ku(0,x*x*_-w*w)),O=(w*b-y*A)/_,k=(-w*y-b*A)/_,M=(w*b+y*A)/_,E=(-w*y+b*A)/_,C=O-g,j=k-m,D=M-g,S=E-m;return C*C+j*j>D*D+S*S&&(O=M,k=E),{cx:O,cy:k,x01:-l,y01:-f,x11:O*(i/x-1),y11:k*(i/x-1)}}var gs=function(){var t=cs,n=ls,e=Xu(0),r=null,i=fs,a=hs,o=ds,u=null;function s(){var s,c,l=+t.apply(this,arguments),f=+n.apply(this,arguments),h=i.apply(this,arguments)-as,d=a.apply(this,arguments)-as,p=Ju(d-h),v=d>h;if(u||(u=s=Gu()),f<l&&(c=f,f=l,l=c),f>rs)if(p>os-rs)u.moveTo(f*Qu(h),f*ns(h)),u.arc(0,0,f,h,d,!v),l>rs&&(u.moveTo(l*Qu(d),l*ns(d)),u.arc(0,0,l,d,h,v));else{var g,m,y=h,b=d,_=h,x=d,w=p,A=p,O=o.apply(this,arguments)/2,k=O>rs&&(r?+r.apply(this,arguments):es(l*l+f*f)),M=ts(Ju(f-l)/2,+e.apply(this,arguments)),E=M,C=M;if(k>rs){var j=ss(k/l*ns(O)),D=ss(k/f*ns(O));(w-=2*j)>rs?(j*=v?1:-1,_+=j,x-=j):(w=0,_=x=(h+d)/2),(A-=2*D)>rs?(D*=v?1:-1,y+=D,b-=D):(A=0,y=b=(h+d)/2)}var S=f*Qu(y),F=f*ns(y),T=l*Qu(x),B=l*ns(x);if(M>rs){var R,N=f*Qu(b),P=f*ns(b),L=l*Qu(_),z=l*ns(_);if(p<is&&(R=ps(S,F,L,z,N,P,T,B))){var $=S-R[0],U=F-R[1],I=N-R[0],q=P-R[1],W=1/ns(us(($*I+U*q)/(es($*$+U*U)*es(I*I+q*q)))/2),Y=es(R[0]*R[0]+R[1]*R[1]);E=ts(M,(l-Y)/(W-1)),C=ts(M,(f-Y)/(W+1))}}A>rs?C>rs?(g=vs(L,z,S,F,f,C,v),m=vs(N,P,T,B,f,C,v),u.moveTo(g.cx+g.x01,g.cy+g.y01),C<M?u.arc(g.cx,g.cy,C,Zu(g.y01,g.x01),Zu(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,C,Zu(g.y01,g.x01),Zu(g.y11,g.x11),!v),u.arc(0,0,f,Zu(g.cy+g.y11,g.cx+g.x11),Zu(m.cy+m.y11,m.cx+m.x11),!v),u.arc(m.cx,m.cy,C,Zu(m.y11,m.x11),Zu(m.y01,m.x01),!v))):(u.moveTo(S,F),u.arc(0,0,f,y,b,!v)):u.moveTo(S,F),l>rs&&w>rs?E>rs?(g=vs(T,B,N,P,l,-E,v),m=vs(S,F,L,z,l,-E,v),u.lineTo(g.cx+g.x01,g.cy+g.y01),E<M?u.arc(g.cx,g.cy,E,Zu(g.y01,g.x01),Zu(m.y01,m.x01),!v):(u.arc(g.cx,g.cy,E,Zu(g.y01,g.x01),Zu(g.y11,g.x11),!v),u.arc(0,0,l,Zu(g.cy+g.y11,g.cx+g.x11),Zu(m.cy+m.y11,m.cx+m.x11),v),u.arc(m.cx,m.cy,E,Zu(m.y11,m.x11),Zu(m.y01,m.x01),!v))):u.arc(0,0,l,x,_,v):u.lineTo(T,B)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-is/2;return[Qu(r)*e,ns(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"===typeof n?n:Xu(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"===typeof t?t:Xu(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"===typeof t?t:Xu(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Xu(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"===typeof t?t:Xu(+t),s):i},s.endAngle=function(t){return arguments.length?(a="function"===typeof t?t:Xu(+t),s):a},s.padAngle=function(t){return arguments.length?(o="function"===typeof t?t:Xu(+t),s):o},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s};function ms(t){this._context=t}ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};var ys=function(t){return new ms(t)};function bs(t){return t[0]}function _s(t){return t[1]}var xs=function(){var t=bs,n=_s,e=Xu(!0),r=null,i=ys,a=null;function o(o){var u,s,c,l=o.length,f=!1;for(null==r&&(a=i(c=Gu())),u=0;u<=l;++u)!(u<l&&e(s=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+t(s,u,o),+n(s,u,o));if(c)return a=null,c+""||null}return o.x=function(n){return arguments.length?(t="function"===typeof n?n:Xu(+n),o):t},o.y=function(t){return arguments.length?(n="function"===typeof t?t:Xu(+t),o):n},o.defined=function(t){return arguments.length?(e="function"===typeof t?t:Xu(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o},ws=function(){var t=bs,n=null,e=Xu(0),r=_s,i=Xu(!0),a=null,o=ys,u=null;function s(s){var c,l,f,h,d,p=s.length,v=!1,g=new Array(p),m=new Array(p);for(null==a&&(u=o(d=Gu())),c=0;c<=p;++c){if(!(c<p&&i(h=s[c],c,s))===v)if(v=!v)l=c,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=c-1;f>=l;--f)u.point(g[f],m[f]);u.lineEnd(),u.areaEnd()}v&&(g[c]=+t(h,c,s),m[c]=+e(h,c,s),u.point(n?+n(h,c,s):g[c],r?+r(h,c,s):m[c]))}if(d)return u=null,d+""||null}function c(){return xs().defined(i).curve(o).context(a)}return s.x=function(e){return arguments.length?(t="function"===typeof e?e:Xu(+e),n=null,s):t},s.x0=function(n){return arguments.length?(t="function"===typeof n?n:Xu(+n),s):t},s.x1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:Xu(+t),s):n},s.y=function(t){return arguments.length?(e="function"===typeof t?t:Xu(+t),r=null,s):e},s.y0=function(t){return arguments.length?(e="function"===typeof t?t:Xu(+t),s):e},s.y1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:Xu(+t),s):r},s.lineX0=s.lineY0=function(){return c().x(t).y(e)},s.lineY1=function(){return c().x(t).y(r)},s.lineX1=function(){return c().x(n).y(e)},s.defined=function(t){return arguments.length?(i="function"===typeof t?t:Xu(!!t),s):i},s.curve=function(t){return arguments.length?(o=t,null!=a&&(u=o(a)),s):o},s.context=function(t){return arguments.length?(null==t?a=u=null:u=o(a=t),s):a},s};Os(ys);function As(t){this._curve=t}function Os(t){function n(n){return new As(t(n))}return n._curve=t,n}As.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};Array.prototype.slice;var ks={draw:function(t,n){var e=Math.sqrt(n/is);t.moveTo(e,0),t.arc(0,0,e,0,os)}},Ms=(Math.sqrt(1/3),Math.sin(is/10)/Math.sin(7*is/10)),Es=(Math.sin(os/10),Math.cos(os/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){var t=Xu(ks),n=Xu(64),e=null;function r(){var r;if(e||(e=r=Gu()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return r.type=function(n){return arguments.length?(t="function"===typeof n?n:Xu(n),r):t},r.size=function(t){return arguments.length?(n="function"===typeof t?t:Xu(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r}),Cs=function(){};function js(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Ds(t){this._context=t}Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:js(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:js(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Ss=function(t){return new Ds(t)};function Fs(t){this._context=t}Fs.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:js(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Ts=function(t){return new Fs(t)};function Bs(t){this._context=t}Bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:js(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Rs=function(t){return new Bs(t)};function Ns(t,n){this._basis=new Ds(t),this._beta=n}Ns.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0){var r,i=t[0],a=n[0],o=t[e]-i,u=n[e]-a,s=-1;while(++s<=e)r=s/e,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+r*o),this._beta*n[s]+(1-this._beta)*(a+r*u))}this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Ps=function t(n){function e(t){return 1===n?new Ds(t):new Ns(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Ls(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function zs(t,n){this._context=t,this._k=(1-n)/6}zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ls(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Ls(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var $s=function t(n){function e(t){return new zs(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Us(t,n){this._context=t,this._k=(1-n)/6}Us.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ls(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Is=function t(n){function e(t){return new Us(t,n)}return e.tension=function(n){return t(+n)},e}(0);function qs(t,n){this._context=t,this._k=(1-n)/6}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ls(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ws=function t(n){function e(t){return new qs(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Ys(t,n,e){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>rs){var u=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*u-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,i=(i*u-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>rs){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-n*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-e*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Hs(t,n){this._context=t,this._alpha=n}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Ys(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Vs=function t(n){function e(t){return n?new Hs(t,n):new zs(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Gs(t,n){this._context=t,this._alpha=n}Gs.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Ys(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Xs=function t(n){function e(t){return n?new Gs(t,n):new Us(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Js(t,n){this._context=t,this._alpha=n}Js.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ys(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Zs=function t(n){function e(t){return n?new Js(t,n):new qs(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Qs(t){this._context=t}Qs.prototype={areaStart:Cs,areaEnd:Cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Ks=function(t){return new Qs(t)};function tc(t){return t<0?-1:1}function nc(t,n,e){var r=t._x1-t._x0,i=n-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(e-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(tc(a)+tc(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function ec(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function rc(t,n,e){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*n,a-u,o-u*e,a,o)}function ic(t){this._context=t}function ac(t){this._context=new oc(t)}function oc(t){this._context=t}function uc(t){return new ic(t)}function sc(t){return new ac(t)}function cc(t){this._context=t}function lc(t){var n,e,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,a[n]=4,o[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/a[n-1],a[n]-=e,o[n]-=e*o[n-1];for(i[r-1]=o[r-1]/a[r-1],n=r-2;n>=0;--n)i[n]=(o[n]-i[n+1])/a[n];for(a[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)a[n]=2*t[n+1]-i[n+1];return[i,a]}ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rc(this,this._t0,ec(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,rc(this,ec(this,e=nc(this,t,n)),e);break;default:rc(this,this._t0,e=nc(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(ac.prototype=Object.create(ic.prototype)).point=function(t,n){ic.prototype.point.call(this,n,t)},oc.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,a){this._context.bezierCurveTo(n,t,r,e,a,i)}},cc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=lc(t),i=lc(n),a=0,o=1;o<e;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],n[o]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var fc=function(t){return new cc(t)};function hc(t,n){this._context=t,this._t=n}hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}this._x=t,this._y=n}};var dc=function(t){return new hc(t,.5)};function pc(t){return new hc(t,0)}function vc(t){return new hc(t,1)}var gc={basis:{curve:Ss},"basis-closed":{curve:Ts},"basis-open":{curve:Rs},bundle:{curve:Ps,tension:"beta",value:.85},cardinal:{curve:$s,tension:"tension",value:0},"cardinal-open":{curve:Ws,tension:"tension",value:0},"cardinal-closed":{curve:Is,tension:"tension",value:0},"catmull-rom":{curve:Vs,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Xs,tension:"alpha",value:.5},"catmull-rom-open":{curve:Zs,tension:"alpha",value:.5},linear:{curve:ys},"linear-closed":{curve:Ks},monotone:{horizontal:sc,vertical:uc},natural:{curve:fc},step:{curve:dc},"step-after":{curve:vc},"step-before":{curve:pc}};function mc(t,n,e){var r=gc.hasOwnProperty(t)&&gc[t],i=null;return r&&(i=r.curve||r[n||"vertical"],r.tension&&null!=e&&(i=i[r.tension](e))),i}var yc={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},bc=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],_c=function(t){var n,e,r,i,a,o,u,s,c,l,f,h=[];for(n=t.slice().replace(bc[0],"###$1").split(bc[1]).slice(1),s=0,l=n.length;s<l;++s){for(e=n[s],r=e.slice(1).trim().replace(bc[2],"$1###$2").split(bc[3]),o=e.charAt(0),i=[o],c=0,f=r.length;c<f;++c)(a=+r[c])===a&&i.push(a);if(u=yc[o.toLowerCase()],i.length-1>u)for(c=1,f=i.length;c<f;c+=u)h.push([o].concat(i.slice(c,c+u)));else h.push(i)}return h},xc=Math.PI/180,wc=Math.PI/2,Ac=2*Math.PI,Oc=Math.sqrt(3)/2,kc={},Mc={},Ec=[].join;function Cc(t,n,e,r,i,a,o,u,s){var c=Ec.call(arguments);if(kc[c])return kc[c];var l=o*xc,f=Math.sin(l),h=Math.cos(l);e=Math.abs(e),r=Math.abs(r);var d=h*(u-t)*.5+f*(s-n)*.5,p=h*(s-n)*.5-f*(u-t)*.5,v=d*d/(e*e)+p*p/(r*r);v>1&&(v=Math.sqrt(v),e*=v,r*=v);var g=h/e,m=f/e,y=-f/r,b=h/r,_=g*u+m*s,x=y*u+b*s,w=g*t+m*n,A=y*t+b*n,O=(w-_)*(w-_)+(A-x)*(A-x),k=1/O-.25;k<0&&(k=0);var M=Math.sqrt(k);a==i&&(M=-M);var E=.5*(_+w)-M*(A-x),C=.5*(x+A)+M*(w-_),j=Math.atan2(x-C,_-E),D=Math.atan2(A-C,w-E),S=D-j;S<0&&1===a?S+=Ac:S>0&&0===a&&(S-=Ac);for(var F=Math.ceil(Math.abs(S/(wc+.001))),T=[],B=0;B<F;++B){var R=j+B*S/F,N=j+(B+1)*S/F;T[B]=[E,C,R,N,e,r,f,h]}return kc[c]=T}function jc(t){var n=Ec.call(t);if(Mc[n])return Mc[n];var e=t[0],r=t[1],i=t[2],a=t[3],o=t[4],u=t[5],s=t[6],c=t[7],l=c*o,f=-s*u,h=s*o,d=c*u,p=Math.cos(i),v=Math.sin(i),g=Math.cos(a),m=Math.sin(a),y=.5*(a-i),b=Math.sin(.5*y),_=8/3*b*b/Math.sin(y),x=e+p-_*v,w=r+v+_*p,A=e+g,O=r+m,k=A+_*m,M=O-_*g;return Mc[n]=[l*x+f*w,h*x+d*w,l*k+f*M,h*k+d*M,l*A+f*O,h*A+d*O]}var Dc=["l",0,0,0,0,0,0,0];function Sc(t,n){var e=Dc[0]=t[0];if("a"===e||"A"===e)Dc[1]=n*t[1],Dc[2]=n*t[2],Dc[3]=t[3],Dc[4]=t[4],Dc[5]=t[5],Dc[6]=n*t[6],Dc[7]=n*t[7];else for(var r=1,i=t.length;r<i;++r)Dc[r]=n*t[r];return Dc}var Fc=function(t,n,e,r,i){var a,o,u,s,c,l=null,f=0,h=0,d=0,p=0;null==e&&(e=0),null==r&&(r=0),null==i&&(i=1),t.beginPath&&t.beginPath();for(var v=0,g=n.length;v<g;++v){switch(a=n[v],1!==i&&(a=Sc(a,i)),a[0]){case"l":f+=a[1],h+=a[2],t.lineTo(f+e,h+r);break;case"L":f=a[1],h=a[2],t.lineTo(f+e,h+r);break;case"h":f+=a[1],t.lineTo(f+e,h+r);break;case"H":f=a[1],t.lineTo(f+e,h+r);break;case"v":h+=a[1],t.lineTo(f+e,h+r);break;case"V":h=a[1],t.lineTo(f+e,h+r);break;case"m":f+=a[1],h+=a[2],t.moveTo(f+e,h+r);break;case"M":f=a[1],h=a[2],t.moveTo(f+e,h+r);break;case"c":o=f+a[5],u=h+a[6],d=f+a[3],p=h+a[4],t.bezierCurveTo(f+a[1]+e,h+a[2]+r,d+e,p+r,o+e,u+r),f=o,h=u;break;case"C":f=a[5],h=a[6],d=a[3],p=a[4],t.bezierCurveTo(a[1]+e,a[2]+r,d+e,p+r,f+e,h+r);break;case"s":o=f+a[3],u=h+a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,f+a[1]+e,h+a[2]+r,o+e,u+r),d=f+a[1],p=h+a[2],f=o,h=u;break;case"S":o=a[3],u=a[4],d=2*f-d,p=2*h-p,t.bezierCurveTo(d+e,p+r,a[1]+e,a[2]+r,o+e,u+r),f=o,h=u,d=a[1],p=a[2];break;case"q":o=f+a[3],u=h+a[4],d=f+a[1],p=h+a[2],t.quadraticCurveTo(d+e,p+r,o+e,u+r),f=o,h=u;break;case"Q":o=a[3],u=a[4],t.quadraticCurveTo(a[1]+e,a[2]+r,o+e,u+r),f=o,h=u,d=a[1],p=a[2];break;case"t":o=f+a[1],u=h+a[2],null===l[0].match(/[QqTt]/)?(d=f,p=h):"t"===l[0]?(d=2*f-s,p=2*h-c):"q"===l[0]&&(d=2*f-d,p=2*h-p),s=d,c=p,t.quadraticCurveTo(d+e,p+r,o+e,u+r),f=o,h=u,d=f+a[1],p=h+a[2];break;case"T":o=a[1],u=a[2],d=2*f-d,p=2*h-p,t.quadraticCurveTo(d+e,p+r,o+e,u+r),f=o,h=u;break;case"a":Tc(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+e,a[7]+h+r]),f+=a[6],h+=a[7];break;case"A":Tc(t,f+e,h+r,[a[1],a[2],a[3],a[4],a[5],a[6]+e,a[7]+r]),f=a[6],h=a[7];break;case"z":case"Z":t.closePath();break}l=a}};function Tc(t,n,e,r){for(var i=Cc(r[5],r[6],r[0],r[1],r[3],r[4],r[2],n,e),a=0;a<i.length;++a){var o=jc(i[a]);t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}var Bc=.5773502691896257,Rc={circle:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(e,0),t.arc(0,0,e,0,Ac)}},cross:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/2.5;t.moveTo(-e,-r),t.lineTo(-e,r),t.lineTo(-r,r),t.lineTo(-r,e),t.lineTo(r,e),t.lineTo(r,r),t.lineTo(e,r),t.lineTo(e,-r),t.lineTo(r,-r),t.lineTo(r,-e),t.lineTo(-r,-e),t.lineTo(-r,-r),t.closePath()}},diamond:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.closePath()}},square:{draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},arrow:{draw:function(t,n){var e=Math.sqrt(n)/2,r=e/7,i=e/2.5,a=e/8;t.moveTo(-r,e),t.lineTo(r,e),t.lineTo(r,-a),t.lineTo(i,-a),t.lineTo(0,-e),t.lineTo(-i,-a),t.lineTo(-r,-a),t.closePath()}},wedge:{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e,i=r-e*Bc,a=e/4;t.moveTo(0,-r-i),t.lineTo(-a,r-i),t.lineTo(a,r-i),t.closePath()}},triangle:{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e,i=r-e*Bc;t.moveTo(0,-r-i),t.lineTo(-e,r-i),t.lineTo(e,r-i),t.closePath()}},"triangle-up":{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e;t.moveTo(0,-r),t.lineTo(-e,r),t.lineTo(e,r),t.closePath()}},"triangle-down":{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e;t.moveTo(0,r),t.lineTo(-e,-r),t.lineTo(e,-r),t.closePath()}},"triangle-right":{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e;t.moveTo(r,0),t.lineTo(-r,-e),t.lineTo(-r,e),t.closePath()}},"triangle-left":{draw:function(t,n){var e=Math.sqrt(n)/2,r=Oc*e;t.moveTo(-r,0),t.lineTo(r,-e),t.lineTo(r,e),t.closePath()}},stroke:{draw:function(t,n){var e=Math.sqrt(n)/2;t.moveTo(-e,0),t.lineTo(e,0)}}};function Nc(t){return Rc.hasOwnProperty(t)?Rc[t]:Lc(t)}var Pc={};function Lc(t){if(!Pc.hasOwnProperty(t)){var n=_c(t);Pc[t]={draw:function(t,e){Fc(t,n,0,0,Math.sqrt(e)/2)}}}return Pc[t]}function zc(t){return t.x}function $c(t){return t.y}function Uc(t){return t.width}function Ic(t){return t.height}function qc(t){return function(){return t}}var Wc=function(){var t=zc,n=$c,e=Uc,r=Ic,i=qc(0),a=null;function o(o,u,s){var c,l=null!=u?u:+t.call(this,o),f=null!=s?s:+n.call(this,o),h=+e.call(this,o),d=+r.call(this,o),p=+i.call(this,o);if(a||(a=c=Gu()),p<=0)a.rect(l,f,h,d);else{var v=l+h,g=f+d;a.moveTo(l+p,f),a.lineTo(v-p,f),a.quadraticCurveTo(v,f,v,f+p),a.lineTo(v,g-p),a.quadraticCurveTo(v,g,v-p,g),a.lineTo(l+p,g),a.quadraticCurveTo(l,g,l,g-p),a.lineTo(l,f+p),a.quadraticCurveTo(l,f,l+p,f),a.closePath()}if(c)return a=null,c+""||null}return o.x=function(n){return arguments.length?(t="function"===typeof n?n:qc(+n),o):t},o.y=function(t){return arguments.length?(n="function"===typeof t?t:qc(+t),o):n},o.width=function(t){return arguments.length?(e="function"===typeof t?t:qc(+t),o):e},o.height=function(t){return arguments.length?(r="function"===typeof t?t:qc(+t),o):r},o.cornerRadius=function(t){return arguments.length?(i="function"===typeof t?t:qc(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o},Yc=function(){var t,n,e,r,i,a,o,u,s=null;function c(t,n,e){var r=e/2;if(i){var c=o-n,l=t-a;if(c||l){var f=Math.sqrt(c*c+l*l),h=(c/=f)*u,d=(l/=f)*u,p=Math.atan2(l,c);s.moveTo(a-h,o-d),s.lineTo(t-c*r,n-l*r),s.arc(t,n,r,p-Math.PI,p),s.lineTo(a+h,o+d),s.arc(a,o,u,p,p+Math.PI)}else s.arc(t,n,r,0,Ac);s.closePath()}else i=1;a=t,o=n,u=r}function l(a){var o,u,l,f=a.length,h=!1;for(null==s&&(s=l=Gu()),o=0;o<=f;++o)!(o<f&&r(u=a[o],o,a))===h&&(h=!h)&&(i=0),h&&c(+t(u,o,a),+n(u,o,a),+e(u,o,a));if(l)return s=null,l+""||null}return l.x=function(n){return arguments.length?(t=n,l):t},l.y=function(t){return arguments.length?(n=t,l):n},l.size=function(t){return arguments.length?(e=t,l):e},l.defined=function(t){return arguments.length?(r=t,l):r},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l};function Hc(t){return t.x||0}function Vc(t){return t.y||0}function Gc(t){return t.width||0}function Xc(t){return t.size||1}function Jc(t){return t.height||0}function Zc(t){return(t.x||0)+(t.width||0)}function Qc(t){return(t.y||0)+(t.height||0)}function Kc(t){return t.startAngle||0}function tl(t){return t.endAngle||0}function nl(t){return t.padAngle||0}function el(t){return t.innerRadius||0}function rl(t){return t.outerRadius||0}function il(t){return t.cornerRadius||0}function al(t){return!(!1===t.defined)}function ol(t){return null==t.size?64:t.size}function ul(t){return Nc(t.shape||"circle")}var sl=gs().startAngle(Kc).endAngle(tl).padAngle(nl).innerRadius(el).outerRadius(rl).cornerRadius(il),cl=ws().x(Hc).y1(Vc).y0(Qc).defined(al),ll=ws().y(Vc).x1(Hc).x0(Zc).defined(al),fl=xs().x(Hc).y(Vc).defined(al),hl=Wc().x(Hc).y(Vc).width(Gc).height(Jc).cornerRadius(il),dl=Es().type(ul).size(ol),pl=Yc().x(Hc).y(Vc).defined(al).size(Xc);function vl(t,n){return sl.context(t)(n)}function gl(t,n){var e=n[0],r=e.interpolate||"linear";return("horizontal"===e.orient?ll:cl).curve(mc(r,e.orient,e.tension)).context(t)(n)}function ml(t,n){var e=n[0],r=e.interpolate||"linear";return fl.curve(mc(r,e.orient,e.tension)).context(t)(n)}function yl(t,n,e,r){return hl.context(t)(n,e,r)}function bl(t,n){return(n.mark.shape||n.shape).context(t)(n)}function _l(t,n){return dl.context(t)(n)}function xl(t,n){return pl.context(t)(n)}var wl,Al=function(t,n){return n.stroke&&0!==n.opacity&&0!==n.strokeOpacity&&t.expand(null!=n.strokeWidth?+n.strokeWidth:1),t},Ol=Ac-1e-8;function kl(t){return wl=t,kl}function Ml(){}function El(t,n){wl.add(t,n)}kl.beginPath=Ml,kl.closePath=Ml,kl.moveTo=El,kl.lineTo=El,kl.rect=function(t,n,e,r){El(t,n),El(t+e,n+r)},kl.quadraticCurveTo=function(t,n,e,r){El(t,n),El(e,r)},kl.bezierCurveTo=function(t,n,e,r,i,a){El(t,n),El(e,r),El(i,a)},kl.arc=function(t,n,e,r,i,a){if(Math.abs(i-r)>Ol)return El(t-e,n-e),void El(t+e,n+e);var o,u,s,c,l=1/0,f=-1/0,h=1/0,d=-1/0;function p(t){s=e*Math.cos(t),c=e*Math.sin(t),s<l&&(l=s),s>f&&(f=s),c<h&&(h=c),c>d&&(d=c)}if(p(r),p(i),i!==r)if(r%=Ac,r<0&&(r+=Ac),i%=Ac,i<0&&(i+=Ac),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=Ac,o=r-r%wc,u=0;u<4&&o>i;++u,o-=wc)p(o);else for(o=r-r%wc+wc,u=0;u<4&&o<i;++u,o+=wc)p(o);El(t+l,n+h),El(t+f,n+d)};var Cl=(Cl=Nu(1,1))?Cl.getContext("2d"):null;const jl=new Du;function Dl(t){return function(n,e){if(!Cl)return!0;t(Cl,n),jl.clear().union(n.bounds).intersect(e).round();const{x1:r,y1:i,x2:a,y2:o}=jl;for(let t=i;t<=o;++t)for(let n=r;n<=a;++n)if(Cl.isPointInPath(n,t))return!0;return!1}}function Sl(t,n){return n.contains(t.x||0,t.y||0)}function Fl(t,n){const e=t.x||0,r=t.y||0,i=t.width||0,a=t.height||0;return n.intersects(jl.set(e,r,e+i,r+a))}function Tl(t,n){const e=t.x||0,r=t.y||0,i=null!=t.x2?t.x2:e,a=null!=t.y2?t.y2:r;return Bl(n,e,r,i,a)}function Bl(t,n,e,r,i){const{x1:a,y1:o,x2:u,y2:s}=t,c=r-n,l=i-e;let f,h,d,p,v=0,g=1;for(p=0;p<4;++p){if(0===p&&(f=-c,h=-(a-n)),1===p&&(f=c,h=u-n),2===p&&(f=-l,h=-(o-e)),3===p&&(f=l,h=s-e),Math.abs(f)<1e-10&&h<0)return!1;if(d=h/f,f<0){if(d>g)return!1;d>v&&(v=d)}else if(f>0){if(d<v)return!1;d<g&&(g=d)}}return!0}var Rl=function(t,n,e){for(var r=e.width(),i=e.height(),a=e.x1+n.x1*r,o=e.y1+n.y1*i,u=e.x1+n.x2*r,s=e.y1+n.y2*i,c=n.stops,l=0,f=c.length,h=t.createLinearGradient(a,o,u,s);l<f;++l)h.addColorStop(c[l].offset,c[l].color);return h},Nl=function(t,n,e){return e.id?Rl(t,e,n.bounds):e},Pl=function(t,n,e){return e*=null==n.fillOpacity?1:n.fillOpacity,e>0&&(t.globalAlpha=e,t.fillStyle=Nl(t,n,n.fill),!0)},Ll=[],zl=function(t,n,e){var r=null!=(r=n.strokeWidth)?r:1;return!(r<=0)&&(e*=null==n.strokeOpacity?1:n.strokeOpacity,e>0&&(t.globalAlpha=e,t.strokeStyle=Nl(t,n,n.stroke),t.lineWidth=r,t.lineCap=n.strokeCap||"butt",t.lineJoin=n.strokeJoin||"miter",t.miterLimit=n.strokeMiterLimit||10,t.setLineDash&&(t.setLineDash(n.strokeDash||Ll),t.lineDashOffset=n.strokeDashOffset||0),!0))};function $l(t,n){return t.zindex-n.zindex||t.index-n.index}function Ul(t){if(!t.zdirty)return t.zitems;var n,e,r,i=t.items,a=[];for(e=0,r=i.length;e<r;++e)n=i[e],n.index=e,n.zindex&&a.push(n);return t.zdirty=!1,t.zitems=a.sort($l)}function Il(t,n){var e,r,i=t.items;if(i&&i.length){var a=Ul(t);if(a&&a.length){for(e=0,r=i.length;e<r;++e)i[e].zindex||n(i[e]);i=a}for(e=0,r=i.length;e<r;++e)n(i[e])}}function ql(t,n){var e,r,i=t.items;if(!i||!i.length)return null;var a=Ul(t);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(e=n(i[r]))return e;if(i===a)for(i=t.items,r=i.length;--r>=0;)if(!i[r].zindex&&(e=n(i[r])))return e;return null}function Wl(t){return function(n,e,r){Il(e,function(e){r&&!r.intersects(e.bounds)||Hl(t,n,e,e)})}}function Yl(t){return function(n,e,r){!e.items.length||r&&!r.intersects(e.bounds)||Hl(t,n,e.items[0],e.items)}}function Hl(t,n,e,r){var i=null==e.opacity?1:e.opacity;0!==i&&(t(n,r)||(e.fill&&Pl(n,e,i)&&n.fill(),e.stroke&&zl(n,e,i)&&n.stroke()))}function Vl(t){return t=t||d["ab"],function(n,e,r,i,a,o){return r*=n.pixelRatio,i*=n.pixelRatio,ql(e,function(e){var u=e.bounds;if((!u||u.contains(a,o))&&u)return t(n,e,r,i,a,o)?e:void 0})}}function Gl(t,n){return function(e,r,i,a){var o,u,s=Array.isArray(r)?r[0]:r,c=null==n?s.fill:n,l=s.stroke&&e.isPointInStroke;return l&&(o=s.strokeWidth,u=s.strokeCap,e.lineWidth=null!=o?o:1,e.lineCap=null!=u?u:"butt"),!t(e,r)&&(c&&e.isPointInPath(i,a)||l&&e.isPointInStroke(i,a))}}function Xl(t){return Vl(Gl(t))}function Jl(t,n){return"translate("+t+","+n+")"}function Zl(t){return"rotate("+t+")"}function Ql(t){return Jl(t.x||0,t.y||0)}function Kl(t){return Jl(t.x||0,t.y||0)+(t.angle?" "+Zl(t.angle):"")}var tf=function(t,n,e){function r(t,e){t("transform",Kl(e)),t("d",n(null,e))}function i(t,e){var r=e.x||0,i=e.y||0;return n(kl(t),e),Al(t,e).translate(r,i),e.angle&&t.rotate(e.angle*xc,r,i),t}function a(t,e){var r=e.x||0,i=e.y||0,a=e.angle||0;t.translate(r,i),a&&t.rotate(a*=xc),t.beginPath(),n(t,e),a&&t.rotate(-a),t.translate(-r,-i)}return{type:t,tag:"path",nested:!1,attr:r,bound:i,draw:Wl(a),pick:Xl(a),isect:e||Dl(a)}},nf=tf("arc",vl);function ef(t,n){var e,r,i="horizontal"===t[0].orient?n[1]:n[0],a="horizontal"===t[0].orient?"y":"x",o=t.length,u=1/0;while(--o>=0)!1!==t[o].defined&&(r=Math.abs(t[o][a]-i),r<u&&(u=r,e=t[o]));return e}function rf(t,n){var e,r,i,a=Math.pow(t[0].strokeWidth||1,2),o=t.length;while(--o>=0)if(!1!==t[o].defined&&(e=t[o].x-n[0],r=t[o].y-n[1],i=e*e+r*r,i<a))return t[o];return null}function af(t,n){var e,r,i,a=t.length;while(--a>=0)if(!1!==t[a].defined&&(e=t[a].x-n[0],r=t[a].y-n[1],i=e*e+r*r,e=t[a].size||1,i<e*e))return t[a];return null}var of=function(t,n,e){function r(t,e){var r=e.mark.items;r.length&&t("d",n(null,r))}function i(t,e){var r=e.items;return 0===r.length?t:(n(kl(t),r),Al(t,r[0]))}function a(t,e){t.beginPath(),n(t,e)}var o=Gl(a);function u(t,n,e,r,i,a){var u=n.items,s=n.bounds;return!u||!u.length||s&&!s.contains(i,a)?null:(e*=t.pixelRatio,r*=t.pixelRatio,o(t,u,e,r)?u[0]:null)}return{type:t,tag:"path",nested:!0,attr:r,bound:i,draw:Yl(a),pick:u,isect:Sl,tip:e}},uf=of("area",gl,ef),sf=1;var cf=function(t,n,e){var r=n.clip,i=t._defs,a=n.clip_id||(n.clip_id="clip"+sf++),o=i.clipping[a]||(i.clipping[a]={id:a});return Object(d["A"])(r)?o.path=r(null):(o.width=e.width||0,o.height=e.height||0),"url(#"+a+")"},lf=.5;function ff(t,n){t("transform",Ql(n))}function hf(t,n){var e=n.stroke?lf:0;t("class","background"),t("d",yl(null,n,e,e))}function df(t,n,e){var r=n.clip?cf(e,n,n):null;t("clip-path",r)}function pf(t,n){if(!n.clip&&n.items)for(var e=n.items,r=0,i=e.length;r<i;++r)t.union(e[r].bounds);return(n.clip||n.width||n.height)&&!n.noBound&&t.add(0,0).add(n.width||0,n.height||0),Al(t,n),t.translate(n.x||0,n.y||0)}function vf(t,n){var e=n.stroke?lf:0;t.beginPath(),yl(t,n,e,e)}var gf=Gl(vf);function mf(t,n,e){var r=this;Il(n,function(n){var i,a=n.x||0,o=n.y||0,u=n.width||0,s=n.height||0;t.save(),t.translate(a,o),(n.stroke||n.fill)&&(i=null==n.opacity?1:n.opacity,i>0&&(vf(t,n),n.fill&&Pl(t,n,i)&&t.fill(),n.stroke&&zl(t,n,i)&&t.stroke())),n.clip&&(t.beginPath(),t.rect(0,0,u,s),t.clip()),e&&e.translate(-a,-o),Il(n,function(n){r.draw(t,n,e)}),e&&e.translate(a,o),t.restore()})}function yf(t,n,e,r,i,a){if(n.bounds&&!n.bounds.contains(i,a)||!n.items)return null;var o=this,u=e*t.pixelRatio,s=r*t.pixelRatio;return ql(n,function(c){var l,f,h,d;if(d=c.bounds,!d||d.contains(i,a))return f=c.x||0,h=c.y||0,t.save(),t.translate(f,h),f=i-f,h=a-h,l=ql(c,function(t){return bf(t,f,h)?o.pick(t,e,r,f,h):null}),!l&&!1!==n.interactive&&(c.fill||c.stroke)&&gf(t,c,u,s)&&(l=c),t.restore(),l||null})}function bf(t,n,e){return(!1!==t.interactive||"group"===t.marktype)&&t.bounds&&t.bounds.contains(n,e)}var _f={type:"group",tag:"g",nested:!1,attr:ff,bound:pf,draw:mf,pick:yf,isect:Fl,background:hf,foreground:df};function xf(t,n){var e=t.image;return e&&e.url===t.url||(e={loaded:!1,width:0,height:0},n.loadImage(t.url).then(function(n){t.image=n,t.image.url=t.url})),e}function wf(t,n){return"center"===t?n/2:"right"===t?n:0}function Af(t,n){return"middle"===t?n/2:"bottom"===t?n:0}function Of(t,n,e){var r=xf(n,e),i=n.x||0,a=n.y||0,o=(null!=n.width?n.width:r.width)||0,u=(null!=n.height?n.height:r.height)||0,s=!1===n.aspect?"none":"xMidYMid";i-=wf(n.align,o),a-=Af(n.baseline,u),t("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),t("transform",Jl(i,a)),t("width",o),t("height",u),t("preserveAspectRatio",s)}function kf(t,n){var e=n.image,r=n.x||0,i=n.y||0,a=(null!=n.width?n.width:e&&e.width)||0,o=(null!=n.height?n.height:e&&e.height)||0;return r-=wf(n.align,a),i-=Af(n.baseline,o),t.set(r,i,r+a,i+o)}function Mf(t,n,e){var r=this;Il(n,function(n){if(!e||e.intersects(n.bounds)){var i,a,o,u,s=xf(n,r),c=n.x||0,l=n.y||0,f=(null!=n.width?n.width:s.width)||0,h=(null!=n.height?n.height:s.height)||0;c-=wf(n.align,f),l-=Af(n.baseline,h),!1!==n.aspect&&(a=s.width/s.height,o=n.width/n.height,a===a&&o===o&&a!==o&&(o<a?(u=f/a,l+=(h-u)/2,h=u):(u=h*a,c+=(f-u)/2,f=u))),s.loaded&&(t.globalAlpha=null!=(i=n.opacity)?i:1,t.drawImage(s,c,l,f,h))}})}var Ef={type:"image",tag:"image",nested:!1,attr:Of,bound:kf,draw:Mf,pick:Vl(),isect:d["ab"],get:xf,xOffset:wf,yOffset:Af},Cf=of("line",ml,rf);function jf(t,n){t("transform",Ql(n)),t("d",n.path)}function Df(t,n){var e=n.path;if(null==e)return!0;var r=n.pathCache;r&&r.path===e||((n.pathCache=r=_c(e)).path=e),Fc(t,r,n.x,n.y)}function Sf(t,n){return Df(kl(t),n)?t.set(0,0,0,0):Al(t,n)}var Ff={type:"path",tag:"path",nested:!1,attr:jf,bound:Sf,draw:Wl(Df),pick:Xl(Df),isect:Dl(Df)};function Tf(t,n){t("d",yl(null,n))}function Bf(t,n){var e,r;return Al(t.set(e=n.x||0,r=n.y||0,e+n.width||0,r+n.height||0),n)}function Rf(t,n){t.beginPath(),yl(t,n)}var Nf={type:"rect",tag:"path",nested:!1,attr:Tf,bound:Bf,draw:Wl(Rf),pick:Xl(Rf),isect:Fl};function Pf(t,n){t("transform",Ql(n)),t("x2",null!=n.x2?n.x2-(n.x||0):0),t("y2",null!=n.y2?n.y2-(n.y||0):0)}function Lf(t,n){var e,r;return Al(t.set(e=n.x||0,r=n.y||0,null!=n.x2?n.x2:e,null!=n.y2?n.y2:r),n)}function zf(t,n,e){var r,i,a,o;return!(!n.stroke||!zl(t,n,e))&&(r=n.x||0,i=n.y||0,a=null!=n.x2?n.x2:r,o=null!=n.y2?n.y2:i,t.beginPath(),t.moveTo(r,i),t.lineTo(a,o),!0)}function $f(t,n,e){Il(n,function(n){if(!e||e.intersects(n.bounds)){var r=null==n.opacity?1:n.opacity;r&&zf(t,n,r)&&t.stroke()}})}function Uf(t,n,e,r){return!!t.isPointInStroke&&(zf(t,n,1)&&t.isPointInStroke(e,r))}var If,qf={type:"rule",tag:"line",nested:!1,attr:Pf,bound:Lf,draw:$f,pick:Vl(Uf),isect:Tl},Wf=tf("shape",bl),Yf=tf("symbol",_l,Sl),Hf={height:Zf,measureWidth:Xf,estimateWidth:Vf,width:Vf,canvas:Qf};function Vf(t){return If=Zf(t),Gf(Kf(t))}function Gf(t){return~~(.8*t.length*If)}function Xf(t){return Zf(t)<=0?0:(Cl.font=eh(t),Jf(Kf(t)))}function Jf(t){return Cl.measureText(t).width}function Zf(t){return null!=t.fontSize?t.fontSize:11}function Qf(t){Hf.width=t&&Cl?Xf:Vf}function Kf(t){var n=t.text;return null==n?"":t.limit>0?th(t):n+""}function th(t){var n,e=+t.limit,r=t.text+"";if(Hf.width===Xf?(Cl.font=eh(t),n=Jf):(If=Zf(t),n=Gf),n(r)<e)return r;var i,a=t.ellipsis||"…",o="rtl"===t.dir,u=0,s=r.length;if(e-=n(a),o){while(u<s)i=u+s>>>1,n(r.slice(i))>e?u=i+1:s=i;return a+r.slice(u)}while(u<s)i=1+(u+s>>>1),n(r.slice(0,i))<e?u=i:s=i-1;return r.slice(0,u)+a}function nh(t,n){var e=t.font;return(n&&e?String(e).replace(/"/g,"'"):e)||"sans-serif"}function eh(t,n){return(t.fontStyle?t.fontStyle+" ":"")+(t.fontVariant?t.fontVariant+" ":"")+(t.fontWeight?t.fontWeight+" ":"")+Zf(t)+"px "+nh(t,n)}function rh(t){var n=t.baseline,e=Zf(t);return Math.round("top"===n?.79*e:"middle"===n?.3*e:"bottom"===n?-.21*e:0)}Qf(!0);var ih={left:"start",center:"middle",right:"end"},ah=new Du;function oh(t){var n,e=t.x||0,r=t.y||0,i=t.radius||0;return i&&(n=(t.theta||0)-wc,e+=i*Math.cos(n),r+=i*Math.sin(n)),ah.x1=e,ah.y1=r,ah}function uh(t,n){var e,r=n.dx||0,i=(n.dy||0)+rh(n),a=oh(n),o=a.x1,u=a.y1,s=n.angle||0;t("text-anchor",ih[n.align]||"start"),s?(e=Jl(o,u)+" "+Zl(s),(r||i)&&(e+=" "+Jl(r,i))):e=Jl(o+r,u+i),t("transform",e)}function sh(t,n,e){var r,i=Hf.height(n),a=n.align,o=oh(n),u=o.x1,s=o.y1,c=n.dx||0,l=(n.dy||0)+rh(n)-Math.round(.8*i);if(r=Hf.width(n),"center"===a?c-=r/2:"right"===a&&(c-=r),t.set(c+=u,l+=s,c+r,l+i),n.angle&&!e)t.rotate(n.angle*xc,u,s);else if(2===e)return t.rotatedPoints(n.angle*xc,u,s);return t}function ch(t,n,e){Il(n,function(n){var r,i,a,o,u;e&&!e.intersects(n.bounds)||(u=Kf(n))&&(r=null==n.opacity?1:n.opacity,0===r||n.fontSize<=0||(t.font=eh(n),t.textAlign=n.align||"left",i=oh(n),a=i.x1,o=i.y1,n.angle&&(t.save(),t.translate(a,o),t.rotate(n.angle*xc),a=o=0),a+=n.dx||0,o+=(n.dy||0)+rh(n),n.fill&&Pl(t,n,r)&&t.fillText(u,a,o),n.stroke&&zl(t,n,r)&&t.strokeText(u,a,o),n.angle&&t.restore()))})}function lh(t,n,e,r,i,a){if(n.fontSize<=0)return!1;if(!n.angle)return!0;var o=oh(n),u=o.x1,s=o.y1,c=sh(ah,n,1),l=-n.angle*xc,f=Math.cos(l),h=Math.sin(l),d=f*i-h*a+(u-f*u+h*s),p=h*i+f*a+(s-h*u-f*s);return c.contains(d,p)}function fh(t,n){var e=sh(ah,t,2);return Bl(n,e[0],e[1],e[2],e[3])||Bl(n,e[0],e[1],e[4],e[5])||Bl(n,e[4],e[5],e[6],e[7])||Bl(n,e[2],e[3],e[6],e[7])}var hh={type:"text",tag:"text",nested:!1,attr:uh,bound:sh,draw:ch,pick:Vl(lh),isect:fh},dh=of("trail",xl,af),ph={arc:nf,area:uf,group:_f,image:Ef,line:Cf,path:Ff,rect:Nf,rule:qf,shape:Wf,symbol:Yf,text:hh,trail:dh},vh=function(t,n,e){var r=ph[t.mark.marktype],i=n||r.bound;return r.nested&&(t=t.mark),i(t.bounds||(t.bounds=new Du),t,e)},gh={mark:null},mh=function(t,n,e){var r,i,a,o,u=ph[t.marktype],s=u.bound,c=t.items,l=c&&c.length;if(u.nested)return l?a=c[0]:(gh.mark=t,a=gh),o=vh(a,s,e),n=n&&n.union(o)||o,n;if(n=n||t.bounds&&t.bounds.clear()||new Du,l)for(r=0,i=c.length;r<i;++r)n.union(vh(c[r],s,e));return t.bounds=n},yh=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"];function bh(t,n){return JSON.stringify(t,yh,n)}function _h(t){var n="string"===typeof t?JSON.parse(t):t;return xh(n)}function xh(t){var n,e,r,i=t.marktype,a=t.items;if(a)for(e=0,r=a.length;e<r;++e)n=i?"mark":"group",a[e][n]=t,a[e].zindex&&(a[e][n].zdirty=!0),"group"===(i||n)&&xh(a[e]);return i&&mh(t),t}function wh(t){arguments.length?this.root=_h(t):(this.root=Oh({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ru(this.root)])}var Ah=wh.prototype;function Oh(t,n){return{bounds:new Du,clip:!!t.clip,group:n,interactive:!1!==t.interactive,items:[],marktype:t.marktype,name:t.name||void 0,role:t.role||void 0,zindex:t.zindex||0}}function kh(t,n,e){return!t&&"undefined"!==typeof document&&document.createElement&&(t=document),t?e?t.createElementNS(e,n):t.createElement(n):null}function Mh(t,n){n=n.toLowerCase();for(var e=t.childNodes,r=0,i=e.length;r<i;++r)if(e[r].tagName.toLowerCase()===n)return e[r]}function Eh(t,n,e,r){var i,a=t.childNodes[n];return a&&a.tagName.toLowerCase()===e.toLowerCase()||(i=a||null,a=kh(t.ownerDocument,e,r),t.insertBefore(a,i)),a}function Ch(t,n){var e=t.childNodes,r=e.length;while(r>n)t.removeChild(e[--r]);return t}function jh(t){return"mark-"+t.marktype+(t.role?" role-"+t.role:"")+(t.name?" "+t.name:"")}Ah.toJSON=function(t){return bh(this.root,t||0)},Ah.mark=function(t,n,e){n=n||this.root.items[0];var r=Oh(t,n);return n.items[e]=r,r.zindex&&(r.group.zdirty=!0),r};var Dh=function(t,n){var e=n.getBoundingClientRect();return[t.clientX-e.left-(n.clientLeft||0),t.clientY-e.top-(n.clientTop||0)]},Sh=function(t,n,e,r){var i,a,o=t&&t.mark;if(o&&(i=ph[o.marktype]).tip){a=Dh(n,e),a[0]-=r[0],a[1]-=r[1];while(t=t.mark.group)a[0]-=t.x||0,a[1]-=t.y||0;t=i.tip(o.items,a)}return t};function Fh(t,n){this._active=null,this._handlers={},this._loader=t||ur(),this._tooltip=n||Th}function Th(t,n,e,r){t.element().setAttribute("title",r||"")}var Bh=Fh.prototype;function Rh(t){this._el=null,this._bgcolor=null,this._loader=new Lu(t)}Bh.initialize=function(t,n,e){return this._el=t,this._obj=e||null,this.origin(n)},Bh.element=function(){return this._el},Bh.canvas=function(){return this._el&&this._el.firstChild},Bh.origin=function(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()},Bh.scene=function(t){return arguments.length?(this._scene=t,this):this._scene},Bh.on=function(){},Bh.off=function(){},Bh._handlerIndex=function(t,n,e){for(var r=t?t.length:0;--r>=0;)if(t[r].type===n&&(!e||t[r].handler===e))return r;return-1},Bh.handlers=function(t){var n,e=this._handlers,r=[];if(t)r.push.apply(r,e[this.eventName(t)]);else for(n in e)r.push.apply(r,e[n]);return r},Bh.eventName=function(t){var n=t.indexOf(".");return n<0?t:t.slice(0,n)},Bh.handleHref=function(t,n,e){this._loader.sanitize(e,{context:"href"}).then(function(n){var e=new MouseEvent(t.type,t),r=kh(null,"a");for(var i in n)r.setAttribute(i,n[i]);r.dispatchEvent(e)}).catch(function(){})},Bh.handleTooltip=function(t,n,e){if(n&&null!=n.tooltip){n=Sh(n,t,this.canvas(),this._origin);var r=e&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,r)}},Bh.getItemBoundingClientRect=function(t){if(n=this.canvas()){var n,e=n.getBoundingClientRect(),r=this._origin,i=t.bounds,a=i.x1+r[0]+e.left,o=i.y1+r[1]+e.top,u=i.width(),s=i.height();while(t.mark&&(t=t.mark.group))a+=t.x||0,o+=t.y||0;return{x:a,y:o,width:u,height:s,left:a,top:o,right:a+u,bottom:o+s}}};var Nh=Rh.prototype;Nh.initialize=function(t,n,e,r,i){return this._el=t,this.resize(n,e,r,i)},Nh.element=function(){return this._el},Nh.canvas=function(){return this._el&&this._el.firstChild},Nh.background=function(t){return 0===arguments.length?this._bgcolor:(this._bgcolor=t,this)},Nh.resize=function(t,n,e,r){return this._width=t,this._height=n,this._origin=e||[0,0],this._scale=r||1,this},Nh.dirty=function(){},Nh.render=function(t){var n=this;return n._call=function(){n._render(t)},n._call(),n._call=null,n},Nh._render=function(){},Nh.renderAsync=function(t){var n=this.render(t);return this._ready?this._ready.then(function(){return n}):Promise.resolve(n)},Nh._load=function(t,n){var e=this,r=e._loader[t](n);if(!e._ready){var i=e._call;e._ready=e._loader.ready().then(function(t){t&&i(),e._ready=null})}return r},Nh.sanitizeURL=function(t){return this._load("sanitizeURL",t)},Nh.loadImage=function(t){return this._load("loadImage",t)};var Ph=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Lh="mousemove",zh="mouseout",$h="click";function Uh(t,n){Fh.call(this,t,n),this._down=null,this._touch=null,this._first=!0}var Ih=Object(d["v"])(Uh,Fh);function qh(t,n,e){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(t,r):(i&&i.exit||this.fire(e,r),this._active=a,this.fire(n,r),this.fire(t,r))}}function Wh(t){return function(n){this.fire(t,n),this._active=null}}Ih.initialize=function(t,n,e){var r=this._canvas=t&&Mh(t,"canvas");if(r){var i=this;this.events.forEach(function(t){r.addEventListener(t,function(n){Ih[t]?Ih[t].call(i,n):i.fire(t,n)})})}return Fh.prototype.initialize.call(this,t,n,e)},Ih.canvas=function(){return this._canvas},Ih.context=function(){return this._canvas.getContext("2d")},Ih.events=Ph,Ih.DOMMouseScroll=function(t){this.fire("mousewheel",t)},Ih.mousemove=qh("mousemove","mouseover","mouseout"),Ih.dragover=qh("dragover","dragenter","dragleave"),Ih.mouseout=Wh("mouseout"),Ih.dragleave=Wh("dragleave"),Ih.mousedown=function(t){this._down=this._active,this.fire("mousedown",t)},Ih.click=function(t){this._down===this._active&&(this.fire("click",t),this._down=null)},Ih.touchstart=function(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",t,!0)},Ih.touchmove=function(t){this.fire("touchmove",t,!0)},Ih.touchend=function(t){this.fire("touchend",t,!0),this._touch=null},Ih.fire=function(t,n,e){var r,i,a=e?this._touch:this._active,o=this._handlers[t];if(n.vegaType=t,t===$h&&a&&a.href?this.handleHref(n,a,a.href):t!==Lh&&t!==zh||this.handleTooltip(n,a,t!==zh),o)for(r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,n,a)},Ih.on=function(t,n){var e=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[e],t,n);return i<0&&(r[e]||(r[e]=[])).push({type:t,handler:n}),this},Ih.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&r.splice(i,1),this},Ih.pickEvent=function(t){var n=Dh(t,this._canvas),e=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-e[0],n[1]-e[1])},Ih.pick=function(t,n,e,r,i){var a=this.context(),o=ph[t.marktype];return o.pick.call(this,a,t,n,e,r,i)};var Yh=function(t,n){var e=n.clip;if(t.save(),t.beginPath(),Object(d["A"])(e))e(t);else{var r=n.group;t.rect(0,0,r.width||0,r.height||0)}t.clip()};function Hh(){return"undefined"!==typeof window&&window.devicePixelRatio||1}var Vh=Hh(),Gh=function(t,n,e,r,i,a){var o,u="undefined"!==typeof HTMLElement&&t instanceof HTMLElement&&null!=t.parentNode,s=t.getContext("2d"),c=u?Vh:i;for(o in t.width=n*c,t.height=e*c,a)s[o]=a[o];return u&&1!==c&&(t.style.width=n+"px",t.style.height=e+"px"),s.pixelRatio=c,s.setTransform(c,0,0,c,c*r[0],c*r[1]),t};function Xh(t){Rh.call(this,t),this._redraw=!1,this._dirty=new Du}var Jh=Object(d["v"])(Xh,Rh),Zh=Rh.prototype,Qh=new Du;function Kh(t,n,e){return n.expand(1).round(),n.translate(-e[0]%1,-e[1]%1),t.beginPath(),t.rect(n.x1,n.y1,n.width(),n.height()),t.clip(),n}function td(t,n){if(null==n)return t;for(var e=Qh.clear().union(t);null!=n;n=n.mark.group)e.translate(n.x||0,n.y||0);return e}function nd(t,n){Fh.call(this,t,n);var e=this;e._hrefHandler=rd(e,function(t,n){n&&n.href&&e.handleHref(t,n,n.href)}),e._tooltipHandler=rd(e,function(t,n){e.handleTooltip(t,n,t.type!==zh)})}Jh.initialize=function(t,n,e,r,i,a){return this._options=a,this._canvas=Nu(1,1,a&&a.type),t&&(Ch(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Zh.initialize.call(this,t,n,e,r,i)},Jh.resize=function(t,n,e,r){return Zh.resize.call(this,t,n,e,r),Gh(this._canvas,this._width,this._height,this._origin,this._scale,this._options&&this._options.context),this._redraw=!0,this},Jh.canvas=function(){return this._canvas},Jh.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Jh.dirty=function(t){var n=td(t.bounds,t.mark.group);this._dirty.union(n)},Jh._render=function(t){var n=this.context(),e=this._origin,r=this._width,i=this._height,a=this._dirty;return n.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=Kh(n,a,e),this.clear(-e[0],-e[1],r,i),this.draw(n,t,a),n.restore(),this._dirty.clear(),this},Jh.draw=function(t,n,e){var r=ph[n.marktype];n.clip&&Yh(t,n),r.draw.call(this,t,n,e),n.clip&&t.restore()},Jh.clear=function(t,n,e,r){var i=this.context();i.clearRect(t,n,e,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(t,n,e,r))};var ed=Object(d["v"])(nd,Fh);function rd(t,n){return function(e){var r=e.target,i=r.__data__;e.vegaType=e.type,i=Array.isArray(i)?i[0]:i,n.call(t._obj,e,i)}}function id(t,n,e){var r,i,a="<"+t;if(n)for(r in n)i=n[r],null!=i&&(a+=" "+r+'="'+i+'"');return e&&(a+=" "+e),a+">"}function ad(t){return"</"+t+">"}ed.initialize=function(t,n,e){var r=this._svg;return r&&(r.removeEventListener($h,this._hrefHandler),r.removeEventListener(Lh,this._tooltipHandler),r.removeEventListener(zh,this._tooltipHandler)),this._svg=r=t&&Mh(t,"svg"),r&&(r.addEventListener($h,this._hrefHandler),r.addEventListener(Lh,this._tooltipHandler),r.addEventListener(zh,this._tooltipHandler)),Fh.prototype.initialize.call(this,t,n,e)},ed.canvas=function(){return this._svg},ed.on=function(t,n){var e=this.eventName(t),r=this._handlers,i=this._handlerIndex(r[e],t,n);if(i<0){var a={type:t,handler:n,listener:rd(this,n)};(r[e]||(r[e]=[])).push(a),this._svg&&this._svg.addEventListener(e,a.listener)}return this},ed.off=function(t,n){var e=this.eventName(t),r=this._handlers[e],i=this._handlerIndex(r,t,n);return i>=0&&(this._svg&&this._svg.removeEventListener(e,r[i].listener),r.splice(i,1)),this};var od={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ud={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},sd=Object.keys(ud),cd=od.xmlns;function ld(t){Rh.call(this,t),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}var fd=Object(d["v"])(ld,Rh),hd=Rh.prototype;function dd(t,n,e){var r,i,a;for(t=Eh(t,e,"linearGradient",cd),t.setAttribute("id",n.id),t.setAttribute("x1",n.x1),t.setAttribute("x2",n.x2),t.setAttribute("y1",n.y1),t.setAttribute("y2",n.y2),r=0,i=n.stops.length;r<i;++r)a=Eh(t,r,"stop",cd),a.setAttribute("offset",n.stops[r].offset),a.setAttribute("stop-color",n.stops[r].color);Ch(t,r)}function pd(t,n,e){var r;t=Eh(t,e,"clipPath",cd),t.setAttribute("id",n.id),n.path?(r=Eh(t,0,"path",cd),r.setAttribute("d",n.path)):(r=Eh(t,0,"rect",cd),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",n.width),r.setAttribute("height",n.height))}function vd(t,n){for(;t&&t.dirty!==n;t=t.mark.group){if(t.dirty=n,!t.mark||t.mark.dirty===n)return;t.mark.dirty=n}}function gd(t,n,e){n=n.lastChild;var r,i=0;Il(e,function(e){r=t.draw(n,e,r),++i}),Ch(n,1+i)}function md(t,n,e,r,i){var a,o=t._svg;if(!o&&(a=n.ownerDocument,o=kh(a,r,cd),t._svg=o,t.mark&&(o.__data__=t,o.__values__={fill:"default"},"g"===r))){var u=kh(a,"path",cd);u.setAttribute("class","background"),o.appendChild(u),u.__data__=t;var s=kh(a,"g",cd);o.appendChild(s),s.__data__=t}return(o.ownerSVGElement!==i||yd(t)&&o.previousSibling!==e)&&n.insertBefore(o,e?e.nextSibling:n.firstChild),o}function yd(t){var n=t.mark||t.group;return n&&n.items.length>1}fd.initialize=function(t,n,e,r){return t&&(this._svg=Eh(t,0,"svg",cd),this._svg.setAttribute("class","marks"),Ch(t,1),this._root=Eh(this._svg,0,"g",cd),Ch(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),hd.initialize.call(this,t,n,e,r)},fd.background=function(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),hd.background.apply(this,arguments)},fd.resize=function(t,n,e,r){return hd.resize.call(this,t,n,e,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},fd.canvas=function(){return this._svg},fd.svg=function(){if(!this._svg)return null;var t={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var n in od)t[n]=od[n];var e=this._bgcolor?id("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+ad("rect"):"";return id("svg",t)+e+this._svg.innerHTML+ad("svg")},fd._render=function(t){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,t),Ch(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},fd.updateDefs=function(){var t,n=this._svg,e=this._defs,r=e.el,i=0;for(t in e.gradient)r||(e.el=r=Eh(n,0,"defs",cd)),dd(r,e.gradient[t],i++);for(t in e.clipping)r||(e.el=r=Eh(n,0,"defs",cd)),pd(r,e.clipping[t],i++);r&&(0===i?(n.removeChild(r),e.el=null):Ch(r,i))},fd._resetDefs=function(){var t=this._defs;t.gradient={},t.clipping={}},fd.dirty=function(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))},fd.isDirty=function(t){return this._dirtyAll||!t._svg||t.dirty===this._dirtyID},fd._dirtyCheck=function(){this._dirtyAll=!0;var t=this._dirty;if(!t.length)return!0;var n,e,r,i,a,o,u,s=++this._dirtyID;for(a=0,o=t.length;a<o;++a)n=t[a],e=n.mark,e.marktype!==r&&(r=e.marktype,i=ph[r]),e.zdirty&&e.dirty!==s&&(this._dirtyAll=!1,vd(n,s),e.items.forEach(function(t){t.dirty=s})),e.zdirty||(n.exit?(i.nested&&e.items.length?(u=e.items[0],u._svg&&this._update(i,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null):(n=i.nested?e.items[0]:n,n._update!==s&&(n._svg&&n._svg.ownerSVGElement?this._update(i,n._svg,n):(this._dirtyAll=!1,vd(n,s)),n._update=s)));return!this._dirtyAll},fd.draw=function(t,n,e){if(!this.isDirty(n))return n._svg;var r,i=this,a=this._svg,o=ph[n.marktype],u=!1===n.interactive?"none":null,s="g"===o.tag,c=null,l=0;function f(t){var n=i.isDirty(t),e=md(t,r,c,o.tag,a);n&&(i._update(o,e,t),s&&gd(i,e,t)),c=e,++l}return r=md(n,t,e,"g",a),r.setAttribute("class",jh(n)),s||r.style.setProperty("pointer-events",u),n.clip?r.setAttribute("clip-path",cf(i,n,n.group)):r.removeAttribute("clip-path"),o.nested?n.items.length&&f(n.items[0]):Il(n,f),Ch(r,l),r};var bd=null,_d=null,xd={group:function(t,n,e){_d=n.__values__,bd=n.childNodes[1],t.foreground(Ad,e,this),bd=n.childNodes[0],t.background(Ad,e,this);var r=!1===e.mark.interactive?"none":null;r!==_d.events&&(bd.style.setProperty("pointer-events",r),_d.events=r)},text:function(t,n,e){var r;r=Kf(e),r!==_d.text&&(n.textContent=r,_d.text=r),wd(n,"font-family",nh(e)),wd(n,"font-size",Zf(e)+"px"),wd(n,"font-style",e.fontStyle),wd(n,"font-variant",e.fontVariant),wd(n,"font-weight",e.fontWeight)}};function wd(t,n,e){e!==_d[n]&&(null==e?t.style.removeProperty(n):t.style.setProperty(n,e+""),_d[n]=e)}function Ad(t,n,e){n!==_d[t]&&(null!=n?e?bd.setAttributeNS(e,t,n):bd.setAttribute(t,n):e?bd.removeAttributeNS(e,t):bd.removeAttribute(t),_d[t]=n)}function Od(){var t;return"undefined"===typeof window?"":(t=window.location).hash?t.href.slice(0,-t.hash.length):t.href}function kd(t){Rh.call(this,t),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}fd._update=function(t,n,e){bd=n,_d=n.__values__,t.attr(Ad,e,this);var r=xd[t.type];r&&r.call(this,t,n,e),this.style(bd,e)},fd.style=function(t,n){var e,r,i,a,o;if(null!=n)for(e=0,r=sd.length;e<r;++e)i=sd[e],o=n[i],"font"===i&&(o=nh(n)),o!==_d[i]&&(a=ud[i],null==o?"fill"===a?t.style.setProperty(a,"none"):t.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+Od()+"#"+o.id+")"),t.style.setProperty(a,o+"")),_d[i]=o)};var Md,Ed=Object(d["v"])(kd,Rh),Cd=Rh.prototype;function jd(t,n,e,r){Md[r||t]=n}function Dd(t,n,e,r){if(null==t)return"";var i,a,o,u,s,c="";for("bgrect"===e&&!1===n.interactive&&(c+="pointer-events: none; "),"text"===e&&(c+="font-family: "+nh(t)+"; ",c+="font-size: "+Zf(t)+"px; ",t.fontStyle&&(c+="font-style: "+t.fontStyle+"; "),t.fontVariant&&(c+="font-variant: "+t.fontVariant+"; "),t.fontWeight&&(c+="font-weight: "+t.fontWeight+"; ")),i=0,a=sd.length;i<a;++i)o=sd[i],u=ud[o],s=t[o],null==s?"fill"===u&&(c+="fill: none; "):"transparent"!==s||"fill"!==u&&"stroke"!==u?(s.id&&(r.gradient[s.id]=s,s="url(#"+s.id+")"),c+=u+": "+s+"; "):c+=u+": none; ";return c?'style="'+c.trim()+'"':null}function Sd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}Ed.resize=function(t,n,e,r){Cd.resize.call(this,t,n,e,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var u in od)o[u]=od[u];a.head=id("svg",o);var s=this._bgcolor;return"transparent"!==s&&"none"!==s||(s=null),a.bg=s?id("rect",{width:this._width,height:this._height,style:"fill: "+s+";"})+ad("rect"):"",a.root=id("g",{transform:"translate("+i+")"}),a.foot=ad("g")+ad("svg"),this},Ed.background=function(){var t=Cd.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),t},Ed.svg=function(){var t=this._text;return t.head+t.bg+t.defs+t.root+t.body+t.foot},Ed._render=function(t){return this._text.body=this.mark(t),this._text.defs=this.buildDefs(),this},Ed.buildDefs=function(){var t,n,e,r,i=this._defs,a="";for(n in i.gradient){for(e=i.gradient[n],r=e.stops,a+=id("linearGradient",{id:n,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),t=0;t<r.length;++t)a+=id("stop",{offset:r[t].offset,"stop-color":r[t].color})+ad("stop");a+=ad("linearGradient")}for(n in i.clipping)e=i.clipping[n],a+=id("clipPath",{id:n}),e.path?a+=id("path",{d:e.path})+ad("path"):a+=id("rect",{x:0,y:0,width:e.width,height:e.height})+ad("rect"),a+=ad("clipPath");return a.length>0?id("defs")+a+ad("defs"):""},Ed.attributes=function(t,n){return Md={},t(jd,n,this),Md},Ed.href=function(t){var n,e=this,r=t.href;if(r){if(n=e._hrefs&&e._hrefs[r])return n;e.sanitizeURL(r).then(function(t){t["xlink:href"]=t.href,t.href=null,(e._hrefs||(e._hrefs={}))[r]=t})}return null},Ed.mark=function(t){var n,e=this,r=ph[t.marktype],i=r.tag,a=this._defs,o="";function u(u){var s=e.href(u);s&&(o+=id("a",s)),n="g"!==i?Dd(u,t,i,a):null,o+=id(i,e.attributes(r.attr,u),n),"text"===i?o+=Sd(Kf(u)):"g"===i&&(o+=id("path",e.attributes(r.background,u),Dd(u,t,"bgrect",a))+ad("path"),o+=id("g",e.attributes(r.foreground,u))+e.markGroup(u)+ad("g")),o+=ad(i),s&&(o+=ad("a"))}return"g"!==i&&!1===t.interactive&&(n='style="pointer-events: none;"'),o+=id("g",{class:jh(t),"clip-path":t.clip?cf(e,t,t.group):null},n),r.nested?t.items&&t.items.length&&u(t.items[0]):Il(t,u),o+ad("g")},Ed.markGroup=function(t){var n=this,e="";return Il(t,function(t){e+=n.mark(t)}),e};var Fd="canvas",Td="png",Bd="svg",Rd="none",Nd={Canvas:Fd,PNG:Td,SVG:Bd,None:Rd},Pd={};function Ld(t,n){return t=String(t||"").toLowerCase(),arguments.length>1?(Pd[t]=n,this):Pd[t]}function zd(t,n,e){const r=[],i=(new Du).union(n),a=t.marktype;return a?$d(t,i,e,r):"group"===a?Id(t,i,e,r):Object(d["l"])("Intersect scene must be mark node or group item.")}function $d(t,n,e,r){if(Ud(t,n,e)){const i=t.items,a=t.marktype,o=i.length;let u=0;if("group"===a)for(;u<o;++u)Id(i[u],n,e,r);else for(const t=ph[a].isect;u<o;++u){let e=i[u];qd(e,n,t)&&r.push(e)}}return r}function Ud(t,n,e){return t.bounds&&n.intersects(t.bounds)&&("group"===t.marktype||!1!==t.interactive&&(!e||e(t)))}function Id(t,n,e,r){e&&e(t.mark)&&qd(t,n,ph.group.isect)&&r.push(t);const i=t.items,a=i&&i.length;if(a){const o=t.x||0,u=t.y||0;n.translate(-o,-u);for(let t=0;t<a;++t)$d(i[t],n,e,r);n.translate(o,u)}return r}function qd(t,n,e){const r=t.bounds;return n.encloses(r)||n.intersects(r)&&e(t,n)}Pd[Fd]=Pd[Td]={renderer:Xh,headless:Xh,handler:Uh},Pd[Bd]={renderer:ld,headless:kd,handler:nd},Pd[Rd]={};var Wd=new Du,Yd=function(t){var n=t.clip;if(Object(d["A"])(n))n(kl(Wd.clear()));else{if(!n)return;Wd.set(0,0,t.group.width,t.group.height)}t.bounds.intersect(Wd)};function Hd(t){ni.call(this,null,t)}var Vd=Object(d["v"])(Hd,ni);function Gd(t,n,e){return n(t.bounds.clear(),t,e)}Vd.transform=function(t,n){var e,r=n.dataflow,i=t.mark,a=i.marktype,o=ph[a],u=o.bound,s=i.bounds;return o.nested?(i.items.length&&r.dirty(i.items[0]),s=Gd(i,u),i.items.forEach(function(t){t.bounds.clear().union(s)})):a===ou||t.modified()?(n.visit(n.MOD,function(t){r.dirty(t)}),s.clear(),i.items.forEach(function(t){s.union(Gd(t,u))}),i.role===fu&&n.reflow()):(e=n.changed(n.REM),n.visit(n.ADD,function(t){s.union(Gd(t,u))}),n.visit(n.MOD,function(t){e=e||s.alignsWith(t.bounds),r.dirty(t),s.union(Gd(t,u))}),e&&(s.clear(),i.items.forEach(function(t){s.union(t.bounds)}))),Yd(i),n.modifies("bounds")};var Xd=":vega_identifier:";function Jd(t){ni.call(this,0,t)}Jd.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};var Zd=Object(d["v"])(Jd,ni);function Qd(t){var n=t._signals[Xd];return n||(t._signals[Xd]=n=t.add(0)),n}function Kd(t){ni.call(this,null,t)}Zd.transform=function(t,n){var e=Qd(n.dataflow),r=e.value,i=t.as;return n.visit(n.ADD,function(t){t[i]||(t[i]=++r)}),e.set(this.value=r),n};var tp=Object(d["v"])(Kd,ni);function np(t){var n=t.groups,e=t.parent;return n&&1===n.size?n.get(Object.keys(n.object)[0]):n&&e?n.lookup(e):null}function ep(t){ni.call(this,null,t)}tp.transform=function(t,n){var e=this.value;e||(e=n.dataflow.scenegraph().mark(t.markdef,np(t),t.index),e.group.context=t.context,t.context.group||(t.context.group=e.group),e.source=this,e.clip=t.clip,e.interactive=t.interactive,this.value=e);var r=e.marktype===ou?Ru:Bu;return n.visit(n.ADD,function(t){r.call(t,e)}),(t.modified("clip")||t.modified("interactive"))&&(e.clip=t.clip,e.interactive=!!t.interactive,e.zdirty=!0,n.reflow()),e.items=n.source,n};var rp=Object(d["v"])(ep,ni),ip={parity:function(t){return t.filter(function(t,n){return n%2?t.opacity=0:1})},greedy:function(t,n){var e;return t.filter(function(t,r){return r&&ap(e.bounds,t.bounds,n)?t.opacity=0:(e=t,1)})}};function ap(t,n,e){return e>Math.max(n.x1-t.x2,t.x1-n.x2,n.y1-t.y2,t.y1-n.y2)}function op(t,n){for(var e,r=1,i=t.length,a=t[0].bounds;r<i;a=e,++r)if(ap(a,e=t[r].bounds,n))return!0}function up(t){var n=t.bounds;return n.width()>1&&n.height()>1}function sp(t,n,e){var r=t.range(),i=new Du;return n===Jo||n===Ko?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(e||1),function(t){return i.encloses(t.bounds)}}function cp(t){return t.forEach(function(t){t.opacity=1}),t}function lp(t,n){return t.reflow(n.modified()).modifies("opacity")}function fp(t){ni.call(this,null,t)}rp.transform=function(t,n){var e,r,i=ip[t.method]||ip.parity,a=n.materialize(n.SOURCE).source,o=t.separation||0;if(a){if(!t.method)return t.modified("method")&&(cp(a),n=lp(n,t)),n;if(t.sort&&(a=a.slice().sort(t.sort)),a=a.filter(up),e=cp(a),n=lp(n,t),e.length>=3&&op(e,o)){do{e=i(e,o)}while(e.length>=3&&op(e,o));e.length<3&&!Object(d["P"])(a).opacity&&(e.length>1&&(Object(d["P"])(e).opacity=0),Object(d["P"])(a).opacity=1)}return t.boundScale&&t.boundTolerance>=0&&(r=sp(t.boundScale,t.boundOrient,+t.boundTolerance),a.forEach(function(t){r(t)||(t.opacity=0)})),n}};var hp=Object(d["v"])(fp,ni);function dp(t){for(var n,e,r=t.items,i=r.length,a=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(n=r[a],e=n.items,n.marktype===ou)switch(n.role){case uu:case fu:break;case hu:pp(e,o.rowheaders);break;case du:pp(e,o.rowfooters);break;case vu:pp(e,o.colheaders);break;case gu:pp(e,o.colfooters);break;case pu:o.rowtitle=e[0];break;case mu:o.coltitle=e[0];break;default:pp(e,o.marks)}return o}function pp(t,n){for(var e=0,r=t.length;e<r;++e)n.push(t[e])}function vp(t){return{x1:0,y1:0,x2:t.width||0,y2:t.height||0}}function gp(t){var n=t.bounds.clone();return n.empty()?n.set(0,0,0,0):n.translate(-(t.x||0),-(t.y||0))}function mp(t,n){return"x1"===n?t.x||0:"y1"===n?t.y||0:"x2"===n?(t.x||0)+(t.width||0):"y2"===n?(t.y||0)+(t.height||0):void 0}function yp(t,n){return t.bounds[n]}function bp(t,n,e){var r=Object(d["C"])(t)?t[n]:t;return null!=r?r:void 0!==e?e:0}function _p(t){return t<0?Math.ceil(-t):0}function xp(t,n,e){var r,i,a,o,u,s,c,l,f,h,d,p,v=dp(n,e),g=v.marks,m=e.bounds===Eu,y=m?vp:gp,b=new Du(0,0,0,0),_=bp(e.align,Cu),x=bp(e.align,ju),w=bp(e.padding,Cu),A=bp(e.padding,ju),O=e.offset,k=n.columns||e.columns||g.length,M=k<0?1:Math.ceil(g.length/k),E=M*k,C=[],j=[],D=0,S=0,F=[],T=[],B=0,R=0,N=g.length;for(i=0;i<k;++i)j[i]=0;for(i=0;i<M;++i)T[i]=0;for(i=0;i<N;++i)u=y(g[i]),a=i%k,o=~~(i/k),c=Math.ceil(y(g[i]).x2),l=Math.ceil(y(g[i]).y2),D=Math.max(D,c),B=Math.max(B,l),j[a]=Math.max(j[a],c),T[o]=Math.max(T[o],l),C.push(w+_p(u.x1)),F.push(A+_p(u.y1)),t.dirty(g[i]);for(i=0;i<N;++i)i%k===0&&(C[i]=S),i<k&&(F[i]=R);if(_===Mu)for(a=1;a<k;++a){for(p=0,i=a;i<N;i+=k)p<C[i]&&(p=C[i]);for(i=a;i<N;i+=k)C[i]=p+j[a-1]}else if(_===ku){for(p=0,i=0;i<N;++i)i%k&&p<C[i]&&(p=C[i]);for(i=0;i<N;++i)i%k&&(C[i]=p+D)}else for(_=!1,a=1;a<k;++a)for(i=a;i<N;i+=k)C[i]+=j[a-1];if(x===Mu)for(o=1;o<M;++o){for(p=0,i=o*k,r=i+k;i<r;++i)p<F[i]&&(p=F[i]);for(i=o*k;i<r;++i)F[i]=p+T[o-1]}else if(x===ku){for(p=0,i=k;i<N;++i)p<F[i]&&(p=F[i]);for(i=k;i<N;++i)F[i]=p+B}else for(x=!1,o=1;o<M;++o)for(i=o*k,r=i+k;i<r;++i)F[i]+=T[o-1];for(f=0,i=0;i<N;++i)s=g[i],c=s.x||0,s.x=f=C[i]+(i%k?f:0),s.bounds.translate(f-c,0);for(a=0;a<k;++a)for(h=0,i=a;i<N;i+=k)s=g[i],l=s.y||0,s.y=h+=F[i],s.bounds.translate(0,h-l);if(bp(e.center,Cu)&&M>1&&_)for(i=0;i<N;++i)s=g[i],u=_===ku?D:j[i%k],f=u-y(s).x2,f>0&&(s.x+=c=f/2,s.bounds.translate(c,0));if(bp(e.center,ju)&&1!==k&&x)for(i=0;i<N;++i)s=g[i],u=x===ku?B:T[~~(i/k)],h=u-y(s).y2,h>0&&(s.y+=l=h/2,s.bounds.translate(0,l));for(i=0;i<N;++i)g[i].mark.bounds.clear();for(i=0;i<N;++i)s=g[i],t.dirty(s),b.union(s.mark.bounds.union(s.bounds));function P(t,n){return Math.floor(Math.min(t,n))}function L(t,n){return Math.ceil(Math.max(t,n))}y=m?mp:yp,d=bp(e.headerBand,ju,null),f=wp(t,v.rowheaders,g,k,M,-bp(O,"rowHeader"),P,0,y,"x1",0,k,1,d),d=bp(e.headerBand,Cu,null),h=wp(t,v.colheaders,g,k,k,-bp(O,"columnHeader"),P,1,y,"y1",0,1,k,d),d=bp(e.footerBand,ju,null),wp(t,v.rowfooters,g,k,M,bp(O,"rowFooter"),L,0,y,"x2",k-1,k,1,d),d=bp(e.footerBand,Cu,null),wp(t,v.colfooters,g,k,k,bp(O,"columnFooter"),L,1,y,"y2",E-k,1,k,d),v.rowtitle&&(p=f-bp(O,"rowTitle"),d=bp(e.titleBand,ju,.5),Ap(t,v.rowtitle,p,0,b,d)),v.coltitle&&(p=h-bp(O,"columnTitle"),d=bp(e.titleBand,Cu,.5),Ap(t,v.coltitle,p,1,b,d))}function wp(t,n,e,r,i,a,o,u,s,c,l,f,h,d){var p,v,g,m,y,b,_,x,w,A=e.length,O=0,k=0;if(!A)return O;for(p=l;p<A;p+=f)e[p]&&(O=o(O,s(e[p],c)));if(!n.length)return O;for(n.length>i&&(t.warn("Grid headers exceed limit: "+i),n=n.slice(0,i)),O+=a,v=0,m=n.length;v<m;++v)t.dirty(n[v]),n[v].mark.bounds.clear();for(p=l,v=0,m=n.length;v<m;++v,p+=f){for(b=n[v],y=b.mark.bounds,g=p;g>=0&&null==(_=e[g]);g-=h);u?(x=null==d?_.x:Math.round(_.bounds.x1+d*_.bounds.width()),w=O):(x=O,w=null==d?_.y:Math.round(_.bounds.y1+d*_.bounds.height())),y.union(b.bounds.translate(x-(b.x||0),w-(b.y||0))),b.x=x,b.y=w,t.dirty(b),k=o(k,y[c])}return k}function Ap(t,n,e,r,i,a){if(n){t.dirty(n);var o=e,u=e;r?o=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),n.bounds.translate(o-(n.x||0),u-(n.y||0)),n.mark.bounds.clear().union(n.bounds),n.x=o,n.y=u,t.dirty(n)}}hp.transform=function(t,n){var e=n.dataflow;if(n.visit(n.ALL,function(t){e.dirty(t)}),n.fields&&n.fields["zindex"]){var r=n.source&&n.source[0];r&&(r.mark.zdirty=!0)}};var Op=.5,kp=new Du;function Mp(t){ni.call(this,null,t)}var Ep=Object(d["v"])(Mp,ni);function Cp(t,n,e){var r,i,a,o,u,s,c=n.items,l=Math.max(0,n.width||0),f=Math.max(0,n.height||0),h=(new Du).set(0,0,l,f),d=h.clone(),p=h.clone(),v=[];for(u=0,s=c.length;u<s;++u)switch(i=c[u],i.role){case uu:o=Dp(i)?d:p,o.union(Fp(t,i,l,f));break;case su:r=i;break;case fu:v.push(i);break;case cu:case lu:case hu:case du:case pu:case vu:case gu:case mu:d.union(i.bounds),p.union(i.bounds);break;default:h.union(i.bounds)}if(v.length)for(a={leftWidth:Rp(t,v),margin:e.legendMargin||8,left:0,right:0,top:0,bottom:0},u=0,s=v.length;u<s;++u)if(o=$p(t,v[u],a,d,p,l,f),e.autosize&&e.autosize.type===_u){var g=v[u].items[0].datum.orient;g===Zo||g===Qo?h.add(o.x1,0).add(o.x2,0):g!==Jo&&g!==Ko||h.add(0,o.y1).add(0,o.y2)}else h.union(o);h.union(d).union(p),r&&h.union(Bp(t,r,l,f,h)),Ip(t,n,h,e)}function jp(t,n,e){return t[n]===e?0:(t[n]=e,1)}function Dp(t){var n=t.items[0].datum.orient;return n===Zo||n===Qo}function Sp(t){var n=+t.grid;return[t.ticks?n++:-1,t.labels?n++:-1,n+ +t.domain]}function Fp(t,n,e,r){var i,a,o=n.items[0],u=o.datum,s=u.orient,c=Sp(u),l=o.range,f=o.offset,h=o.position,d=o.minExtent,p=o.maxExtent,v=u.title&&o.items[c[2]].items[0],g=o.titlePadding,m=o.bounds,y=0,b=0;switch(kp.clear().union(m),m.clear(),(i=c[0])>-1&&m.union(o.items[i].bounds),(i=c[1])>-1&&m.union(o.items[i].bounds),s){case Jo:y=h||0,b=-f,a=Math.max(d,Math.min(p,-m.y1)),v&&(a=Tp(v,a,g,0,-1,m)),m.add(0,-a).add(l,0);break;case Zo:y=-f,b=h||0,a=Math.max(d,Math.min(p,-m.x1)),v&&(a=Tp(v,a,g,1,-1,m)),m.add(-a,0).add(0,l);break;case Qo:y=e+f,b=h||0,a=Math.max(d,Math.min(p,m.x2)),v&&(a=Tp(v,a,g,1,1,m)),m.add(0,0).add(a,l);break;case Ko:y=h||0,b=r+f,a=Math.max(d,Math.min(p,m.y2)),v&&(a=Tp(v,a,g,0,1,m)),m.add(0,0).add(l,a);break;default:y=o.x,b=o.y}return Al(m.translate(y,b),o),jp(o,"x",y+Op)|jp(o,"y",b+Op)&&(o.bounds=kp,t.dirty(o),o.bounds=m,t.dirty(o)),o.mark.bounds.clear().union(m)}function Tp(t,n,e,r,i,a){var o=t.bounds,u=0,s=0;return t.auto?(n+=e,r?u=(t.x||0)-(t.x=i*n):s=(t.y||0)-(t.y=i*n),o.translate(-u,-s),t.mark.bounds.set(o.x1,o.y1,o.x2,o.y2),r?(a.add(0,o.y1).add(0,o.y2),n+=o.width()):(a.add(o.x1,0).add(o.x2,0),n+=o.height())):a.union(o),n}function Bp(t,n,e,r,i){var a,o=n.items[0],u=o.orient,s=o.frame,c=o.anchor,l=o.offset,f=o.bounds,h=u===Zo||u===Qo,d=0,p=h?r:e,v=0,g=0;switch(s!==ou?u===Zo?(d=i.y2,p=i.y1):u===Qo?(d=i.y1,p=i.y2):(d=i.x1,p=i.x2):u===Zo&&(d=r,p=0),a=c===iu?d:c===au?p:(d+p)/2,kp.clear().union(f),u){case Jo:v=a,g=i.y1-l;break;case Zo:v=i.x1-l,g=a;break;case Qo:v=i.x2+l,g=a;break;case Ko:v=a,g=i.y2+l;break;default:v=o.x,g=o.y}return f.translate(v-(o.x||0),g-(o.y||0)),jp(o,"x",v)|jp(o,"y",g)&&(o.bounds=kp,t.dirty(o),o.bounds=f,t.dirty(o)),n.bounds.clear().union(f)}function Rp(t,n){return n.reduce(function(n,e){const r=e.items[0];if(Pp(t,r,r.items[0].items[0]),r.datum.orient===Zo){const t=Np(r,kp.clear());n=Math.max(n,Math.ceil(t.width()+2*r.padding))}return n},0)}function Np(t,n){return t.items.forEach(t=>n.union(t.bounds)),n.x1=t.padding,n.y1=t.padding,n}function Pp(t,n,e){var r=n.padding,i=r-e.x,a=r-e.y;if(n.datum.title){var o=n.items[1].items[0],u=o.anchor,s=n.titlePadding||0,c=r-o.x,l=r-o.y;switch(o.orient){case Zo:i+=Math.ceil(o.bounds.width())+s;break;case Qo:case Ko:break;default:a+=o.fontSize+s}switch((i||a)&&zp(t,e,i,a),o.orient){case Zo:l+=Lp(n,e,o,u,0,1);break;case Qo:c+=Lp(n,e,o,au,1,0)+s,l+=Lp(n,e,o,u,0,1);break;case Ko:c+=Lp(n,e,o,u,1,0),l+=Lp(n,e,o,au,0,0,1)+s;break;default:c+=Lp(n,e,o,u,1,0)}(c||l)&&zp(t,o,c,l),(c=Math.round(o.bounds.x1-r))<0&&(zp(t,e,-c,0),zp(t,o,-c,0))}else(i||a)&&zp(t,e,i,a)}function Lp(t,n,e,r,i,a,o){const u="symbol"!==t.datum.type,s=e.datum.vgrad,c=!u||!a&&s||o?n:n.items[0],l=c.bounds[i?"x2":"y2"]-t.padding,f=s&&a?l:0,h=s&&a?0:l;return~~(r===iu?f:r===au?h:.5*l)}function zp(t,n,e,r){n.x+=e,n.y+=r,n.bounds.translate(e,r),n.mark.bounds.translate(e,r),t.dirty(n)}function $p(t,n,e,r,i,a,o){var u,s,c,l=n.items[0],f=l.datum,h=f.orient,d=l.offset,p=l.bounds,v=0,g=0;switch(h===Jo||h===Ko?(c=i,v=e[h]):h!==Zo&&h!==Qo||(c=r,g=e[h]),kp.clear().union(p),p.clear(),p=Np(l,p),u=2*l.padding,s=2*l.padding,p.empty()||(u=Math.ceil(p.width()+u),s=Math.ceil(p.height()+s)),f.type===bu&&Up(l.items[0].items[0].items[0].items),h){case Zo:v-=e.leftWidth+d-Math.floor(c.x1),e.left+=s+e.margin;break;case Qo:v+=d+Math.ceil(c.x2),e.right+=s+e.margin;break;case Jo:g-=s+d-Math.floor(c.y1),e.top+=u+e.margin;break;case Ko:g+=d+Math.ceil(c.y2),e.bottom+=u+e.margin;break;case tu:v+=d,g+=d;break;case nu:v+=a-u-d,g+=d;break;case eu:v+=d,g+=o-s-d;break;case ru:v+=a-u-d,g+=o-s-d;break;default:v=l.x,g=l.y}return Al(p.set(v,g,v+u,g+s),l),jp(l,"x",v)|jp(l,"width",u)|jp(l,"y",g)|jp(l,"height",s)&&(l.bounds=kp,t.dirty(l),l.bounds=p,t.dirty(l)),l.mark.bounds.clear().union(p)}function Up(t){var n=t.reduce(function(t,n){return t[n.column]=Math.max(n.bounds.x2-n.x,t[n.column]||0),t},{});t.forEach(function(t){t.width=n[t.column],t.height=t.bounds.y2-t.y})}function Ip(t,n,e,r){var i=r.autosize||{},a=i.type,o=t._width,u=t._height,s=t.padding();if(!(t._autosize<1)&&a){var c=Math.max(0,n.width||0),l=Math.max(0,Math.ceil(-e.x1)),f=Math.max(0,Math.ceil(e.x2-c)),h=Math.max(0,n.height||0),d=Math.max(0,Math.ceil(-e.y1)),p=Math.max(0,Math.ceil(e.y2-h));i.contains===yu&&(o-=s.left+s.right,u-=s.top+s.bottom),a===Ou?(l=0,d=0,c=o,h=u):a===_u?(c=Math.max(0,o-l-f),h=Math.max(0,u-d-p)):a===xu?(c=Math.max(0,o-l-f),u=h+d+p):a===wu?(o=c+l+f,h=Math.max(0,u-d-p)):a===Au&&(o=c+l+f,u=h+d+p),t._resizeView(o,u,c,h,[l,d],i.resize)}}Ep.transform=function(t,n){var e=n.dataflow;return t.mark.items.forEach(function(n){t.layout&&xp(e,n,t.layout),Cp(e,n,t)}),t.modified()&&n.reflow(),n};var qp=function(t,n,e){var r=t-n+2*e;return t?r>0?r:1:0};const Wp="identity",Yp="linear",Hp="log",Vp="pow",Gp="sqrt",Xp="symlog",Jp="time",Zp="utc",Qp="sequential",Kp="diverging",tv="quantile",nv="quantize",ev="threshold",rv="ordinal",iv="point",av="band",ov="bin-ordinal";function uv(t){switch(t){case Wp:case Yp:case Hp:case Vp:case Gp:case Xp:case Jp:case Zp:case Qp:case tv:case nv:case ev:case rv:case iv:case av:case ov:return!0}return!1}function sv(t){return t===ov}function cv(t){return t===tv}function lv(t){return t&&t.startsWith(Qp)}function fv(t){return t&&t.startsWith(Kp)}function hv(t){return lv(t)||fv(t)}function dv(t){return t===Hp||t.endsWith("-log")}function pv(t){switch(t){case Yp:case Hp:case Vp:case Gp:case Xp:case Jp:case Zp:case Qp:return!0}return!1}function vv(t){return sv(t)||t===rv||t===av||t===iv}function gv(t){return sv(t)||t===tv||t===nv||t===ev}var mv={millisecond:Yt,second:Qt,minute:tn,hour:en,day:an,week:un,month:vn,year:mn},yv={millisecond:Yt,second:Qt,minute:bn,hour:xn,day:An,week:kn,month:Tn,year:Rn};function bv(t,n){const e=n===Zp?yv:mv;return e.hasOwnProperty(t)&&e[t]}var _v=function(t){return function(n){var e,r=n[0],i=n[1];return i<r&&(e=r,r=i,i=e),[t.invert(r),t.invert(i)]}},xv=function(t){return function(n){var e,r,i,a,o=t.range(),u=n[0],s=n[1],c=-1;for(s<u&&(r=u,u=s,s=r),i=0,a=o.length;i<a;++i)o[i]>=u&&o[i]<=s&&(c<0&&(c=i),e=i);if(!(c<0))return u=t.invertExtent(o[c]),s=t.invertExtent(o[e]),[void 0===u[0]?u[1]:u[0],void 0===s[1]?s[0]:s[1]]}},wv=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Av=function(t){return 1===t.length&&(t=Ov(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};function Ov(t){return function(n,e){return wv(t(n),e)}}var kv=Av(wv),Mv=kv.right,Ev=(kv.left,Mv);var Cv=function(t){return null===t?NaN:+t},jv=Array.prototype,Dv=(jv.slice,jv.map,Math.sqrt(50)),Sv=Math.sqrt(10),Fv=Math.sqrt(2),Tv=function(t,n,e){var r,i,a,o,u=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(o=Bv(t,n,e))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),n=Math.floor(n/o),a=new Array(i=Math.ceil(n-t+1));while(++u<i)a[u]=(t+u)*o}else{t=Math.floor(t*o),n=Math.ceil(n*o),a=new Array(i=Math.ceil(t-n+1));while(++u<i)a[u]=(t-u)/o}return r&&a.reverse(),a};function Bv(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Dv?10:a>=Sv?5:a>=Fv?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Dv?10:a>=Sv?5:a>=Fv?2:1)}function Rv(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Dv?i*=10:a>=Sv?i*=5:a>=Fv&&(i*=2),n<t?-i:i}var Nv=function(t,n,e){if(null==e&&(e=Cv),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,a=Math.floor(i),o=+e(t[a],a,t),u=+e(t[a+1],a+1,t);return o+(u-o)*(i-a)}};function Pv(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Lv(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t);break}return this}var zv="$";function $v(){}function Uv(t,n){var e=new $v;if(t instanceof $v)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==n)while(++i<a)e.set(i,t[i]);else while(++i<a)e.set(n(r=t[i],i,t),r)}else if(t)for(var o in t)e.set(o,t[o]);return e}$v.prototype=Uv.prototype={constructor:$v,has:function(t){return zv+t in this},get:function(t){return this[zv+t]},set:function(t,n){return this[zv+t]=n,this},remove:function(t){var n=zv+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===zv&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===zv&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===zv&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===zv&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===zv&&++t;return t},empty:function(){for(var t in this)if(t[0]===zv)return!1;return!0},each:function(t){for(var n in this)n[0]===zv&&t(this[n],n.slice(1),this)}};var Iv=Uv;function qv(){}var Wv=Iv.prototype;function Yv(t,n){var e=new qv;if(t instanceof qv)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)while(++r<i)e.add(t[r]);else while(++r<i)e.add(n(t[r],r,t))}return e}qv.prototype=Yv.prototype={constructor:qv,has:Wv.has,add:function(t){return t+="",this[zv+t]=t,this},remove:Wv.remove,clear:Wv.clear,values:Wv.keys,size:Wv.size,empty:Wv.empty,each:Wv.each};var Hv=Array.prototype,Vv=Hv.map,Gv=Hv.slice,Xv={name:"implicit"};function Jv(){var t=Iv(),n=[],e=[],r=Xv;function i(i){var a=i+"",o=t.get(a);if(!o){if(r!==Xv)return r;t.set(a,o=n.push(i))}return e[(o-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=Iv();var r,a,o=-1,u=e.length;while(++o<u)t.has(a=(r=e[o])+"")||t.set(a,n.push(r));return i},i.range=function(t){return arguments.length?(e=Gv.call(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Jv(n,e).unknown(r)},Pv.apply(i,arguments),i}var Zv=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function Qv(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Kv(){}var tg=.7,ng=1/tg,eg="\\s*([+-]?\\d+)\\s*",rg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ig="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ag=/^#([0-9a-f]{3})$/,og=/^#([0-9a-f]{6})$/,ug=new RegExp("^rgb\\("+[eg,eg,eg]+"\\)$"),sg=new RegExp("^rgb\\("+[ig,ig,ig]+"\\)$"),cg=new RegExp("^rgba\\("+[eg,eg,eg,rg]+"\\)$"),lg=new RegExp("^rgba\\("+[ig,ig,ig,rg]+"\\)$"),fg=new RegExp("^hsl\\("+[rg,ig,ig]+"\\)$"),hg=new RegExp("^hsla\\("+[rg,ig,ig,rg]+"\\)$"),dg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pg(t){var n;return t=(t+"").trim().toLowerCase(),(n=ag.exec(t))?(n=parseInt(n[1],16),new bg(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=og.exec(t))?vg(parseInt(n[1],16)):(n=ug.exec(t))?new bg(n[1],n[2],n[3],1):(n=sg.exec(t))?new bg(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=cg.exec(t))?gg(n[1],n[2],n[3],n[4]):(n=lg.exec(t))?gg(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=fg.exec(t))?xg(n[1],n[2]/100,n[3]/100,1):(n=hg.exec(t))?xg(n[1],n[2]/100,n[3]/100,n[4]):dg.hasOwnProperty(t)?vg(dg[t]):"transparent"===t?new bg(NaN,NaN,NaN,0):null}function vg(t){return new bg(t>>16&255,t>>8&255,255&t,1)}function gg(t,n,e,r){return r<=0&&(t=n=e=NaN),new bg(t,n,e,r)}function mg(t){return t instanceof Kv||(t=pg(t)),t?(t=t.rgb(),new bg(t.r,t.g,t.b,t.opacity)):new bg}function yg(t,n,e,r){return 1===arguments.length?mg(t):new bg(t,n,e,null==r?1:r)}function bg(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function _g(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function xg(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Og(t,n,e,r)}function wg(t){if(t instanceof Og)return new Og(t.h,t.s,t.l,t.opacity);if(t instanceof Kv||(t=pg(t)),!t)return new Og;if(t instanceof Og)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),a=Math.max(n,e,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=n===a?(e-r)/u+6*(e<r):e===a?(r-n)/u+2:(n-e)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Og(o,u,s,t.opacity)}function Ag(t,n,e,r){return 1===arguments.length?wg(t):new Og(t,n,e,null==r?1:r)}function Og(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function kg(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Zv(Kv,pg,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Zv(bg,yg,Qv(Kv,{brighter:function(t){return t=null==t?ng:Math.pow(ng,t),new bg(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?tg:Math.pow(tg,t),new bg(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+_g(this.r)+_g(this.g)+_g(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Zv(Og,Ag,Qv(Kv,{brighter:function(t){return t=null==t?ng:Math.pow(ng,t),new Og(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?tg:Math.pow(tg,t),new Og(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new bg(kg(t>=240?t-240:t+120,i,r),kg(t,i,r),kg(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Mg=Math.PI/180,Eg=180/Math.PI,Cg=18,jg=.96422,Dg=1,Sg=.82521,Fg=4/29,Tg=6/29,Bg=3*Tg*Tg,Rg=Tg*Tg*Tg;function Ng(t){if(t instanceof Lg)return new Lg(t.l,t.a,t.b,t.opacity);if(t instanceof Yg){if(isNaN(t.h))return new Lg(t.l,0,0,t.opacity);var n=t.h*Mg;return new Lg(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof bg||(t=mg(t));var e,r,i=Ig(t.r),a=Ig(t.g),o=Ig(t.b),u=zg((.2225045*i+.7168786*a+.0606169*o)/Dg);return i===a&&a===o?e=r=u:(e=zg((.4360747*i+.3850649*a+.1430804*o)/jg),r=zg((.0139322*i+.0971045*a+.7141733*o)/Sg)),new Lg(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Pg(t,n,e,r){return 1===arguments.length?Ng(t):new Lg(t,n,e,null==r?1:r)}function Lg(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function zg(t){return t>Rg?Math.pow(t,1/3):t/Bg+Fg}function $g(t){return t>Tg?t*t*t:Bg*(t-Fg)}function Ug(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ig(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qg(t){if(t instanceof Yg)return new Yg(t.h,t.c,t.l,t.opacity);if(t instanceof Lg||(t=Ng(t)),0===t.a&&0===t.b)return new Yg(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Eg;return new Yg(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Wg(t,n,e,r){return 1===arguments.length?qg(t):new Yg(t,n,e,null==r?1:r)}function Yg(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}Zv(Lg,Pg,Qv(Kv,{brighter:function(t){return new Lg(this.l+Cg*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lg(this.l-Cg*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=jg*$g(n),t=Dg*$g(t),e=Sg*$g(e),new bg(Ug(3.1338561*n-1.6168667*t-.4906146*e),Ug(-.9787684*n+1.9161415*t+.033454*e),Ug(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Zv(Yg,Wg,Qv(Kv,{brighter:function(t){return new Yg(this.h,this.c,this.l+Cg*(null==t?1:t),this.opacity)},darker:function(t){return new Yg(this.h,this.c,this.l-Cg*(null==t?1:t),this.opacity)},rgb:function(){return Ng(this).rgb()}}));var Hg=-.14861,Vg=1.78277,Gg=-.29227,Xg=-.90649,Jg=1.97294,Zg=Jg*Xg,Qg=Jg*Vg,Kg=Vg*Gg-Xg*Hg;function tm(t){if(t instanceof em)return new em(t.h,t.s,t.l,t.opacity);t instanceof bg||(t=mg(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Kg*r+Zg*n-Qg*e)/(Kg+Zg-Qg),a=r-i,o=(Jg*(e-i)-Gg*a)/Xg,u=Math.sqrt(o*o+a*a)/(Jg*i*(1-i)),s=u?Math.atan2(o,a)*Eg-120:NaN;return new em(s<0?s+360:s,u,i,t.opacity)}function nm(t,n,e,r){return 1===arguments.length?tm(t):new em(t,n,e,null==r?1:r)}function em(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function rm(t,n,e,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*n+(4-6*a+3*o)*e+(1+3*t+3*a-3*o)*r+o*i)/6}Zv(em,nm,Qv(Kv,{brighter:function(t){return t=null==t?ng:Math.pow(ng,t),new em(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?tg:Math.pow(tg,t),new em(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Mg,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new bg(255*(n+e*(Hg*r+Vg*i)),255*(n+e*(Gg*r+Xg*i)),255*(n+e*(Jg*r)),this.opacity)}}));var im=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,u=r<n-1?t[r+2]:2*a-i;return rm((e-r/n)*n,o,i,a,u)}},am=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],a=t[r%n],o=t[(r+1)%n],u=t[(r+2)%n];return rm((e-r/n)*n,i,a,o,u)}},om=function(t){return function(){return t}};function um(t,n){return function(e){return t+e*n}}function sm(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function cm(t,n){var e=n-t;return e?um(t,e>180||e<-180?e-360*Math.round(e/360):e):om(isNaN(t)?n:t)}function lm(t){return 1===(t=+t)?fm:function(n,e){return e-n?sm(n,e,t):om(isNaN(n)?e:n)}}function fm(t,n){var e=n-t;return e?um(t,e):om(isNaN(t)?n:t)}var hm=function t(n){var e=lm(n);function r(t,n){var r=e((t=yg(t)).r,(n=yg(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=fm(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=a(n),t.opacity=o(n),t+""}}return r.gamma=t,r}(1);function dm(t){return function(n){var e,r,i=n.length,a=new Array(i),o=new Array(i),u=new Array(i);for(e=0;e<i;++e)r=yg(n[e]),a[e]=r.r||0,o[e]=r.g||0,u[e]=r.b||0;return a=t(a),o=t(o),u=t(u),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=u(t),r+""}}}var pm=dm(im),vm=dm(am),gm=function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(e=0;e<i;++e)a[e]=jm(t[e],n[e]);for(;e<r;++e)o[e]=n[e];return function(t){for(e=0;e<i;++e)o[e]=a[e](t);return o}},mm=function(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}},ym=function(t,n){return t=+t,n-=t,function(e){return t+n*e}},bm=function(t,n){var e,r={},i={};for(e in null!==t&&"object"===typeof t||(t={}),null!==n&&"object"===typeof n||(n={}),n)e in t?r[e]=jm(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},_m=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xm=new RegExp(_m.source,"g");function wm(t){return function(){return t}}function Am(t){return function(n){return t(n)+""}}var Om,km,Mm,Em,Cm=function(t,n){var e,r,i,a=_m.lastIndex=xm.lastIndex=0,o=-1,u=[],s=[];t+="",n+="";while((e=_m.exec(t))&&(r=xm.exec(n)))(i=r.index)>a&&(i=n.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(e=e[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:ym(e,r)})),a=xm.lastIndex;return a<n.length&&(i=n.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?Am(s[0].x):wm(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})},jm=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?om(n):("number"===r?ym:"string"===r?(e=pg(n))?(n=e,hm):Cm:n instanceof pg?hm:n instanceof Date?mm:Array.isArray(n)?gm:"function"!==typeof n.valueOf&&"function"!==typeof n.toString||isNaN(n)?bm:ym)(t,n)},Dm=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},Sm=function(t,n){var e=cm(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},Fm=function(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}},Tm=180/Math.PI,Bm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Rm=function(t,n,e,r,i,a){var o,u,s;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(n,t)*Tm,skewX:Math.atan(s)*Tm,scaleX:o,scaleY:u}};function Nm(t){return"none"===t?Bm:(Om||(Om=document.createElement("DIV"),km=document.documentElement,Mm=document.defaultView),Om.style.transform=t,t=Mm.getComputedStyle(km.appendChild(Om),null).getPropertyValue("transform"),km.removeChild(Om),t=t.slice(7,-1).split(","),Rm(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function Pm(t){return null==t?Bm:(Em||(Em=document.createElementNS("http://www.w3.org/2000/svg","g")),Em.setAttribute("transform",t),(t=Em.transform.baseVal.consolidate())?(t=t.matrix,Rm(t.a,t.b,t.c,t.d,t.e,t.f)):Bm)}function Lm(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,u){if(t!==i||r!==a){var s=o.push("translate(",null,n,null,e);u.push({i:s-4,x:ym(t,i)},{i:s-2,x:ym(r,a)})}else(i||a)&&o.push("translate("+i+n+a+e)}function o(t,n,e,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ym(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}function u(t,n,e,a){t!==n?a.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ym(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}function s(t,n,e,r,a,o){if(t!==e||n!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:ym(t,e)},{i:u-2,x:ym(n,r)})}else 1===e&&1===r||a.push(i(a)+"scale("+e+","+r+")")}return function(n,e){var r=[],i=[];return n=t(n),e=t(e),a(n.translateX,n.translateY,e.translateX,e.translateY,r,i),o(n.rotate,e.rotate,r,i),u(n.skewX,e.skewX,r,i),s(n.scaleX,n.scaleY,e.scaleX,e.scaleY,r,i),n=e=null,function(t){var n,e=-1,a=i.length;while(++e<a)r[(n=i[e]).i]=n.x(t);return r.join("")}}}var zm=Lm(Nm,"px, ","px)","deg)"),$m=Lm(Pm,", ",")",")"),Um=Math.SQRT2,Im=2,qm=4,Wm=1e-12;function Ym(t){return((t=Math.exp(t))+1/t)/2}function Hm(t){return((t=Math.exp(t))-1/t)/2}function Vm(t){return((t=Math.exp(2*t))-1)/(t+1)}var Gm=function(t,n){var e,r,i=t[0],a=t[1],o=t[2],u=n[0],s=n[1],c=n[2],l=u-i,f=s-a,h=l*l+f*f;if(h<Wm)r=Math.log(c/o)/Um,e=function(t){return[i+t*l,a+t*f,o*Math.exp(Um*t*r)]};else{var d=Math.sqrt(h),p=(c*c-o*o+qm*h)/(2*o*Im*d),v=(c*c-o*o-qm*h)/(2*c*Im*d),g=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(v*v+1)-v);r=(m-g)/Um,e=function(t){var n=t*r,e=Ym(g),u=o/(Im*d)*(e*Vm(Um*n+g)-Hm(g));return[i+u*l,a+u*f,o*e/Ym(Um*n+g)]}}return e.duration=1e3*r,e};function Xm(t){return function(n,e){var r=t((n=Ag(n)).h,(e=Ag(e)).h),i=fm(n.s,e.s),a=fm(n.l,e.l),o=fm(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=a(t),n.opacity=o(t),n+""}}}var Jm=Xm(cm),Zm=Xm(fm);function Qm(t,n){var e=fm((t=Pg(t)).l,(n=Pg(n)).l),r=fm(t.a,n.a),i=fm(t.b,n.b),a=fm(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=a(n),t+""}}function Km(t){return function(n,e){var r=t((n=Wg(n)).h,(e=Wg(e)).h),i=fm(n.c,e.c),a=fm(n.l,e.l),o=fm(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=a(t),n.opacity=o(t),n+""}}}var ty=Km(cm),ny=Km(fm);function ey(t){return function n(e){function r(n,r){var i=t((n=nm(n)).h,(r=nm(r)).h),a=fm(n.s,r.s),o=fm(n.l,r.l),u=fm(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}var ry=ey(cm),iy=ey(fm);function ay(t,n){var e=0,r=n.length-1,i=n[0],a=new Array(r<0?0:r);while(e<r)a[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[n](t-n)}}var oy=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},uy=function(t){return function(){return t}},sy=function(t){return+t},cy=[0,1];function ly(t){return t}function fy(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:uy(isNaN(n)?NaN:.5)}function hy(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function dy(t,n,e){var r=t[0],i=t[1],a=n[0],o=n[1];return i<r?(r=fy(i,r),a=e(o,a)):(r=fy(r,i),a=e(a,o)),function(t){return a(r(t))}}function py(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),a=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++o<r)i[o]=fy(t[o],t[o+1]),a[o]=e(n[o],n[o+1]);return function(n){var e=Ev(t,n,1,r)-1;return a[e](i[e](n))}}function vy(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function gy(){var t,n,e,r,i,a,o=cy,u=cy,s=jm,c=ly;function l(){return r=Math.min(o.length,u.length)>2?py:dy,i=a=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(o.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((a||(a=r(u,o.map(t),ym)))(e)))},f.domain=function(t){return arguments.length?(o=Vv.call(t,sy),c===ly||(c=hy(o)),l()):o.slice()},f.range=function(t){return arguments.length?(u=Gv.call(t),l()):u.slice()},f.rangeRound=function(t){return u=Gv.call(t),s=Fm,l()},f.clamp=function(t){return arguments.length?(c=t?hy(o):ly,f):c!==ly},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function my(t,n){return gy()(t,n)}var yy=function(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]},by=function(t){return t=yy(Math.abs(t)),t?t[1]:NaN},_y=function(t,n){return function(e,r){var i=e.length,a=[],o=0,u=t[0],s=0;while(i>0&&u>0){if(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),(s+=u+1)>r)break;u=t[o=(o+1)%t.length]}return a.reverse().join(n)}},xy=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}},wy=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ay(t){return new Oy(t)}function Oy(t){if(!(n=wy.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}Ay.prototype=Oy.prototype,Oy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ky,My,Ey,Cy,jy=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}break}return i>0?t.slice(0,i)+t.slice(n+1):t},Dy=function(t,n){var e=yy(t,n);if(!e)return t+"";var r=e[0],i=e[1],a=i-(ky=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yy(t,Math.max(0,n+a-1))[0]},Sy=function(t,n){var e=yy(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Fy={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Sy(100*t,n)},r:Sy,s:Dy,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ty=function(t){return t},By=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Ry=function(t){var n=t.grouping&&t.thousands?_y(t.grouping,t.thousands):Ty,e=t.currency,r=t.decimal,i=t.numerals?xy(t.numerals):Ty,a=t.percent||"%";function o(t){t=Ay(t);var o=t.fill,u=t.align,s=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,v=t.type;"n"===v?(h=!0,v="g"):Fy[v]||(null==d&&(d=12),p=!0,v="g"),(l||"0"===o&&"="===u)&&(l=!0,o="0",u="=");var g="$"===c?e[0]:"#"===c&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===c?e[1]:/[%p]/.test(v)?a:"",y=Fy[v],b=/[defgprs%]/.test(v);function _(t){var e,a,c,_=g,x=m;if("c"===v)x=y(t)+x,t="";else{t=+t;var w=t<0;if(t=y(Math.abs(t),d),p&&(t=jy(t)),w&&0===+t&&(w=!1),_=(w?"("===s?s:"-":"-"===s||"("===s?"":s)+_,x=("s"===v?By[8+ky/3]:"")+x+(w&&"("===s?")":""),b){e=-1,a=t.length;while(++e<a)if(c=t.charCodeAt(e),48>c||c>57){x=(46===c?r+t.slice(e+1):t.slice(e))+x,t=t.slice(0,e);break}}}h&&!l&&(t=n(t,1/0));var A=_.length+t.length+x.length,O=A<f?new Array(f-A+1).join(o):"";switch(h&&l&&(t=n(O+t,O.length?f-x.length:1/0),O=""),u){case"<":t=_+t+x+O;break;case"=":t=_+O+t+x;break;case"^":t=O.slice(0,A=O.length>>1)+_+t+x+O.slice(A);break;default:t=O+_+t+x;break}return i(t)}return d=null==d?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}function u(t,n){var e=o((t=Ay(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(by(n)/3))),i=Math.pow(10,-r),a=By[8+r/3];return function(t){return e(i*t)+a}}return{format:o,formatPrefix:u}};function Ny(t){return My=Ry(t),Ey=My.format,Cy=My.formatPrefix,My}Ny({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Py=function(t){return Math.max(0,-by(Math.abs(t)))},Ly=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(by(n)/3)))-by(Math.abs(t)))},zy=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,by(n)-by(t))+1},$y=function(t,n,e,r){var i,a=Rv(t,n,e);switch(r=Ay(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Ly(a,o))||(r.precision=i),Cy(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=zy(a,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Py(a))||(r.precision=i-2*("%"===r.type));break}return Ey(r)};function Uy(t){var n=t.domain;return t.ticks=function(t){var e=n();return Tv(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return $y(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),a=0,o=i.length-1,u=i[a],s=i[o];return s<u&&(r=u,u=s,s=r,r=a,a=o,o=r),r=Bv(u,s,e),r>0?(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,r=Bv(u,s,e)):r<0&&(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,r=Bv(u,s,e)),r>0?(i[a]=Math.floor(u/r)*r,i[o]=Math.ceil(s/r)*r,n(i)):r<0&&(i[a]=Math.ceil(u*r)/r,i[o]=Math.floor(s*r)/r,n(i)),t},t}function Iy(){var t=my(ly,ly);return t.copy=function(){return vy(t,Iy())},Pv.apply(t,arguments),Uy(t)}function qy(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Vv.call(n,sy),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return qy(t).unknown(n)},t=arguments.length?Vv.call(t,sy):[0,1],Uy(e)}var Wy=function(t,n){t=t.slice();var e,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(e=r,r=i,i=e,e=a,a=o,o=e),t[r]=n.floor(a),t[i]=n.ceil(o),t};function Yy(t){return Math.log(t)}function Hy(t){return Math.exp(t)}function Vy(t){return-Math.log(-t)}function Gy(t){return-Math.exp(-t)}function Xy(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Jy(t){return 10===t?Xy:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function Zy(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function Qy(t){return function(n){return-t(-n)}}function Ky(t){var n,e,r=t(Yy,Hy),i=r.domain,a=10;function o(){return n=Zy(a),e=Jy(a),i()[0]<0?(n=Qy(n),e=Qy(e),t(Vy,Gy)):t(Yy,Hy),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),u=o[0],s=o[o.length-1];(r=s<u)&&(h=u,u=s,s=h);var c,l,f,h=n(u),d=n(s),p=null==t?10:+t,v=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,u>0){for(;h<d;++h)for(l=1,c=e(h);l<a;++l)if(f=c*l,!(f<u)){if(f>s)break;v.push(f)}}else for(;h<d;++h)for(l=a-1,c=e(h);l>=1;--l)if(f=c*l,!(f<u)){if(f>s)break;v.push(f)}}else v=Tv(h,d,Math.min(d-h,p)).map(e);return r?v.reverse():v},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!==typeof i&&(i=Ey(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(Wy(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function tb(){var t=Ky(gy()).domain([1,10]);return t.copy=function(){return vy(t,tb()).base(t.base())},Pv.apply(t,arguments),t}function nb(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function eb(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function rb(t){var n=1,e=t(nb(n),eb(n));return e.constant=function(e){return arguments.length?t(nb(n=+e),eb(n)):n},Uy(e)}function ib(){var t=rb(gy());return t.copy=function(){return vy(t,ib()).constant(t.constant())},Pv.apply(t,arguments)}function ab(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function ob(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ub(t){return t<0?-t*t:t*t}function sb(t){var n=t(ly,ly),e=1;function r(){return 1===e?t(ly,ly):.5===e?t(ob,ub):t(ab(e),ab(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Uy(n)}function cb(){var t=sb(gy());return t.copy=function(){return vy(t,cb()).exponent(t.exponent())},Pv.apply(t,arguments),t}function lb(){return cb.apply(null,arguments).exponent(.5)}function fb(){var t,n=[],e=[],r=[];function i(){var t=0,i=Math.max(1,e.length);r=new Array(i-1);while(++t<i)r[t-1]=Nv(n,t/i);return a}function a(n){return isNaN(n=+n)?t:e[Ev(r,n)]}return a.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},a.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,r=0,a=t.length;r<a;++r)e=t[r],null==e||isNaN(e=+e)||n.push(e);return n.sort(wv),i()},a.range=function(t){return arguments.length?(e=Gv.call(t),i()):e.slice()},a.unknown=function(n){return arguments.length?(t=n,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return fb().domain(n).range(e).unknown(t)},Pv.apply(a,arguments)}function hb(){var t,n=0,e=1,r=1,i=[.5],a=[0,1];function o(n){return n<=n?a[Ev(i,n,0,r)]:t}function u(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*e-(t-r)*n)/(r+1);return o}return o.domain=function(t){return arguments.length?(n=+t[0],e=+t[1],u()):[n,e]},o.range=function(t){return arguments.length?(r=(a=Gv.call(t)).length-1,u()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[n,i[0]]:o>=r?[i[r-1],e]:[i[o-1],i[o]]},o.unknown=function(n){return arguments.length?(t=n,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return hb().domain([n,e]).range(a).unknown(t)},Pv.apply(Uy(o),arguments)}function db(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[Ev(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Gv.call(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Gv.call(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return db().domain(n).range(e).unknown(t)},Pv.apply(i,arguments)}var pb=1e3,vb=60*pb,gb=60*vb,mb=24*gb,yb=7*mb,bb=30*mb,_b=365*mb;function xb(t){return new Date(t)}function wb(t){return t instanceof Date?+t:+new Date(+t)}function Ab(t,n,e,r,i,a,o,u,s){var c=my(ly,ly),l=c.invert,f=c.domain,h=s(".%L"),d=s(":%S"),p=s("%I:%M"),v=s("%I %p"),g=s("%a %d"),m=s("%b %d"),y=s("%B"),b=s("%Y"),_=[[o,1,pb],[o,5,5*pb],[o,15,15*pb],[o,30,30*pb],[a,1,vb],[a,5,5*vb],[a,15,15*vb],[a,30,30*vb],[i,1,gb],[i,3,3*gb],[i,6,6*gb],[i,12,12*gb],[r,1,mb],[r,2,2*mb],[e,1,yb],[n,1,bb],[n,3,3*bb],[t,1,_b]];function x(u){return(o(u)<u?h:a(u)<u?d:i(u)<u?p:r(u)<u?v:n(u)<u?e(u)<u?g:m:t(u)<u?y:b)(u)}function w(n,e,r,i){if(null==n&&(n=10),"number"===typeof n){var a=Math.abs(r-e)/n,o=Av(function(t){return t[2]}).right(_,a);o===_.length?(i=Rv(e/_b,r/_b,n),n=t):o?(o=_[a/_[o-1][2]<_[o][2]/a?o-1:o],i=o[1],n=o[0]):(i=Math.max(Rv(e,r,n),1),n=u)}return null==i?n:n.every(i)}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?f(Vv.call(t,wb)):f().map(xb)},c.ticks=function(t,n){var e,r=f(),i=r[0],a=r[r.length-1],o=a<i;return o&&(e=i,i=a,a=e),e=w(t,i,a,n),e=e?e.range(i,a+1):[],o?e.reverse():e},c.tickFormat=function(t,n){return null==n?x:s(n)},c.nice=function(t,n){var e=f();return(t=w(t,e[0],e[e.length-1],n))?f(Wy(e,t)):c},c.copy=function(){return vy(c,Ab(t,n,e,r,i,a,o,u,s))},c}var Ob=function(){return Pv.apply(Ab(mn,vn,un,an,en,tn,Qt,Yt,Un).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},kb=function(){return Pv.apply(Ab(Rn,Tn,kn,An,xn,bn,Qt,Yt,qn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function Mb(){var t,n,e,r,i,a=0,o=1,u=ly,s=!1;function c(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),n=r(o=+i[1]),e=t===n?0:1/(n-t),c):[a,o]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),n=i(o),e=t===n?0:1/(n-t),c}}function Eb(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Cb(){var t=Uy(Mb()(ly));return t.copy=function(){return Eb(t,Cb())},Lv.apply(t,arguments)}function jb(){var t=Ky(Mb()).domain([1,10]);return t.copy=function(){return Eb(t,jb()).base(t.base())},Lv.apply(t,arguments)}function Db(){var t=rb(Mb());return t.copy=function(){return Eb(t,Db()).constant(t.constant())},Lv.apply(t,arguments)}function Sb(){var t=sb(Mb());return t.copy=function(){return Eb(t,Sb()).exponent(t.exponent())},Lv.apply(t,arguments)}function Fb(){return Sb.apply(null,arguments).exponent(.5)}function Tb(){var t,n,e,r,i,a,o,u=0,s=.5,c=1,l=ly,f=!1;function h(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-n)*(t<n?r:i),l(f?Math.max(0,Math.min(1,t)):t))}return h.domain=function(o){return arguments.length?(t=a(u=+o[0]),n=a(s=+o[1]),e=a(c=+o[2]),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h):[u,s,c]},h.clamp=function(t){return arguments.length?(f=!!t,h):f},h.interpolator=function(t){return arguments.length?(l=t,h):l},h.unknown=function(t){return arguments.length?(o=t,h):o},function(o){return a=o,t=o(u),n=o(s),e=o(c),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),h}}function Bb(){var t=Uy(Tb()(ly));return t.copy=function(){return Eb(t,Bb())},Lv.apply(t,arguments)}function Rb(){var t=Ky(Tb()).domain([.1,1,10]);return t.copy=function(){return Eb(t,Rb()).base(t.base())},Lv.apply(t,arguments)}function Nb(){var t=rb(Tb());return t.copy=function(){return Eb(t,Nb()).constant(t.constant())},Lv.apply(t,arguments)}function Pb(){var t=sb(Tb());return t.copy=function(){return Eb(t,Pb()).exponent(t.exponent())},Lv.apply(t,arguments)}function Lb(){return Pb.apply(null,arguments).exponent(.5)}function zb(){var t,n,e=Jv().unknown(void 0),r=e.domain,i=e.range,a=[0,1],o=!1,u=0,s=0,c=.5;function l(){var e=r().length,l=a[1]<a[0],f=a[l-0],h=a[1-l],d=qp(e,u,s);t=(h-f)/(d||1),o&&(t=Math.floor(t)),f+=(h-f-t*(e-u))*c,n=t*(1-u),o&&(f=Math.round(f),n=Math.round(n));var p=Di(e).map(function(n){return f+t*n});return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?(a=[+t[0],+t[1]],l()):a.slice()},e.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(o=!!t,l()):o},e.padding=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),u=s,l()):u},e.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l()):u},e.paddingOuter=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},e.invertRange=function(t){if(null!=t[0]&&null!=t[1]){var e,o,u,s=+t[0],c=+t[1],l=a[1]<a[0],f=l?i().reverse():i(),h=f.length-1;if(s===s&&c===c&&(c<s&&(u=s,s=c,c=u),!(c<f[0]||s>a[1-l])))return e=Math.max(0,Oi(f,s)-1),o=s===c?e:Oi(f,c)-1,s-f[e]>n+1e-10&&++e,l&&(u=e,e=h-o,o=h-u),e>o?void 0:r().slice(e,o+1)}},e.invert=function(t){var n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return zb().domain(r()).range(a).round(o).paddingInner(u).paddingOuter(s).align(c)},l()}function $b(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,t.copy=function(){return $b(n())},t}function Ub(){return $b(zb().paddingInner(1))}var Ib=Array.prototype.map;function qb(t){return Ib.call(t,function(t){return+t})}var Wb=Array.prototype.slice;function Yb(){var t=[],n=[];function e(e){return null==e||e!==e?void 0:n[(Mi(t,e)-1)%n.length]}return e.domain=function(n){return arguments.length?(t=qb(n),e):t.slice()},e.range=function(t){return arguments.length?(n=Wb.call(t),e):n.slice()},e.tickFormat=function(n,e){return $y(t[0],Object(d["P"])(t),null==n?10:n,e)},e.copy=function(){return Yb().domain(e.domain()).range(e.range())},e}function Hb(t,n){return function(){var e=n();return e.invertRange||(e.invertRange=e.invert?_v(e):e.invertExtent?xv(e):void 0),e.type=t,e}}function Vb(t,n){return arguments.length>1?(Gb[t]=Hb(t,n),this):Gb.hasOwnProperty(t)?Gb[t]:void 0}var Gb={[Wp]:qy,[Yp]:Iy,[Hp]:tb,[Vp]:cb,[Gp]:lb,[Xp]:ib,[Jp]:Ob,[Zp]:kb,[Qp]:Cb,[Qp+"-"+Yp]:Cb,[Qp+"-"+Hp]:jb,[Qp+"-"+Vp]:Sb,[Qp+"-"+Gp]:Fb,[Qp+"-"+Xp]:Db,[Kp+"-"+Yp]:Bb,[Kp+"-"+Hp]:Rb,[Kp+"-"+Vp]:Pb,[Kp+"-"+Gp]:Lb,[Kp+"-"+Xp]:Nb,[tv]:fb,[nv]:hb,[ev]:db,[ov]:Yb,[rv]:Jv,[av]:zb,[iv]:Ub};for(var Xb in Gb)Vb(Xb,Gb[Xb]);const Jb=["clamp","base","constant","exponent"];function Zb(t,n){var e=n[0],r=Object(d["P"])(n)-e;return function(n){return t(e+n*r)}}function Qb(t,n,e){return ay(n_(n||"rgb",e),t)}function Kb(t,n){for(var e=new Array(n),r=n+1,i=0;i<n;)e[i]=t(++i/r);return e}function t_(t,n,e){var r,i,a,o=e-n;return o&&isFinite(o)?(r=(i=t.type).indexOf("-"),i=r<0?i:i.slice(r+1),a=Vb(i)().domain([n,e]).range([0,1]),Jb.forEach(n=>t[n]?a[n](t[n]()):0),a):Object(d["j"])(.5)}function n_(t,n){var e=a[e_(t)];return null!=n&&e&&e.gamma?e.gamma(n):e}function e_(t){return"interpolate"+t.toLowerCase().split("-").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("")}const r_={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},i_={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function a_(t){var n=t.length/6|0,e=new Array(n),r=0;while(r<n)e[r]="#"+t.slice(6*r,6*++r);return e}function o_(t,n){for(let e in t)s_(e,n(t[e]))}const u_={};function s_(t,n){return t=t&&t.toLowerCase(),arguments.length>1?(u_[t]=n,this):u_[t]}function c_(t,n,e){var r;return Object(d["B"])(n)&&null!=e&&(n=Math.min(n,~~(Object(d["R"])(t.domain())/e)||1)),Object(d["C"])(n)&&(r=n.step,n=n.interval),Object(d["E"])(n)&&(n=bv(n,t.type)||Object(d["l"])("Only time and utc scales accept interval strings."),r&&(n=n.every(r))),n}function l_(t,n,e){var r=t.range(),i=Math.floor(r[0]),a=Math.ceil(Object(d["P"])(r));if(i>a&&(r=a,a=i,i=r),n=n.filter(function(n){return n=t(n),i<=n&&n<=a}),e>0&&n.length>1){var o=[n[0],Object(d["P"])(n)];while(n.length>e&&n.length>=3)n=n.filter(function(t,n){return!(n%2)});n.length<3&&(n=o)}return n}function f_(t,n){return t.bins?l_(t,h_(t.bins,n)):t.ticks?t.ticks(n):t.domain()}function h_(t,n){var e=t.length,r=~~(e/(n||e));return r<2?t.slice():t.filter(function(t,n){return!(n%r)})}function d_(t,n,e){var r=t.tickFormat?t.tickFormat(n,e):e?Ey(e):String;if(dv(t.type)){var i=v_(e);r=t.bins?i:p_(r,i)}return r}function p_(t,n){return function(e){return t(e)?n(e):""}}function v_(t){var n=Ay(t||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1;break}return g_(Ey(n),Ey(".1f")(1)[1])}return Ey(n)}function g_(t,n){return function(e){var r,i,a=t(e),o=a.indexOf(n);if(o<0)return a;r=m_(a,o),i=r<a.length?a.slice(r):"";while(--r>o)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}function m_(t,n){var e,r=t.lastIndexOf("e");if(r>0)return r;for(r=t.length;--r>n;)if(e=t.charCodeAt(r),e>=48&&e<=57)return r+1}function y_(t){ni.call(this,null,t)}o_(i_,a_),o_(r_,t=>Qb(a_(t)));var b_=Object(d["v"])(y_,ni);function __(t){ni.call(this,null,t)}b_.transform=function(t,n){if(this.value&&!t.modified())return n.StopPropagation;var e=n.fork(n.NO_SOURCE|n.NO_FIELDS),r=this.value,i=t.scale,a=null==t.count?t.values?t.values.length:10:t.count,o=c_(i,a,t.minstep),u=t.format||d_(i,o,t.formatSpecifier),s=t.values?l_(i,t.values,o):f_(i,o);return r&&(e.rem=r),r=s.map(function(t,n){return x({index:n/(s.length-1),value:t,label:u(t)})}),t.extra&&r.length&&r.push(x({index:-1,extra:{value:r[0].value},label:""})),e.source=r,e.add=r,this.value=r,e};var x_=Object(d["v"])(__,ni);function w_(){return x({})}function A_(t){return t.exit}function O_(t){ni.call(this,null,t)}x_.transform=function(t,n){var e=n.dataflow,r=n.fork(n.NO_SOURCE|n.NO_FIELDS),i=t.item||w_,a=t.key||b,o=this.value;return Object(d["x"])(r.encode)&&(r.encode=null),o&&(t.modified("key")||n.modified(a))&&Object(d["l"])("DataJoin does not support modified key function or fields."),o||(n=n.addAll(),this.value=o=Object(d["q"])().test(A_),o.lookup=function(t){return o.get(a(t))}),n.visit(n.ADD,function(t){var n=a(t),e=o.get(n);e?e.exit?(o.empty--,r.add.push(e)):r.mod.push(e):(o.set(n,e=i(t)),r.add.push(e)),e.datum=t,e.exit=!1}),n.visit(n.MOD,function(t){var n=a(t),e=o.get(n);e&&(e.datum=t,r.mod.push(e))}),n.visit(n.REM,function(t){var n=a(t),e=o.get(n);t!==e.datum||e.exit||(r.rem.push(e),e.exit=!0,++o.empty)}),n.changed(n.ADD_MOD)&&r.modifies("datum"),t.clean&&o.empty>e.cleanThreshold&&e.runAfter(o.clean),r};var k_=Object(d["v"])(O_,ni);k_.transform=function(t,n){var e=n.fork(n.ADD_REM),r=t.encoders,i=n.encode;if(Object(d["x"])(i)){if(!e.changed()&&!i.every(function(t){return r[t]}))return n.StopPropagation;i=i[0],e.encode=null}var a="enter"===i,o=r.update||d["p"],u=r.enter||d["p"],s=r.exit||d["p"],c=(i&&!a?r[i]:o)||d["p"];if(n.changed(n.ADD)&&(n.visit(n.ADD,function(n){u(n,t),o(n,t),c!==d["p"]&&c!==o&&c(n,t)}),e.modifies(u.output),e.modifies(o.output),c!==d["p"]&&c!==o&&e.modifies(c.output)),n.changed(n.REM)&&s!==d["p"]&&(n.visit(n.REM,function(n){s(n,t)}),e.modifies(s.output)),a||c!==d["p"]){var l=n.MOD|(t.modified()?n.REFLOW:0);a?(n.visit(l,function(n){var r=u(n,t);(c(n,t)||r)&&e.mod.push(n)}),e.mod.length&&e.modifies(u.output)):n.visit(l,function(n){c(n,t)&&e.mod.push(n)}),e.mod.length&&e.modifies(c.output)}return e.changed()?e:n.StopPropagation};var M_="symbol",E_="discrete",C_="gradient";const j_={[tv]:F_,[nv]:S_,[ev]:T_};function D_(t,n){return t.bins?B_(t.bins.slice()):j_[t.type]?j_[t.type](t):f_(t,n)}function S_(t){var n=t.domain(),e=n[0],r=Object(d["P"])(n),i=t.range().length,a=new Array(i),o=0;a[0]=-1/0;while(++o<i)a[o]=(o*r-(o-i)*e)/i;return a.max=1/0,a}function F_(t){var n=[-1/0].concat(t.quantiles());return n.max=1/0,n}function T_(t){var n=[-1/0].concat(t.domain());return n.max=1/0,n}function B_(t){return t.max=t.pop(),t}function R_(t){return j_[t.type]||t.bins}function N_(t,n,e){return e===M_&&R_(t)?P_(n):e===E_?L_(n):z_(n)}function P_(t){return function(n,e,r){var i=r[e+1]||r.max||1/0,a=$_(n,t),o=$_(i,t);return a&&o?a+"–"+o:o?"< "+o:"≥ "+a}}function L_(t){return function(n,e){return e?t(n):null}}function z_(t){return function(n){return t(n)}}function $_(t,n){return isFinite(t)?n(t):null}function U_(t){var n=t.domain(),e=n.length-1,r=+n[0],i=+Object(d["P"])(n),a=i-r;if(t.type===ev){var o=e?a/e:.1;r-=o,i+=o,a=i-r}return function(t){return(t-r)/a}}function I_(t){ni.call(this,[],t)}var q_=Object(d["v"])(I_,ni);q_.transform=function(t,n){if(null!=this.value&&!t.modified())return n.StopPropagation;var e,r,i,a,o=n.fork(n.NO_SOURCE|n.NO_FIELDS),u=this.value,s=t.type||M_,c=t.scale,l=c_(c,null==t.count?5:t.count,t.minstep),f=t.format||d_(c,l,t.formatSpecifier),h=t.values||D_(c,l,s);return f=N_(c,f,s),u&&(o.rem=u),s===M_?(Object(d["A"])(i=t.size)?(t.values||0!==c(h[0])||(h=h.slice(1)),a=h.reduce(function(n,e){return Math.max(n,i(e,t))},0)):i=Object(d["j"])(a=i||8),u=h.map(function(n,e){return x({index:e,label:f(n,e,h),value:n,offset:a,size:i(n,t)})})):s===C_?(e=c.domain(),r=t_(c,e[0],Object(d["P"])(e)),h.length<3&&!t.values&&e[0]!==Object(d["P"])(e)&&(h=[e[0],Object(d["P"])(e)]),u=h.map(function(t,n){return x({index:n,label:f(t,n,h),value:t,perc:r(t)})})):(i=h.length-1,r=U_(c),u=h.map(function(t,n){return x({index:n,label:f(t,n,h),value:t,perc:n?r(t):0,perc2:n===i?1:r(h[n+1])})})),o.source=u,o.add=u,this.value=u,o};var W_=Object(d["q"])({line:Z_,"line-radial":Q_,arc:K_,"arc-radial":tx,curve:nx,"curve-radial":ex,"orthogonal-horizontal":rx,"orthogonal-vertical":ix,"orthogonal-radial":ax,"diagonal-horizontal":ox,"diagonal-vertical":ux,"diagonal-radial":sx});function Y_(t){return t.source.x}function H_(t){return t.source.y}function V_(t){return t.target.x}function G_(t){return t.target.y}function X_(t){ni.call(this,{},t)}X_.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};var J_=Object(d["v"])(X_,ni);function Z_(t,n,e,r){return"M"+t+","+n+"L"+e+","+r}function Q_(t,n,e,r){return Z_(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))}function K_(t,n,e,r){var i=e-t,a=r-n,o=Math.sqrt(i*i+a*a)/2,u=180*Math.atan2(a,i)/Math.PI;return"M"+t+","+n+"A"+o+","+o+" "+u+" 0 1 "+e+","+r}function tx(t,n,e,r){return K_(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))}function nx(t,n,e,r){var i=e-t,a=r-n,o=.2*(i+a),u=.2*(a-i);return"M"+t+","+n+"C"+(t+o)+","+(n+u)+" "+(e+u)+","+(r-o)+" "+e+","+r}function ex(t,n,e,r){return nx(n*Math.cos(t),n*Math.sin(t),r*Math.cos(e),r*Math.sin(e))}function rx(t,n,e,r){return"M"+t+","+n+"V"+r+"H"+e}function ix(t,n,e,r){return"M"+t+","+n+"H"+e+"V"+r}function ax(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(e),u=Math.sin(e),s=Math.abs(e-t)>Math.PI?e<=t:e>t;return"M"+n*i+","+n*a+"A"+n+","+n+" 0 0,"+(s?1:0)+" "+n*o+","+n*u+"L"+r*o+","+r*u}function ox(t,n,e,r){var i=(t+e)/2;return"M"+t+","+n+"C"+i+","+n+" "+i+","+r+" "+e+","+r}function ux(t,n,e,r){var i=(n+r)/2;return"M"+t+","+n+"C"+t+","+i+" "+e+","+i+" "+e+","+r}function sx(t,n,e,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(e),u=Math.sin(e),s=(n+r)/2;return"M"+n*i+","+n*a+"C"+s*i+","+s*a+" "+s*o+","+s*u+" "+r*o+","+r*u}function cx(t){ni.call(this,null,t)}J_.transform=function(t,n){var e=t.sourceX||Y_,r=t.sourceY||H_,i=t.targetX||V_,a=t.targetY||G_,o=t.as||"path",u=t.orient||"vertical",s=t.shape||"line",c=W_.get(s+"-"+u)||W_.get(s);return c||Object(d["l"])("LinkPath unsupported type: "+t.shape+(t.orient?"-"+t.orient:"")),n.visit(n.SOURCE,function(t){t[o]=c(e(t),r(t),i(t),a(t))}),n.reflow(t.modified()).modifies(o)},cx.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};var lx=Object(d["v"])(cx,ni);lx.transform=function(t,n){var e,r,i,a=t.as||["startAngle","endAngle"],o=a[0],u=a[1],s=t.field||d["J"],c=t.startAngle||0,l=null!=t.endAngle?t.endAngle:2*Math.PI,f=n.source,h=f.map(s),p=h.length,v=c,g=(l-c)/Yi(h),m=Di(p);for(t.sort&&m.sort(function(t,n){return h[t]-h[n]}),e=0;e<p;++e)i=h[m[e]],r=f[m[e]],r[o]=v,r[u]=v+=i*g;return this.value=h,n.reflow(t.modified()).modifies(a)};var fx=5;function hx(t){const n=t.type;return!t.bins&&(n===Yp||n===Vp||n===Gp)}function dx(t){return pv(t)&&t!==Qp}var px=Object(d["X"])(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function vx(t){ni.call(this,null,t),this.modified(!0)}var gx=Object(d["v"])(vx,ni);function mx(t){var n,e=t.type,r="";return e===Qp?Qp+"-"+Yp:(yx(t)&&(n=t.rawDomain?t.rawDomain.length:t.domain?t.domain.length+ +(null!=t.domainMid):0,r=2===n?Qp+"-":3===n?Kp+"-":""),(r+e||Yp).toLowerCase())}function yx(t){const n=t.type;return pv(n)&&n!==Jp&&n!==Zp&&(t.scheme||t.range&&t.range.length&&t.range.every(d["E"]))}function bx(t,n,e){var r=_x(t,n.domainRaw,e);if(r>-1)return r;var i,a,o=n.domain,u=t.type,s=n.zero||void 0===n.zero&&hx(t);return o?(dx(u)&&n.padding&&o[0]!==Object(d["P"])(o)&&(o=xx(u,o,n.range,n.padding,n.exponent,n.constant)),(s||null!=n.domainMin||null!=n.domainMax||null!=n.domainMid)&&(i=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=n.domainMin&&(o[0]=n.domainMin),null!=n.domainMax&&(o[i]=n.domainMax),null!=n.domainMid&&(a=n.domainMid,(a<o[0]||a>o[i])&&e.warn("Scale domainMid exceeds domain min or max.",a),o.splice(i,0,a))),t.domain(wx(u,o,e)),u===rv&&t.unknown(n.domainImplicit?Xv:void 0),n.nice&&t.nice&&t.nice(!0!==n.nice&&c_(t,n.nice)||null),o.length):0}function _x(t,n,e){return n?(t.domain(wx(t.type,n,e)),n.length):-1}function xx(t,n,e,r,i,a){var o=Math.abs(Object(d["P"])(e)-e[0]),u=o/(o-2*r),s=t===Hp?Object(d["fb"])(n,null,u):t===Gp?Object(d["gb"])(n,null,u,.5):t===Vp?Object(d["gb"])(n,null,u,i||1):t===Xp?Object(d["hb"])(n,null,u,a||1):Object(d["eb"])(n,null,u);return n=n.slice(),n[0]=s[0],n[n.length-1]=s[1],n}function wx(t,n,e){if(dv(t)){var r=Math.abs(n.reduce(function(t,n){return t+(n<0?-1:n>0?1:0)},0));r!==n.length&&e.warn("Log scale domain includes zero: "+Object(d["T"])(n))}return n}function Ax(t,n,e){let r=n.bins;if(r&&!Object(d["x"])(r)){const n=(null==r.start||null==r.stop)&&t.domain(),e=null==r.start?n[0]:r.start,i=null==r.stop?Object(d["P"])(n):r.stop,a=r.step;a||Object(d["l"])("Scale bins parameter missing step property."),r=Di(e,i+a,a)}return r?t.bins=r:t.bins&&delete t.bins,t.type===ov&&(r?n.domain||n.domainRaw||(t.domain(r),e=r.length):t.bins=t.domain()),e}function Ox(t,n,e){var r=n.round||!1,i=n.range;if(null!=n.rangeStep)i=kx(t.type,n,e);else if(n.scheme){if(i=Mx(t.type,n,e),Object(d["A"])(i))return t.interpolator(i)}else if(i&&hv(t.type))return t.interpolator(Qb(Cx(i,n.reverse),n.interpolate,n.interpolateGamma));i&&n.interpolate&&t.interpolate?t.interpolate(n_(n.interpolate,n.interpolateGamma)):Object(d["A"])(t.round)?t.round(r):Object(d["A"])(t.rangeRound)&&t.interpolate(r?Fm:jm),i&&t.range(Cx(i,n.reverse))}function kx(t,n,e){t!==av&&t!==iv&&Object(d["l"])("Only band and point scales support rangeStep.");var r=(null!=n.paddingOuter?n.paddingOuter:n.padding)||0,i=t===iv?1:(null!=n.paddingInner?n.paddingInner:n.padding)||0;return[0,n.rangeStep*qp(e,i,r)]}function Mx(t,n,e){var r,i,a=n.schemeExtent;return Object(d["x"])(n.scheme)?i=Qb(n.scheme,n.interpolate,n.interpolateGamma):(r=n.scheme.toLowerCase(),i=s_(r),i||Object(d["l"])("Unrecognized scheme name: "+n.scheme)),e=t===ev?e+1:t===ov?e-1:t===tv||t===nv?+n.schemeCount||fx:e,hv(t)?Ex(i,a,n.reverse):Object(d["A"])(i)?Kb(Ex(i,a),e):t===rv?i:i.slice(0,e)}function Ex(t,n,e){return Object(d["A"])(t)&&(n||e)?Zb(t,Cx(n||[0,1],e)):t}function Cx(t,n){return n?t.slice().reverse():t}function jx(t){ni.call(this,null,t)}gx.transform=function(t,n){var e=n.dataflow,r=this.value,i=mx(t);for(i in r&&i===r.type||(this.value=r=Vb(i)()),t)if(!px[i]){if("padding"===i&&dx(r.type))continue;Object(d["A"])(r[i])?r[i](t[i]):e.warn("Unsupported scale property: "+i)}return Ox(r,t,Ax(r,t,bx(r,t,e))),n.fork(n.NO_SOURCE|n.NO_FIELDS)};var Dx=Object(d["v"])(jx,ni);Dx.transform=function(t,n){var e=t.modified("sort")||n.changed(n.ADD)||n.modified(t.sort.fields)||n.modified("datum");return e&&n.source.sort(t.sort),this.modified(e),n};var Sx="zero",Fx="center",Tx="normalize",Bx=["y0","y1"];function Rx(t){ni.call(this,null,t)}Rx.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:Sx,values:[Sx,Fx,Tx]},{name:"as",type:"string",array:!0,length:2,default:Bx}]};var Nx=Object(d["v"])(Rx,ni);function Px(t,n,e,r,i){for(var a,o=(n-t.sum)/2,u=t.length,s=0;s<u;++s)a=t[s],a[r]=o,a[i]=o+=Math.abs(e(a))}function Lx(t,n,e,r,i){for(var a,o=1/t.sum,u=0,s=t.length,c=0,l=0;c<s;++c)a=t[c],a[r]=u,a[i]=u=o*(l+=Math.abs(e(a)))}function zx(t,n,e,r,i){for(var a,o,u=0,s=0,c=t.length,l=0;l<c;++l)o=t[l],a=e(o),a<0?(o[r]=s,o[i]=s+=a):(o[r]=u,o[i]=u+=a)}function $x(t,n,e,r){var i,a,o,u,s,c,l,f,h,d=[],p=function(t){return t(s)};if(null==n)d.push(t.slice());else for(i={},a=0,o=t.length;a<o;++a)s=t[a],c=n.map(p),l=i[c],l||(i[c]=l=[],d.push(l)),l.push(s);for(c=0,h=0,u=d.length;c<u;++c){for(l=d[c],a=0,f=0,o=l.length;a<o;++a)f+=Math.abs(r(l[a]));l.sum=f,f>h&&(h=f),e&&l.sort(e)}return d.max=h,d}Nx.transform=function(t,n){var e,r,i,a,o=t.as||Bx,u=o[0],s=o[1],c=t.field||d["J"],l=t.offset===Fx?Px:t.offset===Tx?Lx:zx;for(e=$x(n.source,t.groupby,t.sort,c),r=0,i=e.length,a=e.max;r<i;++r)l(e[r],a,c,u,s);return n.reflow(t.modified()).modifies(o)};var Ux=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},Ix=function(t){return 1===t.length&&(t=qx(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};function qx(t){return function(n,e){return Ux(t(n),e)}}var Wx=Ix(Ux);Wx.right,Wx.left;var Yx=function(t,n){var e,r,i,a=t.length,o=-1;if(null==n){while(++o<a)if(null!=(e=t[o])&&e>=e){r=i=e;while(++o<a)null!=(e=t[o])&&(r>e&&(r=e),i<e&&(i=e))}}else while(++o<a)if(null!=(e=n(t[o],o,t))&&e>=e){r=i=e;while(++o<a)null!=(e=n(t[o],o,t))&&(r>e&&(r=e),i<e&&(i=e))}return[r,i]},Hx=Array.prototype,Vx=(Hx.slice,Hx.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);while(++r<i)a[r]=t+r*e;return a}),Gx=Math.sqrt(50),Xx=Math.sqrt(10),Jx=Math.sqrt(2);function Zx(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Gx?i*=10:a>=Xx?i*=5:a>=Jx&&(i*=2),n<t?-i:i}var Qx=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Kx=function(t,n){var e,r,i=t.length,a=-1;if(null==n){while(++a<i)if(null!=(e=t[a])&&e>=e){r=e;while(++a<i)null!=(e=t[a])&&e>r&&(r=e)}}else while(++a<i)if(null!=(e=n(t[a],a,t))&&e>=e){r=e;while(++a<i)null!=(e=n(t[a],a,t))&&e>r&&(r=e)}return r};var tw=Array.prototype,nw=tw.slice,ew=function(t,n){return t-n},rw=function(t){var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];while(++n<e)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r},iw=function(t){return function(){return t}},aw=function(t,n){var e,r=-1,i=n.length;while(++r<i)if(e=ow(t,n[r]))return e;return 0};function ow(t,n){for(var e=n[0],r=n[1],i=-1,a=0,o=t.length,u=o-1;a<o;u=a++){var s=t[a],c=s[0],l=s[1],f=t[u],h=f[0],d=f[1];if(uw(s,f,n))return 0;l>r!==d>r&&e<(h-c)*(r-l)/(d-l)+c&&(i=-i)}return i}function uw(t,n,e){var r;return sw(t,n,e)&&cw(t[r=+(t[0]===n[0])],e[r],n[r])}function sw(t,n,e){return(n[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(n[1]-t[1])}function cw(t,n,e){return t<=n&&n<=e||e<=n&&n<=t}var lw=function(){},fw=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],hw=function(){var t=1,n=1,e=Qx,r=s;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(ew);else{var r=Yx(t),i=r[0],o=r[1];n=Zx(i,o,n),n=Vx(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return a(t,n)})}function a(t,n){var e=[],i=[];return o(t,n,function(a){r(a,t,n),rw(a)>0?e.push([a]):i.push(a)}),i.forEach(function(t){for(var n,r=0,i=e.length;r<i;++r)if(-1!==aw((n=e[r])[0],t))return void n.push(t)}),{type:"MultiPolygon",value:n,coordinates:e}}function o(e,r,i){var a,o,s,c,l,f,h=new Array,d=new Array;a=o=-1,c=e[0]>=r,fw[c<<1].forEach(p);while(++a<t-1)s=c,c=e[a+1]>=r,fw[s|c<<1].forEach(p);fw[c<<0].forEach(p);while(++o<n-1){a=-1,c=e[o*t+t]>=r,l=e[o*t]>=r,fw[c<<1|l<<2].forEach(p);while(++a<t-1)s=c,c=e[o*t+t+a+1]>=r,f=l,l=e[o*t+a+1]>=r,fw[s|c<<1|l<<2|f<<3].forEach(p);fw[c|l<<3].forEach(p)}a=-1,l=e[o*t]>=r,fw[l<<2].forEach(p);while(++a<t-1)f=l,l=e[o*t+a+1]>=r,fw[l<<2|f<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+a,t[0][1]+o],s=[t[1][0]+a,t[1][1]+o],c=u(r),l=u(s);(n=d[c])?(e=h[l])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(s),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(s),d[n.end=l]=n):(n=h[l])?(e=d[c])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(s),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=c]=n):h[c]=d[l]={start:c,end:l,ring:[r,s]}}fw[l<<3].forEach(p)}function u(n){return 2*n[0]+n[1]*(t+1)*4}function s(e,r,i){e.forEach(function(e){var a,o=e[0],u=e[1],s=0|o,c=0|u,l=r[c*t+s];o>0&&o<t&&s===o&&(a=r[c*t+s-1],e[0]=o+(i-a)/(l-a)-.5),u>0&&u<n&&c===u&&(a=r[(c-1)*t+s],e[1]=u+(i-a)/(l-a)-.5)})}return i.contour=a,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.ceil(e[0]),a=Math.ceil(e[1]);if(!(r>0)||!(a>0))throw new Error("invalid size");return t=r,n=a,i},i.thresholds=function(t){return arguments.length?(e="function"===typeof t?t:Array.isArray(t)?iw(nw.call(t)):iw(t),i):e},i.smooth=function(t){return arguments.length?(r=t?s:lw,i):r===s},i};function dw(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),o=0;o<i;++o)for(var u=0,s=0;u<r+e;++u)u<r&&(s+=t.data[u+o*r]),u>=e&&(u>=a&&(s-=t.data[u-a+o*r]),n.data[u-e+o*r]=s/Math.min(u+1,r-1+a-u,a))}function pw(t,n,e){for(var r=t.width,i=t.height,a=1+(e<<1),o=0;o<r;++o)for(var u=0,s=0;u<i+e;++u)u<i&&(s+=t.data[o+u*r]),u>=e&&(u>=a&&(s-=t.data[o+(u-a)*r]),n.data[o+(u-e)*r]=s/Math.min(u+1,i-1+a-u,a))}function vw(t){return t[0]}function gw(t){return t[1]}function mw(){return 1}var yw=function(){var t=vw,n=gw,e=mw,r=960,i=500,a=20,o=2,u=3*a,s=r+2*u>>o,c=i+2*u>>o,l=iw(20);function f(r){var i=new Float32Array(s*c),f=new Float32Array(s*c);r.forEach(function(r,a,l){var f=+t(r,a,l)+u>>o,h=+n(r,a,l)+u>>o,d=+e(r,a,l);f>=0&&f<s&&h>=0&&h<c&&(i[f+h*s]+=d)}),dw({width:s,height:c,data:i},{width:s,height:c,data:f},a>>o),pw({width:s,height:c,data:f},{width:s,height:c,data:i},a>>o),dw({width:s,height:c,data:i},{width:s,height:c,data:f},a>>o),pw({width:s,height:c,data:f},{width:s,height:c,data:i},a>>o),dw({width:s,height:c,data:i},{width:s,height:c,data:f},a>>o),pw({width:s,height:c,data:f},{width:s,height:c,data:i},a>>o);var d=l(i);if(!Array.isArray(d)){var p=Kx(i);d=Zx(0,p,d),d=Vx(0,Math.floor(p/d)*d,d),d.shift()}return hw().thresholds(d).size([s,c])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(v)}function v(t){t[0]=t[0]*Math.pow(2,o)-u,t[1]=t[1]*Math.pow(2,o)-u}function g(){return u=3*a,s=r+2*u>>o,c=i+2*u>>o,f}return f.x=function(n){return arguments.length?(t="function"===typeof n?n:iw(+n),f):t},f.y=function(t){return arguments.length?(n="function"===typeof t?t:iw(+t),f):n},f.weight=function(t){return arguments.length?(e="function"===typeof t?t:iw(+t),f):e},f.size=function(t){if(!arguments.length)return[r,i];var n=Math.ceil(t[0]),e=Math.ceil(t[1]);if(!(n>=0)&&!(n>=0))throw new Error("invalid size");return r=n,i=e,g()},f.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),g()},f.thresholds=function(t){return arguments.length?(l="function"===typeof t?t:Array.isArray(t)?iw(nw.call(t)):iw(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},f},bw=["size","smooth"],_w=["x","y","weight","size","cellSize","bandwidth"];function xw(t){ni.call(this,null,t)}xw.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"smooth",type:"boolean"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0}]};var ww=Object(d["v"])(xw,ni);function Aw(t){return function(n){for(var e=Ci(n),r=e[0],i=e[1]-r,a=[],o=1;o<=t;++o)a.push(r+i*o/(t+1));return a}}ww.transform=function(t,n){if(this.value&&!n.changed()&&!t.modified())return n.StopPropagation;var e,r,i,a=n.fork(n.NO_SOURCE|n.NO_FIELDS),o=t.count||10;return t.values?(e=hw(),r=bw,i=t.values):(e=yw(),r=_w,i=n.materialize(n.SOURCE).source),e.thresholds(t.thresholds||(t.nice?o:Aw(o))),r.forEach(function(n){null!=t[n]&&e[n](t[n])}),this.value&&(a.rem=this.value),i=i&&i.length?e(i).map(x):[],this.value=a.source=a.add=i,a};var Ow="Feature",kw="FeatureCollection",Mw="MultiPoint";function Ew(t){ni.call(this,null,t)}Ew.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};var Cw=Object(d["v"])(Ew,ni);Cw.transform=function(t,n){var e,r=this._features,i=this._points,a=t.fields,o=a&&a[0],u=a&&a[1],s=t.geojson,c=n.ADD;e=t.modified()||n.changed(n.REM)||n.modified(Object(d["e"])(s))||o&&n.modified(Object(d["e"])(o))||u&&n.modified(Object(d["e"])(u)),this.value&&!e||(c=n.SOURCE,this._features=r=[],this._points=i=[]),s&&n.visit(c,function(t){r.push(s(t))}),o&&u&&(n.visit(c,function(t){var n=o(t),e=u(t);null!=n&&null!=e&&(n=+n)===n&&(e=+e)===e&&i.push([n,e])}),r=r.concat({type:Ow,geometry:{type:Mw,coordinates:i}})),this.value={type:kw,features:r}};var jw=function(){return new Dw};function Dw(){this.reset()}Dw.prototype={constructor:Dw,reset:function(){this.s=this.t=0},add:function(t){Fw(Sw,t,this.t),Fw(this,Sw.s,this.s),this.s?this.t+=Sw.t:this.s=Sw.t},valueOf:function(){return this.s}};var Sw=new Dw;function Fw(t,n,e){var r=t.s=n+e,i=r-n,a=r-i;t.t=n-a+(e-i)}var Tw=1e-6,Bw=1e-12,Rw=Math.PI,Nw=Rw/2,Pw=Rw/4,Lw=2*Rw,zw=180/Rw,$w=Rw/180,Uw=Math.abs,Iw=Math.atan,qw=Math.atan2,Ww=Math.cos,Yw=Math.ceil,Hw=Math.exp,Vw=(Math.floor,Math.log),Gw=Math.pow,Xw=Math.sin,Jw=Math.sign||function(t){return t>0?1:t<0?-1:0},Zw=Math.sqrt,Qw=Math.tan;function Kw(t){return t>1?0:t<-1?Rw:Math.acos(t)}function tA(t){return t>1?Nw:t<-1?-Nw:Math.asin(t)}function nA(){}function eA(t,n){t&&iA.hasOwnProperty(t.type)&&iA[t.type](t,n)}var rA={Feature:function(t,n){eA(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)eA(e[r].geometry,n)}},iA={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){aA(t.coordinates,n,0)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)aA(e[r],n,0)},Polygon:function(t,n){oA(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)oA(e[r],n)},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)eA(e[r],n)}};function aA(t,n,e){var r,i=-1,a=t.length-e;n.lineStart();while(++i<a)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function oA(t,n){var e=-1,r=t.length;n.polygonStart();while(++e<r)aA(t[e],n,1);n.polygonEnd()}var uA,sA,cA,lA,fA,hA=function(t,n){t&&rA.hasOwnProperty(t.type)?rA[t.type](t,n):eA(t,n)},dA=jw(),pA=jw(),vA={point:nA,lineStart:nA,lineEnd:nA,polygonStart:function(){dA.reset(),vA.lineStart=gA,vA.lineEnd=mA},polygonEnd:function(){var t=+dA;pA.add(t<0?Lw+t:t),this.lineStart=this.lineEnd=this.point=nA},sphere:function(){pA.add(Lw)}};function gA(){vA.point=yA}function mA(){bA(uA,sA)}function yA(t,n){vA.point=bA,uA=t,sA=n,t*=$w,n*=$w,cA=t,lA=Ww(n=n/2+Pw),fA=Xw(n)}function bA(t,n){t*=$w,n*=$w,n=n/2+Pw;var e=t-cA,r=e>=0?1:-1,i=r*e,a=Ww(n),o=Xw(n),u=fA*o,s=lA*a+u*Ww(i),c=u*r*Xw(i);dA.add(qw(c,s)),cA=t,lA=a,fA=o}var _A=function(t){return pA.reset(),hA(t,vA),2*pA};function xA(t){return[qw(t[1],t[0]),tA(t[2])]}function wA(t){var n=t[0],e=t[1],r=Ww(e);return[r*Ww(n),r*Xw(n),Xw(e)]}function AA(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function OA(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function kA(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function MA(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function EA(t){var n=Zw(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var CA,jA,DA,SA,FA,TA,BA,RA,NA,PA,LA=jw(),zA={point:$A,lineStart:IA,lineEnd:qA,polygonStart:function(){zA.point=WA,zA.lineStart=YA,zA.lineEnd=HA,LA.reset(),vA.polygonStart()},polygonEnd:function(){vA.polygonEnd(),zA.point=$A,zA.lineStart=IA,zA.lineEnd=qA,dA<0?(CA=-(DA=180),jA=-(SA=90)):LA>Tw?SA=90:LA<-Tw&&(jA=-90),PA[0]=CA,PA[1]=DA}};function $A(t,n){NA.push(PA=[CA=t,DA=t]),n<jA&&(jA=n),n>SA&&(SA=n)}function UA(t,n){var e=wA([t*$w,n*$w]);if(RA){var r=OA(RA,e),i=[r[1],-r[0],0],a=OA(i,r);EA(a),a=xA(a);var o,u=t-FA,s=u>0?1:-1,c=a[0]*zw*s,l=Uw(u)>180;l^(s*FA<c&&c<s*t)?(o=a[1]*zw,o>SA&&(SA=o)):(c=(c+360)%360-180,l^(s*FA<c&&c<s*t)?(o=-a[1]*zw,o<jA&&(jA=o)):(n<jA&&(jA=n),n>SA&&(SA=n))),l?t<FA?VA(CA,t)>VA(CA,DA)&&(DA=t):VA(t,DA)>VA(CA,DA)&&(CA=t):DA>=CA?(t<CA&&(CA=t),t>DA&&(DA=t)):t>FA?VA(CA,t)>VA(CA,DA)&&(DA=t):VA(t,DA)>VA(CA,DA)&&(CA=t)}else NA.push(PA=[CA=t,DA=t]);n<jA&&(jA=n),n>SA&&(SA=n),RA=e,FA=t}function IA(){zA.point=UA}function qA(){PA[0]=CA,PA[1]=DA,zA.point=$A,RA=null}function WA(t,n){if(RA){var e=t-FA;LA.add(Uw(e)>180?e+(e>0?360:-360):e)}else TA=t,BA=n;vA.point(t,n),UA(t,n)}function YA(){vA.lineStart()}function HA(){WA(TA,BA),vA.lineEnd(),Uw(LA)>Tw&&(CA=-(DA=180)),PA[0]=CA,PA[1]=DA,RA=null}function VA(t,n){return(n-=t)<0?n+360:n}function GA(t,n){return t[0]-n[0]}function XA(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var JA,ZA,QA,KA,tO,nO,eO,rO,iO,aO,oO,uO,sO,cO,lO,fO,hO=function(t){var n,e,r,i,a,o,u;if(SA=DA=-(CA=jA=1/0),NA=[],hA(t,zA),e=NA.length){for(NA.sort(GA),n=1,r=NA[0],a=[r];n<e;++n)i=NA[n],XA(r,i[0])||XA(r,i[1])?(VA(r[0],i[1])>VA(r[0],r[1])&&(r[1]=i[1]),VA(i[0],r[1])>VA(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=a.length-1,n=0,r=a[e];n<=e;r=i,++n)i=a[n],(u=VA(r[1],i[0]))>o&&(o=u,CA=i[0],DA=r[1])}return NA=PA=null,CA===1/0||jA===1/0?[[NaN,NaN],[NaN,NaN]]:[[CA,jA],[DA,SA]]},dO={sphere:nA,point:pO,lineStart:gO,lineEnd:bO,polygonStart:function(){dO.lineStart=_O,dO.lineEnd=xO},polygonEnd:function(){dO.lineStart=gO,dO.lineEnd=bO}};function pO(t,n){t*=$w,n*=$w;var e=Ww(n);vO(e*Ww(t),e*Xw(t),Xw(n))}function vO(t,n,e){++JA,QA+=(t-QA)/JA,KA+=(n-KA)/JA,tO+=(e-tO)/JA}function gO(){dO.point=mO}function mO(t,n){t*=$w,n*=$w;var e=Ww(n);cO=e*Ww(t),lO=e*Xw(t),fO=Xw(n),dO.point=yO,vO(cO,lO,fO)}function yO(t,n){t*=$w,n*=$w;var e=Ww(n),r=e*Ww(t),i=e*Xw(t),a=Xw(n),o=qw(Zw((o=lO*a-fO*i)*o+(o=fO*r-cO*a)*o+(o=cO*i-lO*r)*o),cO*r+lO*i+fO*a);ZA+=o,nO+=o*(cO+(cO=r)),eO+=o*(lO+(lO=i)),rO+=o*(fO+(fO=a)),vO(cO,lO,fO)}function bO(){dO.point=pO}function _O(){dO.point=wO}function xO(){AO(uO,sO),dO.point=pO}function wO(t,n){uO=t,sO=n,t*=$w,n*=$w,dO.point=AO;var e=Ww(n);cO=e*Ww(t),lO=e*Xw(t),fO=Xw(n),vO(cO,lO,fO)}function AO(t,n){t*=$w,n*=$w;var e=Ww(n),r=e*Ww(t),i=e*Xw(t),a=Xw(n),o=lO*a-fO*i,u=fO*r-cO*a,s=cO*i-lO*r,c=Zw(o*o+u*u+s*s),l=tA(c),f=c&&-l/c;iO+=f*o,aO+=f*u,oO+=f*s,ZA+=l,nO+=l*(cO+(cO=r)),eO+=l*(lO+(lO=i)),rO+=l*(fO+(fO=a)),vO(cO,lO,fO)}var OO=function(t){JA=ZA=QA=KA=tO=nO=eO=rO=iO=aO=oO=0,hA(t,dO);var n=iO,e=aO,r=oO,i=n*n+e*e+r*r;return i<Bw&&(n=nO,e=eO,r=rO,ZA<Tw&&(n=QA,e=KA,r=tO),i=n*n+e*e+r*r,i<Bw)?[NaN,NaN]:[qw(e,n)*zw,tA(r/Zw(i))*zw]},kO=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e};function MO(t,n){return[Uw(t)>Rw?t+Math.round(-t/Lw)*Lw:t,n]}function EO(t,n,e){return(t%=Lw)?n||e?kO(jO(t),DO(n,e)):jO(t):n||e?DO(n,e):MO}function CO(t){return function(n,e){return n+=t,[n>Rw?n-Lw:n<-Rw?n+Lw:n,e]}}function jO(t){var n=CO(t);return n.invert=CO(-t),n}function DO(t,n){var e=Ww(t),r=Xw(t),i=Ww(n),a=Xw(n);function o(t,n){var o=Ww(n),u=Ww(t)*o,s=Xw(t)*o,c=Xw(n),l=c*e+u*r;return[qw(s*i-l*a,u*e-c*r),tA(l*i+s*a)]}return o.invert=function(t,n){var o=Ww(n),u=Ww(t)*o,s=Xw(t)*o,c=Xw(n),l=c*i-s*a;return[qw(s*i+c*a,u*e+l*r),tA(l*e-u*r)]},o}MO.invert=MO;var SO=function(t){function n(n){return n=t(n[0]*$w,n[1]*$w),n[0]*=zw,n[1]*=zw,n}return t=EO(t[0]*$w,t[1]*$w,t.length>2?t[2]*$w:0),n.invert=function(n){return n=t.invert(n[0]*$w,n[1]*$w),n[0]*=zw,n[1]*=zw,n},n};function FO(t,n,e,r,i,a){if(e){var o=Ww(n),u=Xw(n),s=r*e;null==i?(i=n+r*Lw,a=n-s/2):(i=TO(o,i),a=TO(o,a),(r>0?i<a:i>a)&&(i+=r*Lw));for(var c,l=i;r>0?l>a:l<a;l-=s)c=xA([o,-u*Ww(l),-u*Xw(l)]),t.point(c[0],c[1])}}function TO(t,n){n=wA(n),n[0]-=t,EA(n);var e=Kw(-n[1]);return((-n[2]<0?-e:e)+Lw-Tw)%Lw}var BO=function(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:nA,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},RO=function(t,n){return Uw(t[0]-n[0])<Tw&&Uw(t[1]-n[1])<Tw};function NO(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var PO=function(t,n,e,r,i){var a,o,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],o=t[n];if(RO(r,o)){for(i.lineStart(),a=0;a<n;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else u.push(e=new NO(r,t,null,!0)),s.push(e.o=new NO(r,null,e,!1)),u.push(e=new NO(o,t,null,!1)),s.push(e.o=new NO(o,null,e,!0))}}),u.length){for(s.sort(n),LO(u),LO(s),a=0,o=s.length;a<o;++a)s[a].e=e=!e;var c,l,f=u[0];while(1){var h=f,d=!0;while(h.v)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,c=h.z,d=!d}while(!h.v);i.lineEnd()}}};function LO(t){if(n=t.length){var n,e,r=0,i=t[0];while(++r<n)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}var zO=jw(),$O=function(t,n){var e=n[0],r=n[1],i=Xw(r),a=[Xw(e),-Ww(e),0],o=0,u=0;zO.reset(),1===i?r=Nw+Tw:-1===i&&(r=-Nw-Tw);for(var s=0,c=t.length;s<c;++s)if(f=(l=t[s]).length)for(var l,f,h=l[f-1],d=h[0],p=h[1]/2+Pw,v=Xw(p),g=Ww(p),m=0;m<f;++m,d=b,v=x,g=w,h=y){var y=l[m],b=y[0],_=y[1]/2+Pw,x=Xw(_),w=Ww(_),A=b-d,O=A>=0?1:-1,k=O*A,M=k>Rw,E=v*x;if(zO.add(qw(E*O*Xw(k),g*w+E*Ww(k))),o+=M?A+O*Lw:A,M^d>=e^b>=e){var C=OA(wA(h),wA(y));EA(C);var j=OA(a,C);EA(j);var D=(M^A>=0?-1:1)*tA(j[2]);(r>D||r===D&&(C[0]||C[1]))&&(u+=M^A>=0?1:-1)}}return(o<-Tw||o<Tw&&zO<-Tw)^1&u},UO=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},IO=function(t){return 1===t.length&&(t=qO(t)),{left:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)<0?r=a+1:i=a}return r},right:function(n,e,r,i){null==r&&(r=0),null==i&&(i=n.length);while(r<i){var a=r+i>>>1;t(n[a],e)>0?i=a:r=a+1}return r}}};function qO(t){return function(n,e){return UO(t(n),e)}}var WO=IO(UO);WO.right,WO.left;var YO=Array.prototype,HO=(YO.slice,YO.map,function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);while(++r<i)a[r]=t+r*e;return a});Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var VO=function(t){var n,e,r,i=t.length,a=-1,o=0;while(++a<i)o+=t[a].length;e=new Array(o);while(--i>=0){r=t[i],n=r.length;while(--n>=0)e[--o]=r[n]}return e};var GO=function(t,n,e,r){return function(i){var a,o,u,s=n(i),c=BO(),l=n(c),f=!1,h={point:d,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=g,o=VO(o);var t=$O(a,r);o.length?(f||(i.polygonStart(),f=!0),PO(o,JO,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function v(){h.point=p,s.lineStart()}function g(){h.point=d,s.lineEnd()}function m(t,n){u.push([t,n]),l.point(t,n)}function y(){l.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),h=c.result(),d=h.length;if(u.pop(),a.push(u),u=null,d)if(1&s){if(e=h[0],(n=e.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),o.push(h.filter(XO))}return h}};function XO(t){return t.length>1}function JO(t,n){return((t=t.x)[0]<0?t[1]-Nw-Tw:Nw-t[1])-((n=n.x)[0]<0?n[1]-Nw-Tw:Nw-n[1])}var ZO=GO(function(){return!0},QO,tk,[-Rw,-Nw]);function QO(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(a,o){var u=a>0?Rw:-Rw,s=Uw(a-e);Uw(s-Rw)<Tw?(t.point(e,r=(r+o)/2>0?Nw:-Nw),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(a,r),n=0):i!==u&&s>=Rw&&(Uw(e-i)<Tw&&(e-=i*Tw),Uw(a-u)<Tw&&(a-=u*Tw),r=KO(e,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=a,r=o),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function KO(t,n,e,r){var i,a,o=Xw(t-e);return Uw(o)>Tw?Iw((Xw(n)*(a=Ww(r))*Xw(e)-Xw(r)*(i=Ww(n))*Xw(t))/(i*a*o)):(n+r)/2}function tk(t,n,e,r){var i;if(null==t)i=e*Nw,r.point(-Rw,i),r.point(0,i),r.point(Rw,i),r.point(Rw,0),r.point(Rw,-i),r.point(0,-i),r.point(-Rw,-i),r.point(-Rw,0),r.point(-Rw,i);else if(Uw(t[0]-n[0])>Tw){var a=t[0]<n[0]?Rw:-Rw;i=e*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(n[0],n[1])}var nk=function(t){var n=Ww(t),e=6*$w,r=n>0,i=Uw(n)>Tw;function a(n,r,i,a){FO(a,t,e,i,n,r)}function o(t,e){return Ww(t)*Ww(e)>n}function u(t){var n,e,a,u,l;return{lineStart:function(){u=a=!1,l=1},point:function(f,h){var d,p=[f,h],v=o(f,h),g=r?v?0:c(f,h):v?c(f+(f<0?Rw:-Rw),h):0;if(!n&&(u=a=v)&&t.lineStart(),v!==a&&(d=s(n,p),(!d||RO(n,d)||RO(p,d))&&(p[0]+=Tw,p[1]+=Tw,v=o(p[0],p[1]))),v!==a)l=0,v?(t.lineStart(),d=s(p,n),t.point(d[0],d[1])):(d=s(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(i&&n&&r^v){var m;g&e||!(m=s(p,n,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!v||n&&RO(n,p)||t.point(p[0],p[1]),n=p,a=v,e=g},lineEnd:function(){a&&t.lineEnd(),n=null},clean:function(){return l|(u&&a)<<1}}}function s(t,e,r){var i=wA(t),a=wA(e),o=[1,0,0],u=OA(i,a),s=AA(u,u),c=u[0],l=s-c*c;if(!l)return!r&&t;var f=n*s/l,h=-n*c/l,d=OA(o,u),p=MA(o,f),v=MA(u,h);kA(p,v);var g=d,m=AA(p,g),y=AA(g,g),b=m*m-y*(AA(p,p)-1);if(!(b<0)){var _=Zw(b),x=MA(g,(-m-_)/y);if(kA(x,p),x=xA(x),!r)return x;var w,A=t[0],O=e[0],k=t[1],M=e[1];O<A&&(w=A,A=O,O=w);var E=O-A,C=Uw(E-Rw)<Tw,j=C||E<Tw;if(!C&&M<k&&(w=k,k=M,M=w),j?C?k+M>0^x[1]<(Uw(x[0]-A)<Tw?k:M):k<=x[1]&&x[1]<=M:E>Rw^(A<=x[0]&&x[0]<=O)){var D=MA(g,(-m+_)/y);return kA(D,p),[x,xA(D)]}}}function c(n,e){var i=r?t:Rw-t,a=0;return n<-i?a|=1:n>i&&(a|=2),e<-i?a|=4:e>i&&(a|=8),a}return GO(o,u,a,r?[0,-t]:[-Rw,t-Rw])},ek=function(t,n,e,r,i,a){var o,u=t[0],s=t[1],c=n[0],l=n[1],f=0,h=1,d=c-u,p=l-s;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>f&&(f=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<h&&(h=o)}if(o=r-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>f&&(f=o)}if(o=a-s,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<h&&(h=o)}return f>0&&(t[0]=u+f*d,t[1]=s+f*p),h<1&&(n[0]=u+h*d,n[1]=s+h*p),!0}}}}},rk=1e9,ik=-rk;function ak(t,n,e,r){function i(i,a){return t<=i&&i<=e&&n<=a&&a<=r}function a(i,a,u,c){var l=0,f=0;if(null==i||(l=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(a[0],a[1])}function o(r,i){return Uw(r[0]-t)<Tw?i>0?0:3:Uw(r[0]-e)<Tw?i>0?2:1:Uw(r[1]-n)<Tw?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=o(t,1),r=o(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(o){var s,c,l,f,h,d,p,v,g,m,y,b=o,_=BO(),x={point:w,lineStart:M,lineEnd:E,polygonStart:O,polygonEnd:k};function w(t,n){i(t,n)&&b.point(t,n)}function A(){for(var n=0,e=0,i=c.length;e<i;++e)for(var a,o,u=c[e],s=1,l=u.length,f=u[0],h=f[0],d=f[1];s<l;++s)a=h,o=d,f=u[s],h=f[0],d=f[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(t-a)&&++n:d<=r&&(h-a)*(r-o)<(d-o)*(t-a)&&--n;return n}function O(){b=_,s=[],c=[],y=!0}function k(){var t=A(),n=y&&t,e=(s=VO(s)).length;(n||e)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),e&&PO(s,u,t,a,o),o.polygonEnd()),b=o,s=c=l=null}function M(){x.point=C,c&&c.push(l=[]),m=!0,g=!1,p=v=NaN}function E(){s&&(C(f,h),d&&g&&_.rejoin(),s.push(_.result())),x.point=w,g&&b.lineEnd()}function C(a,o){var u=i(a,o);if(c&&l.push([a,o]),m)f=a,h=o,d=u,m=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&g)b.point(a,o);else{var s=[p=Math.max(ik,Math.min(rk,p)),v=Math.max(ik,Math.min(rk,v))],_=[a=Math.max(ik,Math.min(rk,a)),o=Math.max(ik,Math.min(rk,o))];ek(s,_,t,n,e,r)?(g||(b.lineStart(),b.point(s[0],s[1])),b.point(_[0],_[1]),u||b.lineEnd(),y=!1):u&&(b.lineStart(),b.point(a,o),y=!1)}p=a,v=o,g=u}return x}}jw();function ok(t,n,e){var r=HO(t,n-Tw,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function uk(t,n,e){var r=HO(t,n-Tw,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function sk(){var t,n,e,r,i,a,o,u,s,c,l,f,h=10,d=h,p=90,v=360,g=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return HO(Yw(r/p)*p,e,p).map(l).concat(HO(Yw(u/v)*v,o,v).map(f)).concat(HO(Yw(n/h)*h,t,h).filter(function(t){return Uw(t%p)>Tw}).map(s)).concat(HO(Yw(a/d)*d,i,d).filter(function(t){return Uw(t%v)>Tw}).map(c))}return m.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(o).slice(1),l(e).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],u=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),u>o&&(t=u,u=o,o=t),m.precision(g)):[[r,u],[e,o]]},m.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),a>i&&(e=a,a=i,i=e),m.precision(g)):[[n,a],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(p=+t[0],v=+t[1],m):[p,v]},m.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],m):[h,d]},m.precision=function(h){return arguments.length?(g=+h,s=ok(a,i,90),c=uk(n,t,g),l=ok(u,o,90),f=uk(r,e,g),m):g},m.extentMajor([[-180,-90+Tw],[180,90-Tw]]).extentMinor([[-180,-80-Tw],[180,80+Tw]])}var ck,lk,fk,hk,dk=function(t){return t},pk=jw(),vk=jw(),gk={point:nA,lineStart:nA,lineEnd:nA,polygonStart:function(){gk.lineStart=mk,gk.lineEnd=_k},polygonEnd:function(){gk.lineStart=gk.lineEnd=gk.point=nA,pk.add(Uw(vk)),vk.reset()},result:function(){var t=pk/2;return pk.reset(),t}};function mk(){gk.point=yk}function yk(t,n){gk.point=bk,ck=fk=t,lk=hk=n}function bk(t,n){vk.add(hk*t-fk*n),fk=t,hk=n}function _k(){bk(ck,lk)}var xk=gk,wk=1/0,Ak=wk,Ok=-wk,kk=Ok,Mk={point:Ek,lineStart:nA,lineEnd:nA,polygonStart:nA,polygonEnd:nA,result:function(){var t=[[wk,Ak],[Ok,kk]];return Ok=kk=-(Ak=wk=1/0),t}};function Ek(t,n){t<wk&&(wk=t),t>Ok&&(Ok=t),n<Ak&&(Ak=n),n>kk&&(kk=n)}var Ck,jk,Dk,Sk,Fk=Mk,Tk=0,Bk=0,Rk=0,Nk=0,Pk=0,Lk=0,zk=0,$k=0,Uk=0,Ik={point:qk,lineStart:Wk,lineEnd:Vk,polygonStart:function(){Ik.lineStart=Gk,Ik.lineEnd=Xk},polygonEnd:function(){Ik.point=qk,Ik.lineStart=Wk,Ik.lineEnd=Vk},result:function(){var t=Uk?[zk/Uk,$k/Uk]:Lk?[Nk/Lk,Pk/Lk]:Rk?[Tk/Rk,Bk/Rk]:[NaN,NaN];return Tk=Bk=Rk=Nk=Pk=Lk=zk=$k=Uk=0,t}};function qk(t,n){Tk+=t,Bk+=n,++Rk}function Wk(){Ik.point=Yk}function Yk(t,n){Ik.point=Hk,qk(Dk=t,Sk=n)}function Hk(t,n){var e=t-Dk,r=n-Sk,i=Zw(e*e+r*r);Nk+=i*(Dk+t)/2,Pk+=i*(Sk+n)/2,Lk+=i,qk(Dk=t,Sk=n)}function Vk(){Ik.point=qk}function Gk(){Ik.point=Jk}function Xk(){Zk(Ck,jk)}function Jk(t,n){Ik.point=Zk,qk(Ck=Dk=t,jk=Sk=n)}function Zk(t,n){var e=t-Dk,r=n-Sk,i=Zw(e*e+r*r);Nk+=i*(Dk+t)/2,Pk+=i*(Sk+n)/2,Lk+=i,i=Sk*t-Dk*n,zk+=i*(Dk+t),$k+=i*(Sk+n),Uk+=3*i,qk(Dk=t,Sk=n)}var Qk=Ik;function Kk(t){this._context=t}Kk.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Lw);break}},result:nA};var tM,nM,eM,rM,iM,aM=jw(),oM={point:nA,lineStart:function(){oM.point=uM},lineEnd:function(){tM&&sM(nM,eM),oM.point=nA},polygonStart:function(){tM=!0},polygonEnd:function(){tM=null},result:function(){var t=+aM;return aM.reset(),t}};function uM(t,n){oM.point=sM,nM=rM=t,eM=iM=n}function sM(t,n){rM-=t,iM-=n,aM.add(Zw(rM*rM+iM*iM)),rM=t,iM=n}var cM=oM;function lM(){this._string=[]}function fM(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}lM.prototype={_radius:4.5,_circle:fM(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=fM(this._radius)),this._string.push("M",t,",",n,this._circle);break}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var hM=function(t,n){var e,r,i=4.5;function a(t){return t&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),hA(t,e(r))),r.result()}return a.area=function(t){return hA(t,e(xk)),xk.result()},a.measure=function(t){return hA(t,e(cM)),cM.result()},a.bounds=function(t){return hA(t,e(Fk)),Fk.result()},a.centroid=function(t){return hA(t,e(Qk)),Qk.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,dk):(t=n).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(n=null,new lM):new Kk(n=t),"function"!==typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"===typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(n)};function dM(t){return function(n){var e=new pM;for(var r in t)e[r]=t[r];return e.stream=n,e}}function pM(){}function vM(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),hA(e,t.stream(Fk)),n(Fk.result()),null!=r&&t.clipExtent(r),t}function gM(t,n,e){return vM(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),o=+n[0][0]+(r-a*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-a*(e[1][1]+e[0][1]))/2;t.scale(150*a).translate([o,u])},e)}function mM(t,n,e){return gM(t,[[0,0],n],e)}function yM(t,n,e){return vM(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),a=(r-i*(e[1][0]+e[0][0]))/2,o=-i*e[0][1];t.scale(150*i).translate([a,o])},e)}function bM(t,n,e){return vM(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),a=-i*e[0][0],o=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([a,o])},e)}pM.prototype={constructor:pM,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var _M=16,xM=Ww(30*$w),wM=function(t,n){return+n?OM(t,n):AM(t)};function AM(t){return dM({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function OM(t,n){function e(r,i,a,o,u,s,c,l,f,h,d,p,v,g){var m=c-r,y=l-i,b=m*m+y*y;if(b>4*n&&v--){var _=o+h,x=u+d,w=s+p,A=Zw(_*_+x*x+w*w),O=tA(w/=A),k=Uw(Uw(w)-1)<Tw||Uw(a-f)<Tw?(a+f)/2:qw(x,_),M=t(k,O),E=M[0],C=M[1],j=E-r,D=C-i,S=y*j-m*D;(S*S/b>n||Uw((m*j+y*D)/b-.5)>.3||o*h+u*d+s*p<xM)&&(e(r,i,a,o,u,s,E,C,k,_/=A,x/=A,w,v,g),g.point(E,C),e(E,C,k,_,x,w,c,l,f,h,d,p,v,g))}}return function(n){var r,i,a,o,u,s,c,l,f,h,d,p,v={point:g,lineStart:m,lineEnd:b,polygonStart:function(){n.polygonStart(),v.lineStart=_},polygonEnd:function(){n.polygonEnd(),v.lineStart=m}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){l=NaN,v.point=y,n.lineStart()}function y(r,i){var a=wA([r,i]),o=t(r,i);e(l,f,c,h,d,p,l=o[0],f=o[1],c=r,h=a[0],d=a[1],p=a[2],_M,n),n.point(l,f)}function b(){v.point=g,n.lineEnd()}function _(){m(),v.point=x,v.lineEnd=w}function x(t,n){y(r=t,n),i=l,a=f,o=h,u=d,s=p,v.point=y}function w(){e(l,f,c,h,d,p,i,a,r,o,u,s,_M,n),v.lineEnd=b,b()}return v}}var kM=dM({point:function(t,n){this.stream.point(t*$w,n*$w)}});function MM(t){return dM({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function EM(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r}function CM(t,n,e,r){var i=Ww(r),a=Xw(r),o=i*t,u=a*t,s=i/t,c=a/t,l=(a*e-i*n)/t,f=(a*n+i*e)/t;function h(t,r){return[o*t-u*r+n,e-u*t-o*r]}return h.invert=function(t,n){return[s*t-c*n+l,f-c*t-s*n]},h}function jM(t){return DM(function(){return t})()}function DM(t){var n,e,r,i,a,o,u,s,c,l,f=150,h=480,d=250,p=0,v=0,g=0,m=0,y=0,b=0,_=null,x=ZO,w=null,A=dk,O=.5;function k(t){return s(t[0]*$w,t[1]*$w)}function M(t){return t=s.invert(t[0],t[1]),t&&[t[0]*zw,t[1]*zw]}function E(){var t=CM(f,0,0,b).apply(null,n(p,v)),r=(b?CM:EM)(f,h-t[0],d-t[1],b);return e=EO(g,m,y),u=kO(n,r),s=kO(e,u),o=wM(u,O),C()}function C(){return c=l=null,k}return k.stream=function(t){return c&&l===t?c:c=kM(MM(e)(x(o(A(l=t)))))},k.preclip=function(t){return arguments.length?(x=t,_=void 0,C()):x},k.postclip=function(t){return arguments.length?(A=t,w=r=i=a=null,C()):A},k.clipAngle=function(t){return arguments.length?(x=+t?nk(_=t*$w):(_=null,ZO),C()):_*zw},k.clipExtent=function(t){return arguments.length?(A=null==t?(w=r=i=a=null,dk):ak(w=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),C()):null==w?null:[[w,r],[i,a]]},k.scale=function(t){return arguments.length?(f=+t,E()):f},k.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],E()):[h,d]},k.center=function(t){return arguments.length?(p=t[0]%360*$w,v=t[1]%360*$w,E()):[p*zw,v*zw]},k.rotate=function(t){return arguments.length?(g=t[0]%360*$w,m=t[1]%360*$w,y=t.length>2?t[2]%360*$w:0,E()):[g*zw,m*zw,y*zw]},k.angle=function(t){return arguments.length?(b=t%360*$w,E()):b*zw},k.precision=function(t){return arguments.length?(o=wM(u,O=t*t),C()):Zw(O)},k.fitExtent=function(t,n){return gM(k,t,n)},k.fitSize=function(t,n){return mM(k,t,n)},k.fitWidth=function(t,n){return yM(k,t,n)},k.fitHeight=function(t,n){return bM(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&M,E()}}function SM(t){var n=0,e=Rw/3,r=DM(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*$w,e=t[1]*$w):[n*zw,e*zw]},i}function FM(t){var n=Ww(t);function e(t,e){return[t*n,Xw(e)/n]}return e.invert=function(t,e){return[t/n,tA(e*n)]},e}function TM(t,n){var e=Xw(t),r=(e+Xw(n))/2;if(Uw(r)<Tw)return FM(t);var i=1+e*(2*r-e),a=Zw(i)/r;function o(t,n){var e=Zw(i-2*r*Xw(n))/r;return[e*Xw(t*=r),a-e*Ww(t)]}return o.invert=function(t,n){var e=a-n;return[qw(t,Uw(e))/r*Jw(e),tA((i-(t*t+e*e)*r*r)/(2*r))]},o}var BM=function(){return SM(TM).scale(155.424).center([0,33.6442])},RM=function(){return BM().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function NM(t){var n=t.length;return{point:function(e,r){var i=-1;while(++i<n)t[i].point(e,r)},sphere:function(){var e=-1;while(++e<n)t[e].sphere()},lineStart:function(){var e=-1;while(++e<n)t[e].lineStart()},lineEnd:function(){var e=-1;while(++e<n)t[e].lineEnd()},polygonStart:function(){var e=-1;while(++e<n)t[e].polygonStart()},polygonEnd:function(){var e=-1;while(++e<n)t[e].polygonEnd()}}}var PM=function(){var t,n,e,r,i,a,o=RM(),u=BM().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=BM().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,n){a=[t,n]}};function l(t){var n=t[0],o=t[1];return a=null,e.point(n,o),a||(r.point(n,o),a)||(i.point(n,o),a)}function f(){return t=n=null,l}return l.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(t)},l.stream=function(e){return t&&n===e?t:t=NM([o.stream(n=e),u.stream(e),s.stream(e)])},l.precision=function(t){return arguments.length?(o.precision(t),u.precision(t),s.precision(t),f()):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),u.scale(.35*t),s.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),a=+t[0],l=+t[1];return e=o.translate(t).clipExtent([[a-.455*n,l-.238*n],[a+.455*n,l+.238*n]]).stream(c),r=u.translate([a-.307*n,l+.201*n]).clipExtent([[a-.425*n+Tw,l+.12*n+Tw],[a-.214*n-Tw,l+.234*n-Tw]]).stream(c),i=s.translate([a-.205*n,l+.212*n]).clipExtent([[a-.214*n+Tw,l+.166*n+Tw],[a-.115*n-Tw,l+.234*n-Tw]]).stream(c),f()},l.fitExtent=function(t,n){return gM(l,t,n)},l.fitSize=function(t,n){return mM(l,t,n)},l.fitWidth=function(t,n){return yM(l,t,n)},l.fitHeight=function(t,n){return bM(l,t,n)},l.scale(1070)};function LM(t){return function(n,e){var r=Ww(n),i=Ww(e),a=t(r*i);return[a*i*Xw(n),a*Xw(e)]}}function zM(t){return function(n,e){var r=Zw(n*n+e*e),i=t(r),a=Xw(i),o=Ww(i);return[qw(n*a,r*o),tA(r&&e*a/r)]}}var $M=LM(function(t){return Zw(2/(1+t))});$M.invert=zM(function(t){return 2*tA(t/2)});var UM=function(){return jM($M).scale(124.75).clipAngle(179.999)},IM=LM(function(t){return(t=Kw(t))&&t/Xw(t)});IM.invert=zM(function(t){return t});var qM=function(){return jM(IM).scale(79.4188).clipAngle(179.999)};function WM(t,n){return[t,Vw(Qw((Nw+n)/2))]}WM.invert=function(t,n){return[t,2*Iw(Hw(n))-Nw]};var YM=function(){return HM(WM).scale(961/Lw)};function HM(t){var n,e,r,i=jM(t),a=i.center,o=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var a=Rw*o(),u=i(SO(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:t===WM?[[Math.max(u[0]-a,c),n],[Math.min(u[0]+a,e),r]]:[[c,Math.max(u[1]-a,n)],[e,Math.min(u[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),l()):o()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(a(t),l()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,n],[e,r]]},l()}function VM(t){return Qw((Nw+t)/2)}function GM(t,n){var e=Ww(t),r=t===n?Xw(t):Vw(e/Ww(n))/Vw(VM(n)/VM(t)),i=e*Gw(VM(t),r)/r;if(!r)return WM;function a(t,n){i>0?n<-Nw+Tw&&(n=-Nw+Tw):n>Nw-Tw&&(n=Nw-Tw);var e=i/Gw(VM(n),r);return[e*Xw(r*t),i-e*Ww(r*t)]}return a.invert=function(t,n){var e=i-n,a=Jw(r)*Zw(t*t+e*e);return[qw(t,Uw(e))/r*Jw(e),2*Iw(Gw(i/a,1/r))-Nw]},a}var XM=function(){return SM(GM).scale(109.5).parallels([30,30])};function JM(t,n){return[t,n]}JM.invert=JM;var ZM=function(){return jM(JM).scale(152.63)};function QM(t,n){var e=Ww(t),r=t===n?Xw(t):(e-Ww(n))/(n-t),i=e/r+t;if(Uw(r)<Tw)return JM;function a(t,n){var e=i-n,a=r*t;return[e*Xw(a),i-e*Ww(a)]}return a.invert=function(t,n){var e=i-n;return[qw(t,Uw(e))/r*Jw(e),i-Jw(r)*Zw(t*t+e*e)]},a}var KM=function(){return SM(QM).scale(131.154).center([0,13.9389])},tE=1.340264,nE=-.081106,eE=893e-6,rE=.003796,iE=Zw(3)/2,aE=12;function oE(t,n){var e=tA(iE*Xw(n)),r=e*e,i=r*r*r;return[t*Ww(e)/(iE*(tE+3*nE*r+i*(7*eE+9*rE*r))),e*(tE+nE*r+i*(eE+rE*r))]}oE.invert=function(t,n){for(var e,r,i,a=n,o=a*a,u=o*o*o,s=0;s<aE;++s)if(r=a*(tE+nE*o+u*(eE+rE*o))-n,i=tE+3*nE*o+u*(7*eE+9*rE*o),a-=e=r/i,o=a*a,u=o*o*o,Uw(e)<Bw)break;return[iE*t*(tE+3*nE*o+u*(7*eE+9*rE*o))/Ww(a),tA(Xw(a)/iE)]};function uE(t,n){var e=Ww(n),r=Ww(t)*e;return[e*Xw(t)/r,Xw(n)/r]}uE.invert=zM(Iw);var sE=function(){return jM(uE).scale(144.049).clipAngle(60)};function cE(t,n,e,r){return 1===t&&1===n&&0===e&&0===r?dk:dM({point:function(i,a){this.stream.point(i*t+e,a*n+r)}})}var lE=function(){var t,n,e,r,i,a,o=1,u=0,s=0,c=1,l=1,f=dk,h=null,d=dk;function p(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=f(d(i=t))},postclip:function(r){return arguments.length?(d=r,h=t=n=e=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=t=n=e=null,dk):ak(h=+r[0][0],t=+r[0][1],n=+r[1][0],e=+r[1][1]),p()):null==h?null:[[h,t],[n,e]]},scale:function(t){return arguments.length?(f=cE((o=+t)*c,o*l,u,s),p()):o},translate:function(t){return arguments.length?(f=cE(o*c,o*l,u=+t[0],s=+t[1]),p()):[u,s]},reflectX:function(t){return arguments.length?(f=cE(o*(c=t?-1:1),o*l,u,s),p()):c<0},reflectY:function(t){return arguments.length?(f=cE(o*c,o*(l=t?-1:1),u,s),p()):l<0},fitExtent:function(t,n){return gM(a,t,n)},fitSize:function(t,n){return mM(a,t,n)},fitWidth:function(t,n){return yM(a,t,n)},fitHeight:function(t,n){return bM(a,t,n)}}};function fE(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}fE.invert=function(t,n){var e,r=n,i=25;do{var a=r*r,o=a*a;r-=e=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-n)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Uw(e)>Tw&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var hE=function(){return jM(fE).scale(175.295)};function dE(t,n){return[Ww(n)*Xw(t),Xw(n)]}dE.invert=zM(tA);var pE=function(){return jM(dE).scale(249.5).clipAngle(90+Tw)};function vE(t,n){var e=Ww(n),r=1+Ww(t)*e;return[e*Xw(t)/r,Xw(n)/r]}vE.invert=zM(function(t){return 2*Iw(t)});var gE=function(){return jM(vE).scale(250).clipAngle(142)};function mE(t,n){return[Vw(Qw((Nw+n)/2)),-t]}mE.invert=function(t,n){return[-n,2*Iw(Hw(t))-Nw]};var yE=function(){var t=HM(mE),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90]).scale(159.155)},bE=hM(),_E=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function xE(t,n){return function e(){var r=n();return r.type=t,r.path=hM().projection(r),r.copy=r.copy||function(){var t=e();return _E.forEach(function(n){r.hasOwnProperty(n)&&t[n](r[n]())}),t.path.pointRadius(r.path.pointRadius()),t},r}}function wE(t,n){if(!t||"string"!==typeof t)throw new Error("Projection type must be a name string.");return t=t.toLowerCase(),arguments.length>1?(OE[t]=xE(t,n),this):OE.hasOwnProperty(t)?OE[t]:null}function AE(t){return t&&t.path||bE}var OE={albers:RM,albersusa:PM,azimuthalequalarea:UM,azimuthalequidistant:qM,conicconformal:XM,conicequalarea:BM,conicequidistant:KM,equirectangular:ZM,gnomonic:sE,identity:lE,mercator:YM,naturalEarth1:hE,orthographic:pE,stereographic:gE,transversemercator:yE};for(var kE in OE)wE(kE,OE[kE]);function ME(t){ni.call(this,null,t)}ME.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};var EE=Object(d["v"])(ME,ni);function CE(t,n){var e=t.pointRadius();return t.context(null),null!=n&&t.pointRadius(n),e}function jE(t){ni.call(this,null,t)}EE.transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.field||d["u"],a=t.as||"path",o=e.SOURCE;function u(t){t[a]=r(i(t))}!r||t.modified()?(this.value=r=AE(t.projection),e.materialize().reflow()):o=i===d["u"]||n.modified(i.fields)?e.ADD_MOD:e.ADD;var s=CE(r,t.pointRadius);return e.visit(o,u),r.pointRadius(s),e.modifies(a)},jE.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};var DE=Object(d["v"])(jE,ni);function SE(t){ni.call(this,null,t)}DE.transform=function(t,n){var e,r=t.projection,i=t.fields[0],a=t.fields[1],o=t.as||["x","y"],u=o[0],s=o[1];function c(t){var n=r([i(t),a(t)]);n?(t[u]=n[0],t[s]=n[1]):(t[u]=void 0,t[s]=void 0)}return t.modified()?n=n.materialize().reflow(!0).visit(n.SOURCE,c):(e=n.modified(i.fields)||n.modified(a.fields),n.visit(e?n.ADD_MOD:n.ADD,c)),n.modifies(o)},SE.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};var FE=Object(d["v"])(SE,ni);function TE(t,n,e){var r=null==e?function(e){return t(n(e))}:function(r){var i=t.pointRadius(),a=t.pointRadius(e)(n(r));return t.pointRadius(i),a};return r.context=function(n){return t.context(n),r},r}function BE(t){ni.call(this,[],t),this.generator=sk()}FE.transform=function(t,n){var e=n.fork(n.ALL),r=this.value,i=t.field||Object(d["r"])("datum"),a=t.as||"shape",o=e.ADD_MOD;return r&&!t.modified()||(this.value=r=TE(AE(t.projection),i,t.pointRadius),e.materialize().reflow(),o=e.SOURCE),e.visit(o,function(t){t[a]=r}),e.modifies(a)},BE.Definition={type:"Graticule",metadata:{changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};var RE=Object(d["v"])(BE,ni);function NE(t){ni.call(this,null,t),this.modified(!0)}RE.transform=function(t,n){var e,r=this.value,i=this.generator;if(!r.length||t.modified())for(var a in t)Object(d["A"])(i[a])&&i[a](t[a]);return e=i(),r.length?n.mod.push(O(r[0],e)):n.add.push(x(e)),r[0]=e,n};var PE=Object(d["v"])(NE,ni);function LE(t,n){var e=UE(n.fit);n.extent?t.fitExtent(n.extent,e):n.size&&t.fitSize(n.size,e)}function zE(t){var n=wE((t||"mercator").toLowerCase());return n||Object(d["l"])("Unrecognized projection type: "+t),n()}function $E(t,n,e){Object(d["A"])(t[n])&&t[n](e)}function UE(t){return t=Object(d["g"])(t),1===t.length?t[0]:{type:kw,features:t.reduce(function(t,n){return n&&n.type===kw?t.push.apply(t,n.features):Object(d["x"])(n)?t.push.apply(t,n):t.push(n),t},[])}}PE.transform=function(t,n){var e=this.value;return!e||t.modified("type")?(this.value=e=zE(t.type),_E.forEach(function(n){null!=t[n]&&$E(e,n,t[n])})):_E.forEach(function(n){t.modified(n)&&$E(e,n,t[n])}),null!=t.pointRadius&&e.path.pointRadius(t.pointRadius),t.fit&&LE(e,t),n.fork(n.NO_SOURCE|n.NO_FIELDS)};var IE=function(t,n){var e;function r(){var r,i,a=e.length,o=0,u=0;for(r=0;r<a;++r)i=e[r],o+=i.x,u+=i.y;for(o=o/a-t,u=u/a-n,r=0;r<a;++r)i=e[r],i.x-=o,i.y-=u}return null==t&&(t=0),null==n&&(n=0),r.initialize=function(t){e=t},r.x=function(n){return arguments.length?(t=+n,r):t},r.y=function(t){return arguments.length?(n=+t,r):n},r},qE=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return WE(this.cover(n,e),n,e,t)};function WE(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,a,o,u,s,c,l,f,h,d=t._root,p={data:r},v=t._x0,g=t._y0,m=t._x1,y=t._y1;if(!d)return t._root=p,t;while(d.length)if((c=n>=(a=(v+m)/2))?v=a:m=a,(l=e>=(o=(g+y)/2))?g=o:y=o,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(a=(v+m)/2))?v=a:m=a,(l=e>=(o=(g+y)/2))?g=o:y=o}while((f=l<<1|c)===(h=(s>=o)<<1|u>=a));return i[h]=d,i[f]=p,t}function YE(t){var n,e,r,i,a=t.length,o=new Array(a),u=new Array(a),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<a;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(o[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),e=0;e<a;++e)WE(this,o[e],u[e],t[e]);return this}var HE=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,a=(r=Math.floor(n))+1;else{var o,u,s=i-e,c=this._root;while(e>t||t>=i||r>n||n>=a)switch(u=(n<r)<<1|t<e,o=new Array(4),o[u]=c,c=o,s*=2,u){case 0:i=e+s,a=r+s;break;case 1:e=i-s,a=r+s;break;case 2:i=e+s,r=a-s;break;case 3:e=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=a,this},VE=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},GE=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},XE=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i},JE=function(t,n,e){var r,i,a,o,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new XE(v,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);while(s=p.pop())if(!(!(v=s.node)||(i=s.x0)>h||(a=s.y0)>d||(o=s.x1)<l||(u=s.y1)<f))if(v.length){var g=(i+o)/2,m=(a+u)/2;p.push(new XE(v[3],g,m,o,u),new XE(v[2],i,m,g,u),new XE(v[1],g,a,o,m),new XE(v[0],i,a,g,m)),(c=(n>=m)<<1|t>=g)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var y=t-+this._x.call(null,v.data),b=n-+this._y.call(null,v.data),_=y*y+b*b;if(_<e){var x=Math.sqrt(e=_);l=t-x,f=n-x,h=t+x,d=n+x,r=v.data}}return r},ZE=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var n,e,r,i,a,o,u,s,c,l,f,h,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)while(1){if((c=a>=(u=(p+g)/2))?p=u:g=u,(l=o>=(s=(v+m)/2))?v=s:m=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)};function QE(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this}var KE=function(){return this._root},tC=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},nC=function(t){var n,e,r,i,a,o,u=[],s=this._root;s&&u.push(new XE(s,this._x0,this._y0,this._x1,this._y1));while(n=u.pop())if(!t(s=n.node,r=n.x0,i=n.y0,a=n.x1,o=n.y1)&&s.length){var c=(r+a)/2,l=(i+o)/2;(e=s[3])&&u.push(new XE(e,c,l,a,o)),(e=s[2])&&u.push(new XE(e,r,l,c,o)),(e=s[1])&&u.push(new XE(e,c,i,a,l)),(e=s[0])&&u.push(new XE(e,r,i,c,l))}return this},eC=function(t){var n,e=[],r=[];this._root&&e.push(new XE(this._root,this._x0,this._y0,this._x1,this._y1));while(n=e.pop()){var i=n.node;if(i.length){var a,o=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(o+s)/2,f=(u+c)/2;(a=i[0])&&e.push(new XE(a,o,u,l,f)),(a=i[1])&&e.push(new XE(a,l,u,s,f)),(a=i[2])&&e.push(new XE(a,o,f,l,c)),(a=i[3])&&e.push(new XE(a,l,f,s,c))}r.push(n)}while(n=r.pop())t(n.node,n.x0,n.y0,n.x1,n.y1);return this};function rC(t){return t[0]}var iC=function(t){return arguments.length?(this._x=t,this):this._x};function aC(t){return t[1]}var oC=function(t){return arguments.length?(this._y=t,this):this._y};function uC(t,n,e){var r=new sC(null==n?rC:n,null==e?aC:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function sC(t,n,e,r,i,a){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function cC(t){var n={data:t.data},e=n;while(t=t.next)e=e.next={data:t.data};return n}var lC=uC.prototype=sC.prototype;lC.copy=function(){var t,n,e=new sC(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=cC(r),e;t=[{source:r,target:e._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=cC(n));return e},lC.add=qE,lC.addAll=YE,lC.cover=HE,lC.data=VE,lC.extent=GE,lC.find=JE,lC.remove=ZE,lC.removeAll=QE,lC.root=KE,lC.size=tC,lC.visit=nC,lC.visitAfter=eC,lC.x=iC,lC.y=oC;var fC=function(t){return function(){return t}},hC=function(){return 1e-6*(Math.random()-.5)};function dC(t){return t.x+t.vx}function pC(t){return t.y+t.vy}var vC=function(t){var n,e,r=1,i=1;function a(){for(var t,a,u,s,c,l,f,h=n.length,d=0;d<i;++d)for(a=uC(n,dC,pC).visitAfter(o),t=0;t<h;++t)u=n[t],l=e[u.index],f=l*l,s=u.x+u.vx,c=u.y+u.vy,a.visit(p);function p(t,n,e,i,a){var o=t.data,h=t.r,d=l+h;if(!o)return n>s+d||i<s-d||e>c+d||a<c-d;if(o.index>u.index){var p=s-o.x-o.vx,v=c-o.y-o.vy,g=p*p+v*v;g<d*d&&(0===p&&(p=hC(),g+=p*p),0===v&&(v=hC(),g+=v*v),g=(d-(g=Math.sqrt(g)))/g*r,u.vx+=(p*=g)*(d=(h*=h)/(f+h)),u.vy+=(v*=g)*d,o.vx-=p*(d=1-d),o.vy-=v*d)}}}function o(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function u(){if(n){var r,i,a=n.length;for(e=new Array(a),r=0;r<a;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!==typeof t&&(t=fC(null==t?1:+t)),a.initialize=function(t){n=t,u()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(r=+t,a):r},a.radius=function(n){return arguments.length?(t="function"===typeof n?n:fC(+n),u(),a):t},a};function gC(t){return t.index}function mC(t,n){var e=t.get(n);if(!e)throw new Error("missing: "+n);return e}var yC=function(t){var n,e,r,i,a,o=gC,u=l,s=fC(30),c=1;function l(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(r){for(var i=0,o=t.length;i<c;++i)for(var u,s,l,f,h,d,p,v=0;v<o;++v)u=t[v],s=u.source,l=u.target,f=l.x+l.vx-s.x-s.vx||hC(),h=l.y+l.vy-s.y-s.vy||hC(),d=Math.sqrt(f*f+h*h),d=(d-e[v])/d*r*n[v],f*=d,h*=d,l.vx-=f*(p=a[v]),l.vy-=h*p,s.vx+=f*(p=1-p),s.vy+=h*p}function h(){if(r){var u,s,c=r.length,l=t.length,f=new Map(r.map((t,n)=>[o(t,n,r),t]));for(u=0,i=new Array(c);u<l;++u)s=t[u],s.index=u,"object"!==typeof s.source&&(s.source=mC(f,s.source)),"object"!==typeof s.target&&(s.target=mC(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(u=0,a=new Array(l);u<l;++u)s=t[u],a[u]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);n=new Array(l),d(),e=new Array(l),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}return null==t&&(t=[]),f.initialize=function(t){r=t,h()},f.links=function(n){return arguments.length?(t=n,h(),f):t},f.id=function(t){return arguments.length?(o=t,f):o},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:fC(+t),d(),f):u},f.distance=function(t){return arguments.length?(s="function"===typeof t?t:fC(+t),p(),f):s},f},bC={value:function(){}};function _C(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new xC(r)}function xC(t){this._=t}function wC(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function AC(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function OC(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=bC,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}xC.prototype=_C.prototype={constructor:xC,on:function(t,n){var e,r=this._,i=wC(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++a<o)if(e=(t=i[a]).type)r[e]=OC(r[e],t.name,n);else if(null==n)for(e in r)r[e]=OC(r[e],t.name,null);return this}while(++a<o)if((e=(t=i[a]).type)&&(e=AC(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new xC(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),a=0;a<e;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,e=r.length;a<e;++a)r[a].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(n,e)}};var kC,MC,EC=_C,CC=0,jC=0,DC=0,SC=1e3,FC=0,TC=0,BC=0,RC="object"===typeof performance&&performance.now?performance:Date,NC="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function PC(){return TC||(NC(LC),TC=RC.now()+BC)}function LC(){TC=0}function zC(){this._call=this._time=this._next=null}function $C(t,n,e){var r=new zC;return r.restart(t,n,e),r}function UC(){PC(),++CC;var t,n=kC;while(n)(t=TC-n._time)>=0&&n._call.call(null,t),n=n._next;--CC}function IC(){TC=(FC=RC.now())+BC,CC=jC=0;try{UC()}finally{CC=0,WC(),TC=0}}function qC(){var t=RC.now(),n=t-FC;n>SC&&(BC-=n,FC=t)}function WC(){var t,n,e=kC,r=1/0;while(e)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kC=n);MC=t,YC(r)}function YC(t){if(!CC){jC&&(jC=clearTimeout(jC));var n=t-TC;n>24?(t<1/0&&(jC=setTimeout(IC,t-RC.now()-BC)),DC&&(DC=clearInterval(DC))):(DC||(FC=RC.now(),DC=setInterval(qC,SC)),CC=1,NC(IC))}}zC.prototype=$C.prototype={constructor:zC,restart:function(t,n,e){if("function"!==typeof t)throw new TypeError("callback is not a function");e=(null==e?PC():+e)+(null==n?0:+n),this._next||MC===this||(MC?MC._next=this:kC=this,MC=this),this._call=t,this._time=e,YC()},stop:function(){this._call&&(this._call=null,this._time=1/0,YC())}};var HC=function(t,n,e){var r=new zC,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?PC():+e,r.restart(function a(o){o+=i,r.restart(a,i+=n,e),t(o)},n,e),r)};function VC(t){return t.x}function GC(t){return t.y}var XC=10,JC=Math.PI*(3-Math.sqrt(5)),ZC=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,s=$C(l),c=EC("tick","end");function l(){f(),c.call("tick",n),e<r&&(s.stop(),c.call("end",n))}function f(r){var s,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(e+=(a-e)*i,u.forEach(function(t){t(e)}),s=0;s<l;++s)c=t[s],null==c.fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return n}function h(){for(var n,e=0,r=t.length;e<r;++e){if(n=t[e],n.index=e,isNaN(n.fx)||(n.x=n.fx),isNaN(n.fy)||(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=XC*Math.sqrt(e),a=e*JC;n.x=i*Math.cos(a),n.y=i*Math.sin(a)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function d(n){return n.initialize&&n.initialize(t),n}return null==t&&(t=[]),h(),n={tick:f,restart:function(){return s.restart(l),n},stop:function(){return s.stop(),n},nodes:function(e){return arguments.length?(t=e,h(),u.forEach(d),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return arguments.length>1?(null==e?u.delete(t):u.set(t,d(e)),n):u.get(t)},find:function(n,e,r){var i,a,o,u,s,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)u=t[c],i=n-u.x,a=e-u.y,o=i*i+a*a,o<r&&(s=u,r=o);return s},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}},QC=function(){var t,n,e,r,i=fC(-30),a=1,o=1/0,u=.81;function s(r){var i,a=t.length,o=uC(t,VC,GC).visitAfter(l);for(e=r,i=0;i<a;++i)n=t[i],o.visit(f)}function c(){if(t){var n,e,a=t.length;for(r=new Array(a),n=0;n<a;++n)e=t[n],r[e.index]=+i(e,n,t)}}function l(t){var n,e,i,a,o,u=0,s=0;if(t.length){for(i=a=o=0;o<4;++o)(n=t[o])&&(e=Math.abs(n.value))&&(u+=n.value,s+=e,i+=e*n.x,a+=e*n.y);t.x=i/s,t.y=a/s}else{n=t,n.x=n.data.x,n.y=n.data.y;do{u+=r[n.data.index]}while(n=n.next)}t.value=u}function f(t,i,s,c){if(!t.value)return!0;var l=t.x-n.x,f=t.y-n.y,h=c-i,d=l*l+f*f;if(h*h/u<d)return d<o&&(0===l&&(l=hC(),d+=l*l),0===f&&(f=hC(),d+=f*f),d<a&&(d=Math.sqrt(a*d)),n.vx+=l*t.value*e/d,n.vy+=f*t.value*e/d),!0;if(!(t.length||d>=o)){(t.data!==n||t.next)&&(0===l&&(l=hC(),d+=l*l),0===f&&(f=hC(),d+=f*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==n&&(h=r[t.data.index]*e/d,n.vx+=l*h,n.vy+=f*h)}while(t=t.next)}}return s.initialize=function(n){t=n,c()},s.strength=function(t){return arguments.length?(i="function"===typeof t?t:fC(+t),c(),s):i},s.distanceMin=function(t){return arguments.length?(a=t*t,s):Math.sqrt(a)},s.distanceMax=function(t){return arguments.length?(o=t*t,s):Math.sqrt(o)},s.theta=function(t){return arguments.length?(u=t*t,s):Math.sqrt(u)},s},KC=function(t){var n,e,r,i=fC(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)i=n[a],i.vx+=(r[a]-i.x)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!==typeof t&&(t=fC(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:fC(+t),o(),a):i},a.x=function(n){return arguments.length?(t="function"===typeof n?n:fC(+n),o(),a):t},a},tj=function(t){var n,e,r,i=fC(.1);function a(t){for(var i,a=0,o=n.length;a<o;++a)i=n[a],i.vy+=(r[a]-i.y)*e[a]*t}function o(){if(n){var a,o=n.length;for(e=new Array(o),r=new Array(o),a=0;a<o;++a)e[a]=isNaN(r[a]=+t(n[a],a,n))?0:+i(n[a],a,n)}}return"function"!==typeof t&&(t=fC(null==t?0:+t)),a.initialize=function(t){n=t,o()},a.strength=function(t){return arguments.length?(i="function"===typeof t?t:fC(+t),o(),a):i},a.y=function(n){return arguments.length?(t="function"===typeof n?n:fC(+n),o(),a):t},a},nj={center:IE,collide:vC,nbody:QC,link:yC,x:KC,y:tj},ej="forces",rj=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],ij=["static","iterations"],aj=["x","y","vx","vy"];function oj(t){ni.call(this,null,t)}oj.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:aj}]};var uj=Object(d["v"])(oj,ni);function sj(t,n){return function(){t.touch(n).run()}}function cj(t,n){var e=ZC(t),r=!1,i=e.stop,a=e.restart;return e.stopped=function(){return r},e.restart=function(){return r=!1,a()},e.stop=function(){return r=!0,i()},lj(e,n,!0).on("end",function(){r=!0})}function lj(t,n,e,r){var i,a,o,u,s=Object(d["g"])(n.forces);for(i=0,a=rj.length;i<a;++i)o=rj[i],o!==ej&&n.modified(o)&&t[o](n[o]);for(i=0,a=s.length;i<a;++i)u=ej+i,o=e||n.modified(ej,i)?hj(s[i]):r&&fj(s[i],r)?t.force(u):null,o&&t.force(u,o);for(a=t.numForces||0;i<a;++i)t.force(ej+i,null);return t.numForces=s.length,t}function fj(t,n){var e,r;for(e in t)if(Object(d["A"])(r=t[e])&&n.modified(Object(d["e"])(r)))return 1;return 0}function hj(t){var n,e;for(e in nj.hasOwnProperty(t.force)||Object(d["l"])("Unrecognized force: "+t.force),n=nj[t.force](),t)Object(d["A"])(n[e])&&dj(n[e],t[e],t);return n}function dj(t,n,e){t(Object(d["A"])(n)?function(t){return n(t,e)}:n)}uj.transform=function(t,n){var e=this.value,r=n.changed(n.ADD_REM),i=t.modified(rj),a=t.iterations||300;if(e?(r&&(n.modifies("index"),e.nodes(n.source)),(i||n.changed(n.MOD))&&lj(e,t,0,n)):(this.value=e=cj(n.source,t),e.on("tick",sj(n.dataflow,this)),t.static||(r=!0,e.tick()),n.modifies("index")),i||r||t.modified(ij)||n.changed()&&t.restart)if(e.alpha(Math.max(e.alpha(),t.alpha||1)).alphaDecay(1-Math.pow(e.alphaMin(),1/a)),t.static)for(e.stop();--a>=0;)e.tick();else if(e.stopped()&&e.restart(),!r)return n.StopPropagation;return this.finish(t,n)},uj.finish=function(t,n){for(var e,r=n.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if(e=i[a],e.name===ej&&"link"===e.op._argval.force)for(var u,s=e.op._argops,c=0,l=s.length;c<l;++c)if("links"===s[c].name&&(u=s[c].op.source)){r.pulse(u,r.changeset().reflow());break}return n.reflow(t.modified()).modifies(aj)};var pj=function(t,n,e){var r={};return t.each(function(t){var i=t.data;e(i)&&(r[n(i)]=t)}),t.lookup=r,t};function vj(t,n){return t.parent===n.parent?1:2}function gj(t){return t.reduce(mj,0)/t.length}function mj(t,n){return t+n.x}function yj(t){return 1+t.reduce(bj,0)}function bj(t,n){return Math.max(t,n.y)}function _j(t){var n;while(n=t.children)t=n[0];return t}function xj(t){var n;while(n=t.children)t=n[n.length-1];return t}var wj=function(){var t=vj,n=1,e=1,r=!1;function i(i){var a,o=0;i.eachAfter(function(n){var e=n.children;e?(n.x=gj(e),n.y=yj(e)):(n.x=a?o+=t(n,a):0,n.y=0,a=n)});var u=_j(i),s=xj(i),c=u.x-t(u,s)/2,l=s.x+t(s,u)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-c)/(l-c)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function Aj(t){var n=0,e=t.children,r=e&&e.length;if(r)while(--r>=0)n+=e[r].value;else n=1;t.value=n}var Oj=function(){return this.eachAfter(Aj)},kj=function(t){var n,e,r,i,a=this,o=[a];do{n=o.reverse(),o=[];while(a=n.pop())if(t(a),e=a.children,e)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this},Mj=function(t){var n,e,r=this,i=[r];while(r=i.pop())if(t(r),n=r.children,n)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},Ej=function(t){var n,e,r,i=this,a=[i],o=[];while(i=a.pop())if(o.push(i),n=i.children,n)for(e=0,r=n.length;e<r;++e)a.push(n[e]);while(i=o.pop())t(i);return this},Cj=function(t){return this.eachAfter(function(n){var e=+t(n.data)||0,r=n.children,i=r&&r.length;while(--i>=0)e+=r[i].value;n.value=e})},jj=function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},Dj=function(t){var n=this,e=Sj(n,t),r=[n];while(n!==e)n=n.parent,r.push(n);var i=r.length;while(t!==e)r.splice(i,0,t),t=t.parent;return r};function Sj(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();while(t===n)i=t,t=e.pop(),n=r.pop();return i}var Fj=function(){var t=this,n=[t];while(t=t.parent)n.push(t);return n},Tj=function(){var t=[];return this.each(function(n){t.push(n)}),t},Bj=function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},Rj=function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n};function Nj(t,n){var e,r,i,a,o,u=new Uj(t),s=+t.value&&(u.value=t.value),c=[u];null==n&&(n=Lj);while(e=c.pop())if(s&&(e.value=+e.data.value),(i=n(e.data))&&(o=i.length))for(e.children=new Array(o),a=o-1;a>=0;--a)c.push(r=e.children[a]=new Uj(i[a])),r.parent=e,r.depth=e.depth+1;return u.eachBefore($j)}function Pj(){return Nj(this).eachBefore(zj)}function Lj(t){return t.children}function zj(t){t.data=t.data.data}function $j(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Uj(t){this.data=t,this.depth=this.height=0,this.parent=null}Uj.prototype=Nj.prototype={constructor:Uj,count:Oj,each:kj,eachAfter:Ej,eachBefore:Mj,sum:Cj,sort:jj,path:Dj,ancestors:Fj,descendants:Tj,leaves:Bj,links:Rj,copy:Pj};var Ij=Array.prototype.slice;function qj(t){var n,e,r=t.length;while(r)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}var Wj=function(t){var n,e,r=0,i=(t=qj(Ij.call(t))).length,a=[];while(r<i)n=t[r],e&&Vj(e,n)?++r:(e=Xj(a=Yj(a,n)),r=0);return e};function Yj(t,n){var e,r;if(Gj(n,t))return[n];for(e=0;e<t.length;++e)if(Hj(n,t[e])&&Gj(Zj(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Hj(Zj(t[e],t[r]),n)&&Hj(Zj(t[e],n),t[r])&&Hj(Zj(t[r],n),t[e])&&Gj(Qj(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Hj(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Vj(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Gj(t,n){for(var e=0;e<n.length;++e)if(!Vj(t,n[e]))return!1;return!0}function Xj(t){switch(t.length){case 1:return Jj(t[0]);case 2:return Zj(t[0],t[1]);case 3:return Qj(t[0],t[1],t[2])}}function Jj(t){return{x:t.x,y:t.y,r:t.r}}function Zj(t,n){var e=t.x,r=t.y,i=t.r,a=n.x,o=n.y,u=n.r,s=a-e,c=o-r,l=u-i,f=Math.sqrt(s*s+c*c);return{x:(e+a+s/f*l)/2,y:(r+o+c/f*l)/2,r:(f+i+u)/2}}function Qj(t,n,e){var r=t.x,i=t.y,a=t.r,o=n.x,u=n.y,s=n.r,c=e.x,l=e.y,f=e.r,h=r-o,d=r-c,p=i-u,v=i-l,g=s-a,m=f-a,y=r*r+i*i-a*a,b=y-o*o-u*u+s*s,_=y-c*c-l*l+f*f,x=d*p-h*v,w=(p*_-v*b)/(2*x)-r,A=(v*g-p*m)/x,O=(d*b-h*_)/(2*x)-i,k=(h*m-d*g)/x,M=A*A+k*k-1,E=2*(a+w*A+O*k),C=w*w+O*O-a*a,j=-(M?(E+Math.sqrt(E*E-4*M*C))/(2*M):C/E);return{x:r+w+A*j,y:i+O+k*j,r:j}}function Kj(t,n,e){var r,i,a,o,u=t.x-n.x,s=t.y-n.y,c=u*u+s*s;c?(i=n.r+e.r,i*=i,o=t.r+e.r,o*=o,i>o?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),e.x=t.x-r*u-a*s,e.y=t.y-r*s+a*u):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),e.x=n.x+r*u-a*s,e.y=n.y+r*s+a*u)):(e.x=n.x+e.r,e.y=n.y)}function tD(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function nD(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,a=(n.y*e.r+e.y*n.r)/r;return i*i+a*a}function eD(t){this._=t,this.next=null,this.previous=null}function rD(t){if(!(i=t.length))return 0;var n,e,r,i,a,o,u,s,c,l,f;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;Kj(e,n,r=t[2]),n=new eD(n),e=new eD(e),r=new eD(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(u=3;u<i;++u){Kj(n._,e._,r=t[u]),r=new eD(r),s=e.next,c=n.previous,l=e._.r,f=n._.r;do{if(l<=f){if(tD(s._,r._)){e=s,n.next=e,e.previous=n,--u;continue t}l+=s._.r,s=s.next}else{if(tD(c._,r._)){n=c,n.next=e,e.previous=n,--u;continue t}f+=c._.r,c=c.previous}}while(s!==c.next);r.previous=n,r.next=e,n.next=e.previous=e=r,a=nD(n);while((r=r.next)!==e)(o=nD(r))<a&&(n=r,a=o);e=n.next}n=[e._],r=e;while((r=r.next)!==e)n.push(r._);for(r=Wj(n),u=0;u<i;++u)n=t[u],n.x-=r.x,n.y-=r.y;return r.r}function iD(t){return null==t?null:aD(t)}function aD(t){if("function"!==typeof t)throw new Error;return t}function oD(){return 0}var uD=function(t){return function(){return t}};function sD(t){return Math.sqrt(t.value)}var cD=function(){var t=null,n=1,e=1,r=oD;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(lD(t)).eachAfter(fD(r,.5)).eachBefore(hD(1)):i.eachBefore(lD(sD)).eachAfter(fD(oD,1)).eachAfter(fD(r,i.r/Math.min(n,e))).eachBefore(hD(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=iD(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"===typeof t?t:uD(+t),i):r},i};function lD(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function fD(t,n){return function(e){if(r=e.children){var r,i,a,o=r.length,u=t(e)*n||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=rD(r),u)for(i=0;i<o;++i)r[i].r-=u;e.r=a+u}}}function hD(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var dD=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},pD=function(t,n,e,r,i){var a,o=t.children,u=-1,s=o.length,c=t.value&&(r-n)/t.value;while(++u<s)a=o[u],a.y0=e,a.y1=i,a.x0=n,a.x1=n+=a.value*c},vD=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(a(n,o)),r&&i.eachBefore(dD),i}function a(t,n){return function(r){r.children&&pD(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,a=r.y0,o=r.x1-e,u=r.y1-e;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},gD="$",mD={depth:-1},yD={};function bD(t){return t.id}function _D(t){return t.parentId}var xD=function(){var t=bD,n=_D;function e(e){var r,i,a,o,u,s,c,l=e.length,f=new Array(l),h={};for(i=0;i<l;++i)r=e[i],u=f[i]=new Uj(r),null!=(s=t(r,i,e))&&(s+="")&&(c=gD+(u.id=s),h[c]=c in h?yD:u);for(i=0;i<l;++i)if(u=f[i],s=n(e[i],i,e),null!=s&&(s+="")){if(o=h[gD+s],!o)throw new Error("missing: "+s);if(o===yD)throw new Error("ambiguous: "+s);o.children?o.children.push(u):o.children=[u],u.parent=o}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=mD,a.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore($j),a.parent=null,l>0)throw new Error("cycle");return a}return e.id=function(n){return arguments.length?(t=aD(n),e):t},e.parentId=function(t){return arguments.length?(n=aD(t),e):n},e};function wD(t,n){return t.parent===n.parent?1:2}function AD(t){var n=t.children;return n?n[0]:t.t}function OD(t){var n=t.children;return n?n[n.length-1]:t.t}function kD(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function MD(t){var n,e=0,r=0,i=t.children,a=i.length;while(--a>=0)n=i[a],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function ED(t,n,e){return t.a.parent===n.parent?t.a:e}function CD(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function jD(t){var n,e,r,i,a,o=new CD(t,0),u=[o];while(n=u.pop())if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(e=n.children[i]=new CD(r[i],i)),e.parent=n;return(o.parent=new CD(null,0)).children=[o],o}CD.prototype=Object.create(Uj.prototype);var DD=function(){var t=wD,n=1,e=1,r=null;function i(i){var u=jD(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var h=c===l?1:t(c,l)/2,d=h-c.x,p=n/(l.x+h+d),v=e/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){MD(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=u(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(n,e,r){if(e){var i,a=n,o=n,u=e,s=a.parent.children[0],c=a.m,l=o.m,f=u.m,h=s.m;while(u=OD(u),a=AD(a),u&&a)s=AD(s),o=OD(o),o.a=n,i=u.z+f-a.z-c+t(u._,a._),i>0&&(kD(ED(u,n,r),n,i),c+=i,l+=i),f+=u.m,c+=a.m,h+=s.m,l+=o.m;u&&!OD(o)&&(o.t=u,o.m+=f-l),a&&!AD(s)&&(s.t=a,s.m+=c-h,r=n)}return r}function s(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},SD=function(t,n,e,r,i){var a,o=t.children,u=-1,s=o.length,c=t.value&&(i-e)/t.value;while(++u<s)a=o[u],a.x0=n,a.x1=r,a.y0=e,a.y1=e+=a.value*c},FD=(1+Math.sqrt(5))/2;function TD(t,n,e,r,i,a){var o,u,s,c,l,f,h,d,p,v,g,m=[],y=n.children,b=0,_=0,x=y.length,w=n.value;while(b<x){s=i-e,c=a-r;do{l=y[_++].value}while(!l&&_<x);for(f=h=l,v=Math.max(c/s,s/c)/(w*t),g=l*l*v,p=Math.max(h/g,g/f);_<x;++_){if(l+=u=y[_].value,u<f&&(f=u),u>h&&(h=u),g=l*l*v,d=Math.max(h/g,g/f),d>p){l-=u;break}p=d}m.push(o={value:l,dice:s<c,children:y.slice(b,_)}),o.dice?pD(o,e,r,i,w?r+=c*l/w:a):SD(o,e,r,w?e+=s*l/w:i,a),w-=l,b=_}return m}var BD=function t(n){function e(t,e,r,i,a){TD(n,t,e,r,i,a)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(FD),RD=function(){var t=BD,n=!1,e=1,r=1,i=[0],a=oD,o=oD,u=oD,s=oD,c=oD;function l(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(f),i=[0],n&&t.eachBefore(dD),t}function f(n){var e=i[n.depth],r=n.x0+e,l=n.y0+e,f=n.x1-e,h=n.y1-e;f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),n.x0=r,n.y0=l,n.x1=f,n.y1=h,n.children&&(e=i[n.depth+1]=a(n)/2,r+=c(n)-e,l+=o(n)-e,f-=u(n)-e,h-=s(n)-e,f<r&&(r=f=(r+f)/2),h<l&&(l=h=(l+h)/2),t(n,r,l,f,h))}return l.round=function(t){return arguments.length?(n=!!t,l):n},l.size=function(t){return arguments.length?(e=+t[0],r=+t[1],l):[e,r]},l.tile=function(n){return arguments.length?(t=aD(n),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(a="function"===typeof t?t:uD(+t),l):a},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"===typeof t?t:uD(+t),l):o},l.paddingRight=function(t){return arguments.length?(u="function"===typeof t?t:uD(+t),l):u},l.paddingBottom=function(t){return arguments.length?(s="function"===typeof t?t:uD(+t),l):s},l.paddingLeft=function(t){return arguments.length?(c="function"===typeof t?t:uD(+t),l):c},l},ND=function(t,n,e,r,i){var a,o,u=t.children,s=u.length,c=new Array(s+1);for(c[0]=o=a=0;a<s;++a)c[a+1]=o+=u[a].value;function l(t,n,e,r,i,a,o){if(t>=n-1){var s=u[t];return s.x0=r,s.y0=i,s.x1=a,void(s.y1=o)}var f=c[t],h=e/2+f,d=t+1,p=n-1;while(d<p){var v=d+p>>>1;c[v]<h?d=v+1:p=v}h-c[d-1]<c[d]-h&&t+1<d&&--d;var g=c[d]-f,m=e-g;if(a-r>o-i){var y=(r*m+a*g)/e;l(t,d,g,r,i,y,o),l(d,n,m,y,i,a,o)}else{var b=(i*m+o*g)/e;l(t,d,g,r,i,a,b),l(d,n,m,r,b,a,o)}}l(0,s,t.value,n,e,r,i)},PD=function(t,n,e,r,i){(1&t.depth?SD:pD)(t,n,e,r,i)},LD=function t(n){function e(t,e,r,i,a){if((o=t._squarify)&&o.ratio===n){var o,u,s,c,l,f=-1,h=o.length,d=t.value;while(++f<h){for(u=o[f],s=u.children,c=u.value=0,l=s.length;c<l;++c)u.value+=s[c].value;u.dice?pD(u,e,r,i,r+=(a-r)*u.value/d):SD(u,e,r,e+=(i-e)*u.value/d,a),d-=u.value}}else t._squarify=o=TD(n,t,e,r,i,a),o.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(FD);function zD(t){ni.call(this,null,t)}zD.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};var $D=Object(d["v"])(zD,ni);function UD(t){return t.values}function ID(){var t,n=[];function e(t,r){if(r>=n.length)return t;var i,a,o,u=-1,s=t.length,c=n[r++],l={},f={};while(++u<s)i=c(a=t[u])+"",(o=l[i])?o.push(a):l[i]=[a];for(i in l)f[i]=e(l[i],r);return f}function r(t,e){if(++e>n.length)return t;var i,a=[];for(i in t)a.push({key:i,values:r(t[i],e)});return a}return t={entries:function(t){return r(e(t,0),0)},key:function(e){return n.push(e),t}}}function qD(t){ni.call(this,null,t)}$D.transform=function(t,n){n.source||Object(d["l"])("Nest transform requires an upstream data source.");var e=t.generate,r=t.modified(),i=n.clone(),a=this.value;return(!a||r||n.changed())&&(a&&a.each(function(t){t.children&&y(t.data)&&i.rem.push(t.data)}),this.value=a=Nj({values:Object(d["g"])(t.keys).reduce(function(t,n){return t.key(n),t},ID()).entries(i.source)},UD),e&&a.each(function(t){t.children&&(t=x(t.data),i.add.push(t),i.source.push(t))}),pj(a,b,b)),i.source.root=a,i};var WD=Object(d["v"])(qD,ni);function YD(t,n,e){for(var r,i=0,a=n.length;i<a;++i)r=n[i],r in e&&t[r](e[r])}function HD(t,n,e){for(var r=t.data,i=0,a=n.length-1;i<a;++i)r[e[i]]=t[n[i]];r[e[a]]=t.children?t.children.length:0}function VD(t,n){return t.parent===n.parent?1:2}WD.transform=function(t,n){n.source&&n.source.root||Object(d["l"])(this.constructor.name+" transform requires a backing tree data source.");var e=this.layout(t.method),r=this.fields,i=n.source.root,a=t.as||r;t.field&&i.sum(t.field),t.sort&&i.sort(t.sort),YD(e,this.params,t),e.separation&&e.separation(!1!==t.separation?VD:d["J"]);try{this.value=e(i)}catch(o){Object(d["l"])(o)}return i.each(function(t){HD(t,r,a)}),n.reflow(t.modified()).modifies(a).modifies("leaf")};var GD=["x","y","r","depth","children"];function XD(t){qD.call(this,t)}XD.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:GD.length,default:GD}]};var JD=Object(d["v"])(XD,qD);JD.layout=cD,JD.params=["size","padding"],JD.fields=GD;var ZD=["x0","y0","x1","y1","depth","children"];function QD(t){qD.call(this,t)}QD.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:ZD.length,default:ZD}]};var KD=Object(d["v"])(QD,qD);function tS(t){ni.call(this,null,t)}KD.layout=vD,KD.params=["size","round","padding"],KD.fields=ZD,tS.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};var nS=Object(d["v"])(tS,ni);nS.transform=function(t,n){n.source||Object(d["l"])("Stratify transform requires an upstream data source.");var e=this.value,r=t.modified(),i=n.fork(n.ALL).materialize(n.SOURCE),a=!this.value||r||n.changed(n.ADD_REM)||n.modified(t.key.fields)||n.modified(t.parentKey.fields);return i.source=i.source.slice(),a&&(e=i.source.length?pj(xD().id(t.key).parentId(t.parentKey)(i.source),t.key,d["ab"]):pj(xD()([{}]),t.key,t.key)),i.source.root=this.value=e,i};var eS={tidy:DD,cluster:wj},rS=["x","y","depth","children"];function iS(t){qD.call(this,t)}iS.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:rS.length,default:rS}]};var aS=Object(d["v"])(iS,qD);function oS(t){ni.call(this,[],t)}aS.layout=function(t){var n=t||"tidy";if(eS.hasOwnProperty(n))return eS[n]();Object(d["l"])("Unrecognized Tree layout method: "+n)},aS.params=["size","nodeSize"],aS.fields=rS,oS.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};var uS=Object(d["v"])(oS,ni);uS.transform=function(t,n){var e=this.value,r=n.source&&n.source.root,i=n.fork(n.NO_SOURCE),a={};return r||Object(d["l"])("TreeLinks transform requires a tree data source."),n.changed(n.ADD_REM)?(i.rem=e,n.visit(n.SOURCE,function(t){a[b(t)]=1}),r.each(function(t){var n=t.data,e=t.parent&&t.parent.data;e&&a[b(n)]&&a[b(e)]&&i.add.push(x({source:e,target:n}))}),this.value=i.add):n.changed(n.MOD)&&(n.visit(n.MOD,function(t){a[b(t)]=1}),e.forEach(function(t){(a[b(t.source)]||a[b(t.target)])&&i.mod.push(t)})),i};var sS={binary:ND,dice:pD,slice:SD,slicedice:PD,squarify:BD,resquarify:LD},cS=["x0","y0","x1","y1","depth","children"];function lS(t){qD.call(this,t)}lS.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:cS.length,default:cS}]};var fS=Object(d["v"])(lS,qD);fS.layout=function(){var t=RD();return t.ratio=function(n){var e=t.tile();e.ratio&&t.tile(e.ratio(n))},t.method=function(n){sS.hasOwnProperty(n)?t.tile(sS[n]):Object(d["l"])("Unrecognized Treemap layout method: "+n)},t},fS.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fS.fields=cS;var hS=function(t){return function(){return t}};function dS(t){return t[0]}function pS(t){return t[1]}function vS(){this._=null}function gS(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function mS(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function yS(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function bS(t){while(t.L)t=t.L;return t}vS.prototype={constructor:vS,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){t=t.R;while(t.L)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=bS(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);n.L=n.R=null,n.U=e,n.C=!0,t=n;while(e&&e.C)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(mS(this,e),t=e,e=t.U),e.C=!1,r.C=!0,yS(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(yS(this,e),t=e,e=t.U),e.C=!1,r.C=!0,mS(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,a=t.L,o=t.R;if(e=a?o?bS(o):a:o,i?i.L===t?i.L=e:i.R=e:this._=e,a&&o?(r=e.C,e.C=t.C,e.L=a,a.U=e,e!==o?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=o,o.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,mS(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,yS(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,mS(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,yS(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,mS(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,yS(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var _S=vS;function xS(t,n,e,r){var i=[null,null],a=XS.push(i)-1;return i.left=t,i.right=n,e&&AS(i,t,n,e),r&&AS(i,n,t,r),VS[t.index].halfedges.push(a),VS[n.index].halfedges.push(a),i}function wS(t,n,e){var r=[n,e];return r.left=t,r}function AS(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function OS(t,n,e,r,i){var a,o=t[0],u=t[1],s=o[0],c=o[1],l=u[0],f=u[1],h=0,d=1,p=l-s,v=f-c;if(a=n-s,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>h&&(h=a)}if(a=r-s,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<d&&(d=a)}if(a=e-c,v||!(a>0)){if(a/=v,v<0){if(a<h)return;a<d&&(d=a)}else if(v>0){if(a>d)return;a>h&&(h=a)}if(a=i-c,v||!(a<0)){if(a/=v,v<0){if(a>d)return;a>h&&(h=a)}else if(v>0){if(a<h)return;a<d&&(d=a)}return!(h>0||d<1)||(h>0&&(t[0]=[s+h*p,c+h*v]),d<1&&(t[1]=[s+d*p,c+d*v]),!0)}}}}}function kS(t,n,e,r,i){var a=t[1];if(a)return!0;var o,u,s=t[0],c=t.left,l=t.right,f=c[0],h=c[1],d=l[0],p=l[1],v=(f+d)/2,g=(h+p)/2;if(p===h){if(v<n||v>=r)return;if(f>d){if(s){if(s[1]>=i)return}else s=[v,e];a=[v,i]}else{if(s){if(s[1]<e)return}else s=[v,i];a=[v,e]}}else if(o=(f-d)/(p-h),u=g-o*v,o<-1||o>1)if(f>d){if(s){if(s[1]>=i)return}else s=[(e-u)/o,e];a=[(i-u)/o,i]}else{if(s){if(s[1]<e)return}else s=[(i-u)/o,i];a=[(e-u)/o,e]}else if(h<p){if(s){if(s[0]>=r)return}else s=[n,o*n+u];a=[r,o*r+u]}else{if(s){if(s[0]<n)return}else s=[r,o*r+u];a=[n,o*n+u]}return t[0]=s,t[1]=a,!0}function MS(t,n,e,r){var i,a=XS.length;while(a--)kS(i=XS[a],t,n,e,r)&&OS(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>JS||Math.abs(i[0][1]-i[1][1])>JS)||delete XS[a]}function ES(t){return VS[t.index]={site:t,halfedges:[]}}function CS(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function jS(t,n){return n[+(n.left!==t.site)]}function DS(t,n){return n[+(n.left===t.site)]}function SS(){for(var t,n,e,r,i=0,a=VS.length;i<a;++i)if((t=VS[i])&&(r=(n=t.halfedges).length)){var o=new Array(r),u=new Array(r);for(e=0;e<r;++e)o[e]=e,u[e]=CS(t,XS[n[e]]);for(o.sort(function(t,n){return u[n]-u[t]}),e=0;e<r;++e)u[e]=n[o[e]];for(e=0;e<r;++e)n[e]=u[e]}}function FS(t,n,e,r){var i,a,o,u,s,c,l,f,h,d,p,v,g=VS.length,m=!0;for(i=0;i<g;++i)if(a=VS[i]){o=a.site,s=a.halfedges,u=s.length;while(u--)XS[s[u]]||s.splice(u,1);u=0,c=s.length;while(u<c)d=DS(a,XS[s[u]]),p=d[0],v=d[1],l=jS(a,XS[s[++u%c]]),f=l[0],h=l[1],(Math.abs(p-f)>JS||Math.abs(v-h)>JS)&&(s.splice(u,0,XS.push(wS(o,d,Math.abs(p-t)<JS&&r-v>JS?[t,Math.abs(f-t)<JS?h:r]:Math.abs(v-r)<JS&&e-p>JS?[Math.abs(h-r)<JS?f:e,r]:Math.abs(p-e)<JS&&v-n>JS?[e,Math.abs(f-e)<JS?h:n]:Math.abs(v-n)<JS&&p-t>JS?[Math.abs(h-n)<JS?f:t,n]:null))-1),++c);c&&(m=!1)}if(m){var y,b,_,x=1/0;for(i=0,m=null;i<g;++i)(a=VS[i])&&(o=a.site,y=o[0]-t,b=o[1]-n,_=y*y+b*b,_<x&&(x=_,m=a));if(m){var w=[t,n],A=[t,r],O=[e,r],k=[e,n];m.halfedges.push(XS.push(wS(o=m.site,w,A))-1,XS.push(wS(o,A,O))-1,XS.push(wS(o,O,k))-1,XS.push(wS(o,k,w))-1)}}for(i=0;i<g;++i)(a=VS[i])&&(a.halfedges.length||delete VS[i])}var TS,BS=[];function RS(){gS(this),this.x=this.y=this.arc=this.site=this.cy=null}function NS(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,a=e.site;if(r!==a){var o=i[0],u=i[1],s=r[0]-o,c=r[1]-u,l=a[0]-o,f=a[1]-u,h=2*(s*f-c*l);if(!(h>=-ZS)){var d=s*s+c*c,p=l*l+f*f,v=(f*d-c*p)/h,g=(s*p-l*d)/h,m=BS.pop()||new RS;m.arc=t,m.site=i,m.x=v+o,m.y=(m.cy=g+u)+Math.sqrt(v*v+g*g),t.circle=m;var y=null,b=GS._;while(b)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}GS.insert(y,m),y||(TS=m)}}}}function PS(t){var n=t.circle;n&&(n.P||(TS=n.N),GS.remove(n),BS.push(n),gS(n),t.circle=null)}var LS=[];function zS(){gS(this),this.edge=this.site=this.circle=null}function $S(t){var n=LS.pop()||new zS;return n.site=t,n}function US(t){PS(t),HS.remove(t),LS.push(t),gS(t)}function IS(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],a=t.P,o=t.N,u=[t];US(t);var s=a;while(s.circle&&Math.abs(e-s.circle.x)<JS&&Math.abs(r-s.circle.cy)<JS)a=s.P,u.unshift(s),US(s),s=a;u.unshift(s),PS(s);var c=o;while(c.circle&&Math.abs(e-c.circle.x)<JS&&Math.abs(r-c.circle.cy)<JS)o=c.N,u.push(c),US(c),c=o;u.push(c),PS(c);var l,f=u.length;for(l=1;l<f;++l)c=u[l],s=u[l-1],AS(c.edge,s.site,c.site,i);s=u[0],c=u[f-1],c.edge=xS(s.site,c.site,null,i),NS(s),NS(c)}function qS(t){var n,e,r,i,a=t[0],o=t[1],u=HS._;while(u)if(r=WS(u,o)-a,r>JS)u=u.L;else{if(i=a-YS(u,o),!(i>JS)){r>-JS?(n=u.P,e=u):i>-JS?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}ES(t);var s=$S(t);if(HS.insert(n,s),n||e){if(n===e)return PS(n),e=$S(n.site),HS.insert(s,e),s.edge=e.edge=xS(n.site,s.site),NS(n),void NS(e);if(e){PS(n),PS(e);var c=n.site,l=c[0],f=c[1],h=t[0]-l,d=t[1]-f,p=e.site,v=p[0]-l,g=p[1]-f,m=2*(h*g-d*v),y=h*h+d*d,b=v*v+g*g,_=[(g*y-d*b)/m+l,(h*b-v*y)/m+f];AS(e.edge,c,p,_),s.edge=xS(c,t,null,_),e.edge=xS(t,p,null,_),NS(n),NS(e)}else s.edge=xS(n.site,s.site)}}function WS(t,n){var e=t.site,r=e[0],i=e[1],a=i-n;if(!a)return r;var o=t.P;if(!o)return-1/0;e=o.site;var u=e[0],s=e[1],c=s-n;if(!c)return u;var l=u-r,f=1/a-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-a/2)))/f+r:(r+u)/2}function YS(t,n){var e=t.N;if(e)return WS(e,n);var r=t.site;return r[1]===n?r[0]:1/0}var HS,VS,GS,XS,JS=1e-6,ZS=1e-12;function QS(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function KS(t,n){return n[1]-t[1]||n[0]-t[0]}function tF(t,n){var e,r,i,a=t.sort(KS).pop();XS=[],VS=new Array(t.length),HS=new _S,GS=new _S;while(1)if(i=TS,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===e&&a[1]===r||(qS(a),e=a[0],r=a[1]),a=t.pop();else{if(!i)break;IS(i.arc)}if(SS(),n){var o=+n[0][0],u=+n[0][1],s=+n[1][0],c=+n[1][1];MS(o,u,s,c),FS(o,u,s,c)}this.edges=XS,this.cells=VS,HS=GS=XS=VS=null}tF.prototype={constructor:tF,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return jS(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(a=(i=e.halfedges).length){var i,a,o,u=e.site,s=-1,c=n[i[a-1]],l=c.left===u?c.right:c.left;while(++s<a)o=l,c=n[i[s]],l=c.left===u?c.right:c.left,o&&l&&r<o.index&&r<l.index&&QS(u,o,l)<0&&t.push([u.data,o.data,l.data])}}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){var r,i,a=this,o=a._found||0,u=a.cells.length;while(!(i=a.cells[o]))if(++o>=u)return null;var s=t-i.site[0],c=n-i.site[1],l=s*s+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(e){var r=a.edges[e],u=r.left;if(u!==i.site&&u||(u=r.right)){var s=t-u[0],c=n-u[1],f=s*s+c*c;f<l&&(l=f,o=u.index)}})}while(null!==o);return a._found=r,null==e||l<=e*e?i.site:null}};var nF=function(){var t=dS,n=pS,e=null;function r(r){return new tF(r.map(function(e,i){var a=[Math.round(t(e,i,r)/JS)*JS,Math.round(n(e,i,r)/JS)*JS];return a.index=i,a.data=e,a}),e)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(n){return arguments.length?(t="function"===typeof n?n:hS(+n),r):t},r.y=function(t){return arguments.length?(n="function"===typeof t?t:hS(+t),r):n},r.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},r.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],r):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},r};function eF(t){ni.call(this,null,t)}eF.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var rF=Object(d["v"])(eF,ni),iF=[[-1e5,-1e5],[1e5,1e5]];rF.transform=function(t,n){var e,r,i,a,o=t.as||"path",u=n.source;for(e=nF().x(t.x).y(t.y),t.size?e.size(t.size):e.extent(t.extent||iF),this.value=e=e(u),r=e.polygons(),i=0,a=u.length;i<a;++i)u[i][o]=r[i]?"M"+r[i].join("L")+"Z":null;return n.reflow(t.modified()).modifies(o)};var aF=Math.PI/180,oF=64,uF=2048,sF=function(){var t,n,e,r,i,a,o,u=[256,256],s=dF,c=[],l=Math.random,f={};function h(t){t.width=t.height=1;var n=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(oF<<5)/n,t.height=uF/n;var e=t.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:n}}function d(t,n,e){var r,i,a,o=n.x,c=n.y,f=Math.sqrt(u[0]*u[0]+u[1]*u[1]),h=s(u),d=l()<.5?1:-1,p=-d;while(r=h(p+=d)){if(i=~~r[0],a=~~r[1],Math.min(Math.abs(i),Math.abs(a))>=f)break;if(n.x=o+i,n.y=c+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>u[0]||n.y+n.y1>u[1])&&(!e||!lF(n,t,u[0]))&&(!e||hF(n,e))){for(var v,g=n.sprite,m=n.width>>5,y=u[0]>>5,b=n.x-(m<<4),_=127&b,x=32-_,w=n.y1-n.y0,A=(n.y+n.y0)*y+(b>>5),O=0;O<w;O++){v=0;for(var k=0;k<=m;k++)t[A+k]|=v<<x|(k<m?(v=g[O*m+k])>>>_:0);A+=y}return n.sprite=null,!0}}return!1}return f.layout=function(){var s=h(Nu()),f=vF((u[0]>>5)*u[1]),p=null,v=c.length,g=-1,m=[],y=c.map(function(u){return{text:t(u),font:n(u),style:r(u),weight:i(u),rotate:a(u),size:~~e(u),padding:o(u),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:u}}).sort(function(t,n){return n.size-t.size});while(++g<v){var b=y[g];b.x=u[0]*(l()+.5)>>1,b.y=u[1]*(l()+.5)>>1,cF(s,b,y,g),b.hasText&&d(f,b,p)&&(m.push(b),p?fF(p,b):p=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=u[0]>>1,b.y-=u[1]>>1)}return m},f.words=function(t){return arguments.length?(c=t,f):c},f.size=function(t){return arguments.length?(u=[+t[0],+t[1]],f):u},f.font=function(t){return arguments.length?(n=gF(t),f):n},f.fontStyle=function(t){return arguments.length?(r=gF(t),f):r},f.fontWeight=function(t){return arguments.length?(i=gF(t),f):i},f.rotate=function(t){return arguments.length?(a=gF(t),f):a},f.text=function(n){return arguments.length?(t=gF(n),f):t},f.spiral=function(t){return arguments.length?(s=mF[t]||t,f):s},f.fontSize=function(t){return arguments.length?(e=gF(t),f):e},f.padding=function(t){return arguments.length?(o=gF(t),f):o},f.random=function(t){return arguments.length?(l=t,f):l},f};function cF(t,n,e,r){if(!n.sprite){var i=t.context,a=t.ratio;i.clearRect(0,0,(oF<<5)/a,uF/a);var o,u,s,c,l,f=0,h=0,d=0,p=e.length;--r;while(++r<p){if(n=e[r],i.save(),i.font=n.style+" "+n.weight+" "+~~((n.size+1)/a)+"px "+n.font,o=i.measureText(n.text+"m").width*a,s=n.size<<1,n.rotate){var v=Math.sin(n.rotate*aF),g=Math.cos(n.rotate*aF),m=o*g,y=o*v,b=s*g,_=s*v;o=Math.max(Math.abs(m+_),Math.abs(m-_))+31>>5<<5,s=~~Math.max(Math.abs(y+b),Math.abs(y-b))}else o=o+31>>5<<5;if(s>d&&(d=s),f+o>=oF<<5&&(f=0,h+=d,d=0),h+s>=uF)break;i.translate((f+(o>>1))/a,(h+(s>>1))/a),n.rotate&&i.rotate(n.rotate*aF),i.fillText(n.text,0,0),n.padding&&(i.lineWidth=2*n.padding,i.strokeText(n.text,0,0)),i.restore(),n.width=o,n.height=s,n.xoff=f,n.yoff=h,n.x1=o>>1,n.y1=s>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,f+=o}var x=i.getImageData(0,0,(oF<<5)/a,uF/a).data,w=[];while(--r>=0)if(n=e[r],n.hasText){for(o=n.width,u=o>>5,s=n.y1-n.y0,c=0;c<s*u;c++)w[c]=0;if(f=n.xoff,null==f)return;h=n.yoff;var A=0,O=-1;for(l=0;l<s;l++){for(c=0;c<o;c++){var k=u*l+(c>>5),M=x[(h+l)*(oF<<5)+(f+c)<<2]?1<<31-c%32:0;w[k]|=M,A|=M}A?O=l:(n.y0++,s--,l--,h++)}n.y1=n.y0+O,n.sprite=w.slice(0,(n.y1-n.y0)*u)}}}function lF(t,n,e){e>>=5;for(var r,i=t.sprite,a=t.width>>5,o=t.x-(a<<4),u=127&o,s=32-u,c=t.y1-t.y0,l=(t.y+t.y0)*e+(o>>5),f=0;f<c;f++){r=0;for(var h=0;h<=a;h++)if((r<<s|(h<a?(r=i[f*a+h])>>>u:0))&n[l+h])return!0;l+=e}return!1}function fF(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function hF(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}function dF(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function pF(t){var n=4,e=n*t[0]/t[1],r=0,i=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:r+=e;break;case 1:i+=n;break;case 2:r-=e;break;default:i-=n;break}return[r,i]}}function vF(t){var n=[],e=-1;while(++e<t)n[e]=0;return n}function gF(t){return"function"===typeof t?t:function(){return t}}var mF={archimedean:dF,rectangular:pF},yF=["x","y","font","fontSize","fontStyle","fontWeight","angle"],bF=["text","font","rotate","fontSize","fontStyle","fontWeight"];function _F(t){ni.call(this,sF(),t)}_F.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:yF}]};var xF=Object(d["v"])(_F,ni);function wF(t,n){for(var e,r=1/0,i=-1/0,a=0,o=n.length;a<o;++a)e=t(n[a]),e<r&&(r=e),e>i&&(i=e);return[r,i]}function AF(t){return new Uint8Array(t)}function OF(t){return new Uint16Array(t)}function kF(t){return new Uint32Array(t)}function MF(){var t=8,n=[],e=kF(0),r=CF(0,t),i=CF(0,t);return{data:function(){return n},seen:function(){return e=EF(e,n.length)},add:function(t){for(var e,r=0,i=n.length,a=t.length;r<a;++r)e=t[r],e._index=i++,n.push(e)},remove:function(t,e){var a,o,u,s=n.length,c=Array(s-t),l=n;for(o=0;!e[o]&&o<s;++o)c[o]=n[o],l[o]=o;for(u=o;o<s;++o)a=n[o],e[o]?l[o]=-1:(l[o]=u,r[u]=r[o],i[u]=i[o],c[u]=a,a._index=u++),r[o]=0;return n=c,l},size:function(){return n.length},curr:function(){return r},prev:function(){return i},reset:function(t){i[t]=r[t]},all:function(){return t<257?255:t<65537?65535:4294967295},set:function(t,n){r[t]|=n},clear:function(t,n){r[t]&=~n},resize:function(n,e){var a=r.length;(n>a||e>t)&&(t=Math.max(e,t),r=CF(n,t,r),i=CF(n,t))}}}function EF(t,n,e){return t.length>=n?t:(e=e||new t.constructor(n),e.set(t),e)}function CF(t,n,e){var r=(n<257?AF:n<65537?OF:kF)(t);return e&&r.set(e),r}xF.transform=function(t,n){function e(e){var r=t[e];return Object(d["A"])(r)&&n.modified(r.fields)}var r=t.modified();if(r||n.changed(n.ADD_REM)||bF.some(e)){var i,a=n.materialize(n.SOURCE).source,o=this.value,u=t.as||yF,s=t.fontSize||14;if(Object(d["A"])(s)?i=t.fontSizeRange:s=Object(d["j"])(s),i){var c=s,l=Vb("sqrt")().domain(wF(c,a)).range(i);s=function(t){return l(c(t))}}a.forEach(function(t){t[u[0]]=NaN,t[u[1]]=NaN,t[u[3]]=0});for(var f,h,p=o.words(a).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(s).random(bi).layout(),v=o.size(),g=v[0]>>1,m=v[1]>>1,y=0,b=p.length;y<b;++y)f=p[y],h=f.datum,h[u[0]]=f.x+g,h[u[1]]=f.y+m,h[u[2]]=f.font,h[u[3]]=f.size,h[u[4]]=f.style,h[u[5]]=f.weight,h[u[6]]=f.rotate;return n.reflow(r).modifies(u)}};var jF=function(t,n,e){var r=1<<n;return{one:r,zero:~r,range:e.slice(),bisect:t.bisect,index:t.index,size:t.size,onAdd:function(t,n){var e,i=this,a=i.bisect(i.range,t.value),o=t.index,u=a[0],s=a[1],c=o.length;for(e=0;e<u;++e)n[o[e]]|=r;for(e=s;e<c;++e)n[o[e]]|=r;return i}}};function DF(){var t=kF(0),n=[],e=0;function r(r,i,a){if(!i.length)return[];var o,u,s,c=e,l=i.length,f=Array(l),h=kF(l);for(s=0;s<l;++s)f[s]=r(i[s]),h[s]=s;if(f=SF(f,h),c)o=n,u=t,n=Array(c+l),t=kF(c+l),FF(a,o,u,c,f,h,l,n,t);else{if(a>0)for(s=0;s<l;++s)h[s]+=a;n=f,t=h}return e=c+l,{index:h,value:f}}function i(r,i){var a,o,u,s=e;for(o=0;!i[t[o]]&&o<s;++o);for(u=o;o<s;++o)i[a=t[o]]||(t[u]=a,n[u]=n[o],++u);e=s-r}function a(n){for(var r=0,i=e;r<i;++r)t[r]=n[t[r]]}function o(t,r){var i;return r?i=r.length:(r=n,i=e),[ki(r,t[0],0,i),Oi(r,t[1],0,i)]}return{insert:r,remove:i,bisect:o,reindex:a,index:function(){return t},size:function(){return e}}}function SF(t,n){return t.sort.call(n,function(n,e){var r=t[n],i=t[e];return r<i?-1:r>i?1:0}),Wi(t,n)}function FF(t,n,e,r,i,a,o,u,s){var c,l=0,f=0;for(c=0;l<r&&f<o;++c)n[l]<i[f]?(u[c]=n[l],s[c]=e[l++]):(u[c]=i[f],s[c]=a[f++]+t);for(;l<r;++l,++c)u[c]=n[l],s[c]=e[l];for(;f<o;++f,++c)u[c]=i[f],s[c]=a[f]+t}function TF(t){ni.call(this,MF(),t),this._indices=null,this._dims=null}TF.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var BF=Object(d["v"])(TF,ni);function RF(t){ni.call(this,null,t)}BF.transform=function(t,n){if(this._dims){var e=t.modified("fields")||t.fields.some(function(t){return n.modified(t.fields)});return e?this.reinit(t,n):this.eval(t,n)}return this.init(t,n)},BF.init=function(t,n){for(var e,r,i=t.fields,a=t.query,o=this._indices={},u=this._dims=[],s=a.length,c=0;c<s;++c)e=i[c].fname,r=o[e]||(o[e]=DF()),u.push(jF(r,c,a[c]));return this.eval(t,n)},BF.reinit=function(t,n){var e,r,i,a,o,u,s,c,l,f=n.materialize().fork(),h=t.fields,d=t.query,p=this._indices,v=this._dims,g=this.value,m=g.curr(),y=g.prev(),b=g.all(),_=f.rem=f.add,x=f.mod,w=d.length,A={};if(y.set(m),n.rem.length&&(o=this.remove(t,n,f)),n.add.length&&g.add(n.add),n.mod.length)for(u={},a=n.mod,s=0,c=a.length;s<c;++s)u[a[s]._index]=1;for(s=0;s<w;++s)l=h[s],(!v[s]||t.modified("fields",s)||n.modified(l.fields))&&(i=l.fname,(e=A[i])||(p[i]=r=DF(),A[i]=e=r.insert(l,n.source,0)),v[s]=jF(r,s,d[s]).onAdd(e,m));for(s=0,c=g.data().length;s<c;++s)o[s]||(y[s]!==m[s]?_.push(s):u[s]&&m[s]!==b&&x.push(s));return g.mask=(1<<w)-1,f},BF.eval=function(t,n){var e=n.materialize().fork(),r=this._dims.length,i=0;return n.rem.length&&(this.remove(t,n,e),i|=(1<<r)-1),t.modified("query")&&!t.modified("fields")&&(i|=this.update(t,n,e)),n.add.length&&(this.insert(t,n,e),i|=(1<<r)-1),n.mod.length&&(this.modify(n,e),i|=(1<<r)-1),this.value.mask=i,e},BF.insert=function(t,n,e){var r,i,a,o=n.add,u=this.value,s=this._dims,c=this._indices,l=t.fields,f={},h=e.add,d=u.size(),p=d+o.length,v=s.length;u.resize(p,v),u.add(o);var g=u.curr(),m=u.prev(),y=u.all();for(r=0;r<v;++r)i=l[r].fname,a=f[i]||(f[i]=c[i].insert(l[r],o,d)),s[r].onAdd(a,g);for(;d<p;++d)m[d]=y,g[d]!==y&&h.push(d)},BF.modify=function(t,n){var e,r,i,a=n.mod,o=this.value,u=o.curr(),s=o.all(),c=t.mod;for(e=0,r=c.length;e<r;++e)i=c[e]._index,u[i]!==s&&a.push(i)},BF.remove=function(t,n,e){var r,i,a,o,u=this._indices,s=this.value,c=s.curr(),l=s.prev(),f=s.all(),h={},d=e.rem,p=n.rem;for(r=0,i=p.length;r<i;++r)a=p[r]._index,h[a]=1,l[a]=o=c[a],c[a]=f,o!==f&&d.push(a);for(a in u)u[a].remove(i,h);return this.reindex(n,i,h),h},BF.reindex=function(t,n,e){var r=this._indices,i=this.value;t.runAfter(function(){var t=i.remove(n,e);for(var a in r)r[a].reindex(t)})},BF.update=function(t,n,e){var r,i,a=this._dims,o=t.query,u=n.stamp,s=a.length,c=0;for(e.filters=0,i=0;i<s;++i)t.modified("query",i)&&(r=i,++c);if(1===c)c=a[r].one,this.incrementOne(a[r],o[r],e.add,e.rem);else for(i=0,c=0;i<s;++i)t.modified("query",i)&&(c|=a[i].one,this.incrementAll(a[i],o[i],u,e.add),e.rem=e.add);return c},BF.incrementAll=function(t,n,e,r){var i,a,o,u=this.value,s=u.seen(),c=u.curr(),l=u.prev(),f=t.index(),h=t.bisect(t.range),d=t.bisect(n),p=d[0],v=d[1],g=h[0],m=h[1],y=t.one;if(p<g)for(i=p,a=Math.min(g,v);i<a;++i)o=f[i],s[o]!==e&&(l[o]=c[o],s[o]=e,r.push(o)),c[o]^=y;else if(p>g)for(i=g,a=Math.min(p,m);i<a;++i)o=f[i],s[o]!==e&&(l[o]=c[o],s[o]=e,r.push(o)),c[o]^=y;if(v>m)for(i=Math.max(p,m),a=v;i<a;++i)o=f[i],s[o]!==e&&(l[o]=c[o],s[o]=e,r.push(o)),c[o]^=y;else if(v<m)for(i=Math.max(g,v),a=m;i<a;++i)o=f[i],s[o]!==e&&(l[o]=c[o],s[o]=e,r.push(o)),c[o]^=y;t.range=n.slice()},BF.incrementOne=function(t,n,e,r){var i,a,o,u=this.value,s=u.curr(),c=t.index(),l=t.bisect(t.range),f=t.bisect(n),h=f[0],d=f[1],p=l[0],v=l[1],g=t.one;if(h<p)for(i=h,a=Math.min(p,d);i<a;++i)o=c[i],s[o]^=g,e.push(o);else if(h>p)for(i=p,a=Math.min(h,v);i<a;++i)o=c[i],s[o]^=g,r.push(o);if(d>v)for(i=Math.max(h,v),a=d;i<a;++i)o=c[i],s[o]^=g,e.push(o);else if(d<v)for(i=Math.max(p,d),a=v;i<a;++i)o=c[i],s[o]^=g,r.push(o);t.range=n.slice()},RF.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};var NF=Object(d["v"])(RF,ni);NF.transform=function(t,n){var e=~(t.ignore||0),r=t.filter,i=r.mask;if(0===(i&e))return n.StopPropagation;var a=n.fork(n.ALL),o=r.data(),u=r.curr(),s=r.prev(),c=function(t){return u[t]&e?null:o[t]};return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,function(t){var n=u[t]&e,r=!n&&n^s[t]&e;return r?o[t]:null}),a.filter(a.REM,function(t){var n=u[t]&e,r=n&&!(n^n^s[t]&e);return r?o[t]:null})):(a.filter(a.ADD,c),a.filter(a.REM,function(t){return(u[t]&e)===i?o[t]:null})),a.filter(a.SOURCE,function(t){return c(t._index)})};e("f161");var PF="default",LF=function(t){var n=t._signals.cursor;n||(t._signals.cursor=n=t.add({user:PF,item:null})),t.on(t.events("view","mousemove"),n,function(t,e){var r=n.value,i=r?Object(d["E"])(r)?r:r.user:PF,a=e.item&&e.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}}),t.add(null,function(t){var n=t.cursor,e=this.value;return Object(d["E"])(n)||(e=n.item,n=n.user),zF(n&&n!==PF?n:e||n),e},{cursor:n})};function zF(t){"undefined"!==typeof document&&document.body&&(document.body.style.cursor=t)}function $F(t,n){var e=t._runtime.data;return e.hasOwnProperty(n)||Object(d["l"])("Unrecognized data set: "+n),e[n]}function UF(t){return $F(this,t).values.value}function IF(t,n){k(n)||Object(d["l"])("Second argument to changes must be a changeset.");var e=$F(this,t);return e.modified=!0,this.pulse(e.input,n)}function qF(t,n){return IF.call(this,t,M().insert(n))}function WF(t,n){return IF.call(this,t,M().remove(n))}function YF(t){var n=t.padding();return Math.max(0,t._viewWidth+n.left+n.right)}function HF(t){var n=t.padding();return Math.max(0,t._viewHeight+n.top+n.bottom)}function VF(t){var n=t.padding(),e=t._origin;return[n.left+e[0],n.top+e[1]]}function GF(t){var n=VF(t),e=YF(t),r=HF(t);t._renderer.background(t._background),t._renderer.resize(e,r,n),t._handler.origin(n),t._resizeListeners.forEach(function(n){try{n(e,r)}catch(i){t.error(i)}})}var XF=function(t,n,e){var r,i,a,o=t._renderer.canvas();return o&&(a=VF(t),i=n.changedTouches?n.changedTouches[0]:n,r=Dh(i,o),r[0]-=a[0],r[1]-=a[1]),n.dataflow=t,n.vega=JF(t,e,r),n.item=e,n};function JF(t,n,e){var r=n?"group"===n.mark.marktype?n:n.mark.group:null;function i(t){var e,i=r;if(t)for(e=n;e;e=e.mark.group)if(e.mark.name===t){i=e;break}return i&&i.mark&&i.mark.interactive?i:{}}function a(t){if(!t)return e;Object(d["E"])(t)&&(t=i(t));var n=e.slice();while(t)n[0]-=t.x||0,n[1]-=t.y||0,t=t.mark&&t.mark.group;return n}return{view:Object(d["j"])(t),item:Object(d["j"])(n||{}),group:i,xy:a,x:function(t){return a(t)[0]},y:function(t){return a(t)[1]}}}var ZF="view",QF="timer",KF="window",tT={trap:!1};function nT(t){t=Object(d["m"])({},t);var n=t.defaults;return n&&(Object(d["x"])(n.prevent)&&(n.prevent=Object(d["X"])(n.prevent)),Object(d["x"])(n.allow)&&(n.allow=Object(d["X"])(n.allow))),t}function eT(t,n){var e=t._eventConfig.defaults,r=e&&e.prevent,i=e&&e.allow;return!1!==r&&!0!==i&&(!0===r||!1===i||(r?r[n]:i?!i[n]:t.preventDefault()))}function rT(t,n,e){var r,i=this,a=new U(e),o=function(e,r){i.runAsync(null,()=>{t===ZF&&eT(i,n)&&e.preventDefault(),a.receive(XF(i,e,r))})};if(t===QF)i.timer(o,n);else if(t===ZF)i.addEventListener(n,o,tT);else if(t===KF?"undefined"!==typeof window&&(r=[window]):"undefined"!==typeof document&&(r=document.querySelectorAll(t)),r){for(var u=0,s=r.length;u<s;++u)r[u].addEventListener(n,o);i._eventListeners.push({type:n,sources:r,handler:o})}else i.warn("Can not resolve event source: "+t);return a}function iT(t){return t.item}function aT(t){var n=t.item.mark.source;return n.source||n}function oT(t){return function(n,e){return e.vega.view().changeset().encode(e.item,t)}}var uT=function(t,n){return t=[t||"hover"],n=[n||"update",t[0]],this.on(this.events("view","mouseover",iT),aT,oT(t)),this.on(this.events("view","mouseout",iT),aT,oT(n)),this},sT=function(){var t,n,e,r=this._tooltip,i=this._timers,a=this._eventListeners;t=i.length;while(--t>=0)i[t].stop();t=a.length;while(--t>=0){e=a[t],n=e.sources.length;while(--n>=0)e.sources[n].removeEventListener(e.type,e.handler)}return r&&r.call(this,this._handler,null,null,null),this},cT=function(t,n,e){var r=document.createElement(t);for(var i in n)r.setAttribute(i,n[i]);return null!=e&&(r.textContent=e),r},lT="vega-bind",fT="vega-bind-name",hT="vega-bind-radio",dT="vega-option-",pT=function(t,n,e){if(n){var r=e.param,i=e.state;return i||(i=e.state={elements:null,active:!1,set:null,update:function(n){n!==t.signal(r.signal)&&t.runAsync(null,function(){i.source=!0,t.signal(r.signal,n)})}},r.debounce&&(i.update=Object(d["k"])(r.debounce,i.update))),vT(i,n,r,t.signal(r.signal)),i.active||(t.on(t._signals[r.signal],null,function(){i.source?i.source=!1:i.set(t.signal(r.signal))}),i.active=!0),i}};function vT(t,n,e,r){var i=cT("div",{class:lT});i.appendChild(cT("span",{class:fT},e.name||e.signal)),n.appendChild(i);var a=gT;switch(e.input){case"checkbox":a=mT;break;case"select":a=yT;break;case"radio":a=bT;break;case"range":a=_T;break}a(t,i,e,r)}function gT(t,n,e,r){var i=cT("input");for(var a in e)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,e[a]);i.setAttribute("name",e.signal),i.value=r,n.appendChild(i),i.addEventListener("input",function(){t.update(i.value)}),t.elements=[i],t.set=function(t){i.value=t}}function mT(t,n,e,r){var i={type:"checkbox",name:e.signal};r&&(i.checked=!0);var a=cT("input",i);n.appendChild(a),a.addEventListener("change",function(){t.update(a.checked)}),t.elements=[a],t.set=function(t){a.checked=!!t||null}}function yT(t,n,e,r){var i=cT("select",{name:e.signal});e.options.forEach(function(t){var n={value:t};xT(t,r)&&(n.selected=!0),i.appendChild(cT("option",n,t+""))}),n.appendChild(i),i.addEventListener("change",function(){t.update(e.options[i.selectedIndex])}),t.elements=[i],t.set=function(t){for(var n=0,r=e.options.length;n<r;++n)if(xT(e.options[n],t))return void(i.selectedIndex=n)}}function bT(t,n,e,r){var i=cT("span",{class:hT});n.appendChild(i),t.elements=e.options.map(function(n){var a=dT+e.signal+"-"+n,o={id:a,type:"radio",name:e.signal,value:n};xT(n,r)&&(o.checked=!0);var u=cT("input",o);return u.addEventListener("change",function(){t.update(n)}),i.appendChild(u),i.appendChild(cT("label",{for:a},n+"")),u}),t.set=function(n){for(var e=t.elements,r=0,i=e.length;r<i;++r)xT(e[r].value,n)&&(e[r].checked=!0)}}function _T(t,n,e,r){r=void 0!==r?r:(+e.max+ +e.min)/2;var i=e.min||Math.min(0,+r)||0,a=e.max||Math.max(100,+r)||100,o=e.step||Bi(i,a,100),u=cT("input",{type:"range",name:e.signal,min:i,max:a,step:o});u.value=r;var s=cT("label",{},+r);function c(){s.textContent=u.value,t.update(+u.value)}n.appendChild(u),n.appendChild(s),u.addEventListener("input",c),u.addEventListener("change",c),t.elements=[u],t.set=function(t){u.value=t,s.textContent=t}}function xT(t,n){return t===n||t+""===n+""}var wT=function(t,n,e,r,i,a){return n=n||new r(t.loader()),n.initialize(e,YF(t),HF(t),VF(t),i,a).background(t._background)},AT=function(t,n){return n?function(){try{n.apply(this,arguments)}catch(e){t.error(e)}}:null},OT=function(t,n,e,r){var i=new r(t.loader(),AT(t,t.tooltip())).scene(t.scenegraph().root).initialize(e,VF(t),t);return n&&n.handlers().forEach(function(t){i.on(t.type,t.handler)}),i},kT=function(t,n){var e,r,i=this,a=i._renderType,o=Ld(a);return t=i._el=t?MT(i,t):null,o||i.error("Unrecognized renderer type: "+a),e=o.handler||Uh,r=t?o.renderer:o.headless,i._renderer=r?wT(i,i._renderer,t,r):null,i._handler=OT(i,i._handler,t,e),i._redraw=!0,t&&(n=n?i._elBind=MT(i,n):t.appendChild(cT("div",{class:"vega-bindings"})),i._bind.forEach(function(t){t.param.element&&(t.element=MT(i,t.param.element))}),i._bind.forEach(function(t){pT(i,t.element||n,t)})),i};function MT(t,n){if("string"===typeof n){if("undefined"===typeof document)return t.error("DOM document instance not found."),null;if(n=document.querySelector(n),!n)return t.error("Signal bind element not found: "+n),null}if(n)try{n.innerHTML=""}catch(e){n=null,t.error(e)}return n}var ET=async function(t,n,e,r){const i=Ld(n),a=i&&i.headless;return a||Object(d["l"])("Unrecognized renderer type: "+n),await t.runAsync(),wT(t,null,null,a,e,r).renderAsync(t._scenegraph.root)},CT=async function(t,n){t!==Nd.Canvas&&t!==Nd.SVG&&t!==Nd.PNG&&Object(d["l"])("Unrecognized image type: "+t);const e=await ET(this,t,n);return t===Nd.SVG?jT(e.svg(),"image/svg+xml"):e.canvas().toDataURL("image/png")};function jT(t,n){var e=new Blob([t],{type:n});return window.URL.createObjectURL(e)}var DT,ST,FT,TT,BT,RT=async function(t,n){const e=await ET(this,Nd.Canvas,t,n);return e.canvas()},NT=async function(t){const n=await ET(this,Nd.SVG,t);return n.svg()},PT="RawCode",LT="Literal",zT="Property",$T="Identifier",UT="ArrayExpression",IT="BinaryExpression",qT="CallExpression",WT="ConditionalExpression",YT="LogicalExpression",HT="MemberExpression",VT="ObjectExpression",GT="UnaryExpression";function XT(t){this.type=t}function JT(t){switch(t.type){case UT:return t.elements;case IT:case YT:return[t.left,t.right];case qT:var n=t.arguments.slice();return n.unshift(t.callee),n;case WT:return[t.test,t.consequent,t.alternate];case HT:return[t.object,t.property];case VT:return t.properties;case zT:return[t.key,t.value];case GT:return[t.argument];case $T:case LT:case PT:default:return[]}}XT.prototype.visit=function(t){var n,e,r,i=this;if(t(i))return 1;for(n=JT(i),e=0,r=n.length;e<r;++e)if(n[e].visit(t))return 1};var ZT=1,QT=2,KT=3,tB=4,nB=5,eB=6,rB=7,iB=8,aB=9;DT={},DT[ZT]="Boolean",DT[QT]="<end>",DT[KT]="Identifier",DT[tB]="Keyword",DT[nB]="Null",DT[eB]="Numeric",DT[rB]="Punctuator",DT[iB]="String",DT[aB]="RegularExpression";var oB="ArrayExpression",uB="BinaryExpression",sB="CallExpression",cB="ConditionalExpression",lB="Identifier",fB="Literal",hB="LogicalExpression",dB="MemberExpression",pB="ObjectExpression",vB="Property",gB="UnaryExpression",mB="Unexpected token %0",yB="Unexpected number",bB="Unexpected string",_B="Unexpected identifier",xB="Unexpected reserved word",wB="Unexpected end of input",AB="Invalid regular expression",OB="Invalid regular expression: missing /",kB="Octal literals are not allowed in strict mode.",MB="Duplicate data property in object literal not allowed in strict mode",EB="ILLEGAL",CB="Disabled.",jB=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),DB=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function SB(t,n){if(!t)throw new Error("ASSERT: "+n)}function FB(t){return t>=48&&t<=57}function TB(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function BB(t){return"01234567".indexOf(t)>=0}function RB(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function NB(t){return 10===t||13===t||8232===t||8233===t}function PB(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&jB.test(String.fromCharCode(t))}function LB(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&DB.test(String.fromCharCode(t))}var zB={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function $B(){var t;while(FT<TT){if(t=ST.charCodeAt(FT),!RB(t)&&!NB(t))break;++FT}}function UB(t){var n,e,r,i=0;for(e="u"===t?4:2,n=0;n<e;++n)FT<TT&&TB(ST[FT])?(r=ST[FT++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):vR({},mB,EB);return String.fromCharCode(i)}function IB(){var t,n,e,r;t=ST[FT],n=0,"}"===t&&vR({},mB,EB);while(FT<TT){if(t=ST[FT++],!TB(t))break;n=16*n+"0123456789abcdef".indexOf(t.toLowerCase())}return(n>1114111||"}"!==t)&&vR({},mB,EB),n<=65535?String.fromCharCode(n):(e=55296+(n-65536>>10),r=56320+(n-65536&1023),String.fromCharCode(e,r))}function qB(){var t,n;t=ST.charCodeAt(FT++),n=String.fromCharCode(t),92===t&&(117!==ST.charCodeAt(FT)&&vR({},mB,EB),++FT,t=UB("u"),t&&"\\"!==t&&PB(t.charCodeAt(0))||vR({},mB,EB),n=t);while(FT<TT){if(t=ST.charCodeAt(FT),!LB(t))break;++FT,n+=String.fromCharCode(t),92===t&&(n=n.substr(0,n.length-1),117!==ST.charCodeAt(FT)&&vR({},mB,EB),++FT,t=UB("u"),t&&"\\"!==t&&LB(t.charCodeAt(0))||vR({},mB,EB),n+=t)}return n}function WB(){var t,n;t=FT++;while(FT<TT){if(n=ST.charCodeAt(FT),92===n)return FT=t,qB();if(!LB(n))break;++FT}return ST.slice(t,FT)}function YB(){var t,n,e;return t=FT,n=92===ST.charCodeAt(FT)?qB():WB(),e=1===n.length?KT:zB.hasOwnProperty(n)?tB:"null"===n?nB:"true"===n||"false"===n?ZT:KT,{type:e,value:n,start:t,end:FT}}function HB(){var t,n,e,r,i=FT,a=ST.charCodeAt(FT),o=ST[FT];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++FT,{type:rB,value:String.fromCharCode(a),start:i,end:FT};default:if(t=ST.charCodeAt(FT+1),61===t)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return FT+=2,{type:rB,value:String.fromCharCode(a)+String.fromCharCode(t),start:i,end:FT};case 33:case 61:return FT+=2,61===ST.charCodeAt(FT)&&++FT,{type:rB,value:ST.slice(i,FT),start:i,end:FT}}}return r=ST.substr(FT,4),">>>="===r?(FT+=4,{type:rB,value:r,start:i,end:FT}):(e=r.substr(0,3),">>>"===e||"<<="===e||">>="===e?(FT+=3,{type:rB,value:e,start:i,end:FT}):(n=e.substr(0,2),o===n[1]&&"+-<>&|".indexOf(o)>=0||"=>"===n?(FT+=2,{type:rB,value:n,start:i,end:FT}):"<>=!+-*%&|^/".indexOf(o)>=0?(++FT,{type:rB,value:o,start:i,end:FT}):void vR({},mB,EB)))}function VB(t){var n="";while(FT<TT){if(!TB(ST[FT]))break;n+=ST[FT++]}return 0===n.length&&vR({},mB,EB),PB(ST.charCodeAt(FT))&&vR({},mB,EB),{type:eB,value:parseInt("0x"+n,16),start:t,end:FT}}function GB(t){var n="0"+ST[FT++];while(FT<TT){if(!BB(ST[FT]))break;n+=ST[FT++]}return(PB(ST.charCodeAt(FT))||FB(ST.charCodeAt(FT)))&&vR({},mB,EB),{type:eB,value:parseInt(n,8),octal:!0,start:t,end:FT}}function XB(){var t,n,e;if(e=ST[FT],SB(FB(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point"),n=FT,t="","."!==e){if(t=ST[FT++],e=ST[FT],"0"===t){if("x"===e||"X"===e)return++FT,VB(n);if(BB(e))return GB(n);e&&FB(e.charCodeAt(0))&&vR({},mB,EB)}while(FB(ST.charCodeAt(FT)))t+=ST[FT++];e=ST[FT]}if("."===e){t+=ST[FT++];while(FB(ST.charCodeAt(FT)))t+=ST[FT++];e=ST[FT]}if("e"===e||"E"===e)if(t+=ST[FT++],e=ST[FT],"+"!==e&&"-"!==e||(t+=ST[FT++]),FB(ST.charCodeAt(FT)))while(FB(ST.charCodeAt(FT)))t+=ST[FT++];else vR({},mB,EB);return PB(ST.charCodeAt(FT))&&vR({},mB,EB),{type:eB,value:parseFloat(t),start:n,end:FT}}function JB(){var t,n,e,r,i="",a=!1;t=ST[FT],SB("'"===t||'"'===t,"String literal must starts with a quote"),n=FT,++FT;while(FT<TT){if(e=ST[FT++],e===t){t="";break}if("\\"===e)if(e=ST[FT++],e&&NB(e.charCodeAt(0)))"\r"===e&&"\n"===ST[FT]&&++FT;else switch(e){case"u":case"x":"{"===ST[FT]?(++FT,i+=IB()):i+=UB(e);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:BB(e)?(r="01234567".indexOf(e),0!==r&&(a=!0),FT<TT&&BB(ST[FT])&&(a=!0,r=8*r+"01234567".indexOf(ST[FT++]),"0123".indexOf(e)>=0&&FT<TT&&BB(ST[FT])&&(r=8*r+"01234567".indexOf(ST[FT++]))),i+=String.fromCharCode(r)):i+=e;break}else{if(NB(e.charCodeAt(0)))break;i+=e}}return""!==t&&vR({},mB,EB),{type:iB,value:i,octal:a,start:n,end:FT}}function ZB(t,n){var e=t;n.indexOf("u")>=0&&(e=e.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(t,n){if(parseInt(n,16)<=1114111)return"x";vR({},AB)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(e)}catch(r){vR({},AB)}try{return new RegExp(t,n)}catch(i){return null}}function QB(){var t,n,e,r,i;t=ST[FT],SB("/"===t,"Regular expression literal must start with a slash"),n=ST[FT++],e=!1,r=!1;while(FT<TT)if(t=ST[FT++],n+=t,"\\"===t)t=ST[FT++],NB(t.charCodeAt(0))&&vR({},OB),n+=t;else if(NB(t.charCodeAt(0)))vR({},OB);else if(e)"]"===t&&(e=!1);else{if("/"===t){r=!0;break}"["===t&&(e=!0)}return r||vR({},OB),i=n.substr(1,n.length-2),{value:i,literal:n}}function KB(){var t,n,e;n="",e="";while(FT<TT){if(t=ST[FT],!LB(t.charCodeAt(0)))break;++FT,"\\"===t&&FT<TT?vR({},mB,EB):(e+=t,n+=t)}return e.search(/[^gimuy]/g)>=0&&vR({},AB,e),{value:e,literal:n}}function tR(){var t,n,e,r;return BT=null,$B(),t=FT,n=QB(),e=KB(),r=ZB(n.value,e.value),{literal:n.literal+e.literal,value:r,regex:{pattern:n.value,flags:e.value},start:t,end:FT}}function nR(t){return t.type===KT||t.type===tB||t.type===ZT||t.type===nB}function eR(){var t;return $B(),FT>=TT?{type:QT,start:FT,end:FT}:(t=ST.charCodeAt(FT),PB(t)?YB():40===t||41===t||59===t?HB():39===t||34===t?JB():46===t?FB(ST.charCodeAt(FT+1))?XB():HB():FB(t)?XB():HB())}function rR(){var t;return t=BT,FT=t.end,BT=eR(),FT=t.end,t}function iR(){var t;t=FT,BT=eR(),FT=t}function aR(t){var n=new XT(oB);return n.elements=t,n}function oR(t,n,e){var r=new XT("||"===t||"&&"===t?hB:uB);return r.operator=t,r.left=n,r.right=e,r}function uR(t,n){var e=new XT(sB);return e.callee=t,e.arguments=n,e}function sR(t,n,e){var r=new XT(cB);return r.test=t,r.consequent=n,r.alternate=e,r}function cR(t){var n=new XT(lB);return n.name=t,n}function lR(t){var n=new XT(fB);return n.value=t.value,n.raw=ST.slice(t.start,t.end),t.regex&&("//"===n.raw&&(n.raw="/(?:)/"),n.regex=t.regex),n}function fR(t,n,e){var r=new XT(dB);return r.computed="["===t,r.object=n,r.property=e,r.computed||(e.member=!0),r}function hR(t){var n=new XT(pB);return n.properties=t,n}function dR(t,n,e){var r=new XT(vB);return r.key=n,r.value=e,r.kind=t,r}function pR(t,n){var e=new XT(gB);return e.operator=t,e.argument=n,e.prefix=!0,e}function vR(t,n){var e,r=Array.prototype.slice.call(arguments,2),i=n.replace(/%(\d)/g,function(t,n){return SB(n<r.length,"Message reference must be in range"),r[n]});throw e=new Error(i),e.index=FT,e.description=i,e}function gR(t){t.type===QT&&vR(t,wB),t.type===eB&&vR(t,yB),t.type===iB&&vR(t,bB),t.type===KT&&vR(t,_B),t.type===tB&&vR(t,xB),vR(t,mB,t.value)}function mR(t){var n=rR();n.type===rB&&n.value===t||gR(n)}function yR(t){return BT.type===rB&&BT.value===t}function bR(t){return BT.type===tB&&BT.value===t}function _R(){var t=[];FT=BT.start,mR("[");while(!yR("]"))yR(",")?(rR(),t.push(null)):(t.push(NR()),yR("]")||mR(","));return rR(),aR(t)}function xR(){var t;return FT=BT.start,t=rR(),t.type===iB||t.type===eB?(t.octal&&vR(t,kB),lR(t)):cR(t.value)}function wR(){var t,n,e,r;return FT=BT.start,t=BT,t.type===KT?(e=xR(),mR(":"),r=NR(),dR("init",e,r)):t.type!==QT&&t.type!==rB?(n=xR(),mR(":"),r=NR(),dR("init",n,r)):void gR(t)}function AR(){var t,n,e,r=[],i={},a=String;FT=BT.start,mR("{");while(!yR("}"))t=wR(),n=t.key.type===lB?t.key.name:a(t.key.value),e="$"+n,Object.prototype.hasOwnProperty.call(i,e)?vR({},MB):i[e]=!0,r.push(t),yR("}")||mR(",");return mR("}"),hR(r)}function OR(){var t;return mR("("),t=PR(),mR(")"),t}var kR={if:1,this:1};function MR(){var t,n,e;if(yR("("))return OR();if(yR("["))return _R();if(yR("{"))return AR();if(t=BT.type,FT=BT.start,t===KT||kR[BT.value])e=cR(rR().value);else if(t===iB||t===eB)BT.octal&&vR(BT,kB),e=lR(rR());else{if(t===tB)throw new Error(CB);t===ZT?(n=rR(),n.value="true"===n.value,e=lR(n)):t===nB?(n=rR(),n.value=null,e=lR(n)):yR("/")||yR("/=")?(e=lR(tR()),iR()):gR(rR())}return e}function ER(){var t=[];if(mR("("),!yR(")"))while(FT<TT){if(t.push(NR()),yR(")"))break;mR(",")}return mR(")"),t}function CR(){var t;return FT=BT.start,t=rR(),nR(t)||gR(t),cR(t.value)}function jR(){return mR("."),CR()}function DR(){var t;return mR("["),t=PR(),mR("]"),t}function SR(){var t,n,e;for(t=MR();;)if(yR("."))e=jR(),t=fR(".",t,e);else if(yR("("))n=ER(),t=uR(t,n);else{if(!yR("["))break;e=DR(),t=fR("[",t,e)}return t}function FR(){var t=SR();if(BT.type===rB&&(yR("++")||yR("--")))throw new Error(CB);return t}function TR(){var t,n;if(BT.type!==rB&&BT.type!==tB)n=FR();else{if(yR("++")||yR("--"))throw new Error(CB);if(yR("+")||yR("-")||yR("~")||yR("!"))t=rR(),n=TR(),n=pR(t.value,n);else{if(bR("delete")||bR("void")||bR("typeof"))throw new Error(CB);n=FR()}}return n}function BR(t){var n=0;if(t.type!==rB&&t.type!==tB)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":n=7;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11;break;default:break}return n}function RR(){var t,n,e,r,i,a,o,u,s,c;if(t=BT,s=TR(),r=BT,i=BR(r),0===i)return s;r.prec=i,rR(),n=[t,BT],o=TR(),a=[s,r,o];while((i=BR(BT))>0){while(a.length>2&&i<=a[a.length-2].prec)o=a.pop(),u=a.pop().value,s=a.pop(),n.pop(),e=oR(u,s,o),a.push(e);r=rR(),r.prec=i,a.push(r),n.push(BT),e=TR(),a.push(e)}c=a.length-1,e=a[c],n.pop();while(c>1)n.pop(),e=oR(a[c-1].value,a[c-2],e),c-=2;return e}function NR(){var t,n,e;return t=RR(),yR("?")&&(rR(),n=NR(),mR(":"),e=NR(),t=sR(t,n,e)),t}function PR(){var t=NR();if(yR(","))throw new Error(CB);return t}var LR=function(t){ST=t,FT=0,TT=ST.length,BT=null,iR();var n=PR();if(BT.type!==QT)throw new Error("Unexpect token after expression.");return n},zR={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},$R=function(t){function n(n,e,r,i){var a=t(e[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+n+(i<0?"":0===i?"()":"("+e.slice(1).map(t).join(",")+")")}function e(t,e,r){return function(i){return n(t,i,e,r)}}var r="new Date",i="String",a="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(n){n.length<3&&Object(d["l"])("Missing arguments to clamp function."),n.length>3&&Object(d["l"])("Too many arguments to clamp function.");var e=n.map(t);return"Math.max("+e[1]+", Math.min("+e[2]+","+e[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:e("getDate",r,0),day:e("getDay",r,0),year:e("getFullYear",r,0),month:e("getMonth",r,0),hours:e("getHours",r,0),minutes:e("getMinutes",r,0),seconds:e("getSeconds",r,0),milliseconds:e("getMilliseconds",r,0),time:e("getTime",r,0),timezoneoffset:e("getTimezoneOffset",r,0),utcdate:e("getUTCDate",r,0),utcday:e("getUTCDay",r,0),utcyear:e("getUTCFullYear",r,0),utcmonth:e("getUTCMonth",r,0),utchours:e("getUTCHours",r,0),utcminutes:e("getUTCMinutes",r,0),utcseconds:e("getUTCSeconds",r,0),utcmilliseconds:e("getUTCMilliseconds",r,0),length:e("length",null,-1),indexof:e("indexOf",null),lastindexof:e("lastIndexOf",null),slice:e("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:e("toUpperCase",i,0),lower:e("toLowerCase",i,0),substring:e("substring",i),split:e("split",i),replace:e("replace",i),regexp:a,test:e("test",a),if:function(n){n.length<3&&Object(d["l"])("Missing arguments to if function."),n.length>3&&Object(d["l"])("Too many arguments to if function.");var e=n.map(t);return"("+e[0]+"?"+e[1]+":"+e[2]+")"}}},UR=function(t){t=t||{};var n=t.whitelist?Object(d["X"])(t.whitelist):{},e=t.blacklist?Object(d["X"])(t.blacklist):{},r=t.constants||zR,i=(t.functions||$R)(f),a=t.globalvar,o=t.fieldvar,u={},s={},c=0,l=Object(d["A"])(a)?a:function(t){return a+'["'+t+'"]'};function f(t){if(Object(d["E"])(t))return t;var n=h[t.type];return null==n&&Object(d["l"])("Unsupported type: "+t.type),n(t)}var h={Literal:function(t){return t.raw},Identifier:function(t){var i=t.name;return c>0?i:e.hasOwnProperty(i)?Object(d["l"])("Illegal identifier: "+i):r.hasOwnProperty(i)?r[i]:n.hasOwnProperty(i)?i:(u[i]=1,l(i))},MemberExpression:function(t){var n=!t.computed,e=f(t.object);n&&(c+=1);var r=f(t.property);return e===o&&(s[r]=1),n&&(c-=1),e+(n?"."+r:"["+r+"]")},CallExpression:function(t){"Identifier"!==t.callee.type&&Object(d["l"])("Illegal callee type: "+t.callee.type);var n=t.callee.name,e=t.arguments,r=i.hasOwnProperty(n)&&i[n];return r||Object(d["l"])("Unrecognized function: "+n),Object(d["A"])(r)?r(e):r+"("+e.map(f).join(",")+")"},ArrayExpression:function(t){return"["+t.elements.map(f).join(",")+"]"},BinaryExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},UnaryExpression:function(t){return"("+t.operator+f(t.argument)+")"},ConditionalExpression:function(t){return"("+f(t.test)+"?"+f(t.consequent)+":"+f(t.alternate)+")"},LogicalExpression:function(t){return"("+f(t.left)+t.operator+f(t.right)+")"},ObjectExpression:function(t){return"{"+t.properties.map(f).join(",")+"}"},Property:function(t){c+=1;var n=f(t.key);return c-=1,n+":"+f(t.value)}};function p(t){var n={code:f(t),globals:Object.keys(u),fields:Object.keys(s)};return u={},s={},n}return p.functions=i,p.constants=r,p};const IR="intersect",qR="union";var WR="E",YR="R",HR="R-E",VR="R-LE",GR="R-RE",XR="index:unit";function JR(t,n){for(var e,r,i=n.fields,a=n.values,o=i.length,u=0;u<o;++u)if(r=i[u],r.getter=d["r"].getter||Object(d["r"])(r.field),e=r.getter(t),Object(d["z"])(e)&&(e=Object(d["W"])(e)),Object(d["z"])(a[u])&&(a[u]=Object(d["W"])(a[u])),Object(d["z"])(a[u][0])&&(a[u]=a[u].map(d["W"])),r.type===WR){if(Object(d["x"])(a[u])?a[u].indexOf(e)<0:e!==a[u])return!1}else if(r.type===YR){if(!Object(d["w"])(e,a[u]))return!1}else if(r.type===GR){if(!Object(d["w"])(e,a[u],!0,!1))return!1}else if(r.type===HR){if(!Object(d["w"])(e,a[u],!1,!1))return!1}else if(r.type===VR&&!Object(d["w"])(e,a[u],!1,!0))return!1;return!0}function ZR(t,n,e){for(var r,i,a,o,u,s=this.context.data[t],c=s?s.values.value:[],l=s?s[XR]&&s[XR].value:void 0,f=e===IR,h=c.length,d=0;d<h;++d)if(r=c[d],l&&f){if(i=i||{},a=i[o=r.unit]||0,-1===a)continue;if(u=JR(n,r),i[o]=u?-1:++a,u&&1===l.size)return!0;if(!u&&a===l.get(o).count)return!1}else if(u=JR(n,r),f^u)return u;return h&&f}function QR(t,n){for(var e,r,i,a,o,u,s,c,l,f,h,p=this.context.data[t],v=p?p.values.value:[],g={},m={},y=v.length,b=0;b<y;++b)for(e=v[b],a=e.unit,r=e.fields,i=e.values,f=0,h=r.length;f<h;++f)o=r[f],u=g[o.field]||(g[o.field]={}),s=u[a]||(u[a]=[]),m[o.field]=c=o.type.charAt(0),l=KR[c+"_union"],u[a]=l(s,Object(d["g"])(i[f]));return n=n||qR,Object.keys(g).forEach(function(t){g[t]=Object.keys(g[t]).map(function(n){return g[t][n]}).reduce(function(e,r){return void 0===e?r:KR[m[t]+"_"+n](e,r)})}),g}var KR={E_union:function(t,n){if(!t.length)return n;for(var e=0,r=n.length;e<r;++e)t.indexOf(n[e])<0&&t.push(n[e]);return t},E_intersect:function(t,n){return t.length?t.filter(function(t){return n.indexOf(t)>=0}):n},R_union:function(t,n){var e=Object(d["W"])(n[0]),r=Object(d["W"])(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?(t[0]>e&&(t[0]=e),t[1]<r&&(t[1]=r),t):[e,r]},R_intersect:function(t,n){var e=Object(d["W"])(n[0]),r=Object(d["W"])(n[1]);return e>r&&(e=n[1],r=n[0]),t.length?r<t[0]||t[1]<e?[]:(t[0]<e&&(t[0]=e),t[1]>r&&(t[1]=r),t):[e,r]}};const tN=":",nN="@";function eN(t,n,e,r){n[0].type!==LT&&Object(d["l"])("First argument to selection functions must be a string literal.");const i=n[0].value,a=n.length>=2&&Object(d["P"])(n).value,o="unit",u=nN+o,s=tN+i;a!==IR||r.hasOwnProperty(u)||(r[u]=e.getData(i).indataRef(e,o)),r.hasOwnProperty(s)||(r[s]=e.getData(i).tuplesRef())}function rN(t){const n=this.context.data[t];return n?n.values.value:[]}function iN(t,n,e){const r=this.context.data[t]["index:"+n],i=r?r.value.get(e):void 0;return i?i.count:i}function aN(t,n){const e=this.context.dataflow,r=this.context.data[t],i=r.input;return e.pulse(i,e.changeset().remove(d["ab"]).insert(n)),1}var oN=function(t,n,e){if(t){const e=this.context.dataflow,r=t.mark.source;e.pulse(r,e.changeset().encode(t,n))}return void 0!==e?e:t};const uN={};function sN(t,n,e){let r=t+":"+e,i=uN[r];return i&&i[0]===n||(uN[r]=i=[n,n(e)]),i[1]}function cN(t,n){return sN("format",Ey,n)(t)}function lN(t,n){return sN("timeFormat",Un,n)(t)}function fN(t,n){return sN("utcFormat",qn,n)(t)}function hN(t,n){return sN("timeParse",In,n)(t)}function dN(t,n){return sN("utcParse",Wn,n)(t)}var pN=new Date(2e3,0,1);function vN(t,n,e){return pN.setMonth(t),pN.setDate(n),lN(pN,e)}function gN(t){return vN(t,1,"%B")}function mN(t){return vN(t,1,"%b")}function yN(t){return vN(0,2+t,"%A")}function bN(t){return vN(0,2+t,"%a")}function _N(t,n){let e;return Object(d["A"])(t)?t:Object(d["E"])(t)?(e=n.scales[t])&&e.value:void 0}function xN(t,n){const e=_N(t,(n||this).context);return e&&e.range?e.range():[]}function wN(t,n){const e=_N(t,(n||this).context);return e?e.domain():[]}function AN(t,n){const e=_N(t,(n||this).context);return e&&e.bandwidth?e.bandwidth():0}function ON(t,n,e){return qp(t||0,n||0,e||0)}function kN(t,n){const e=_N(t,(n||this).context);return e?e.copy():void 0}function MN(t,n,e){const r=_N(t,(e||this).context);return r?r(n):void 0}function EN(t,n,e){const r=_N(t,(e||this).context);return r?Object(d["x"])(n)?(r.invertRange||r.invert)(n):(r.invert||r.invertExtent)(n):void 0}function CN(t,n){return function(e,r,i){if(e){const n=_N(e,(i||this).context);return n&&n.path[t](r)}return n(r)}}const jN=CN("area",_A),DN=CN("bounds",hO),SN=CN("centroid",OO);var FN=function(t){let n=this.context.group,e=!1;if(n)while(t){if(t===n){e=!0;break}t=t.mark.group}return e},TN=function(t,n,e){if(!t)return[];const[r,i]=t,a=(new Du).set(r[0],r[1],i[0],i[1]),o=e||this.context.dataflow.scenegraph().root;return zd(o,a,BN(n))};function BN(t){let n=null;if(t){const e=Object(d["g"])(t.marktype),r=Object(d["g"])(t.markname);n=(t=>(!e.length||e.some(n=>t.marktype===n))&&(!r.length||r.some(n=>t.name===n)))}return n}function RN(t,n,e){try{t[n].apply(t,["EXPRESSION"].concat([].slice.call(e)))}catch(r){t.warn(r)}return e[e.length-1]}function NN(){return RN(this.context.dataflow,"warn",arguments)}function PN(){return RN(this.context.dataflow,"info",arguments)}function LN(){return RN(this.context.dataflow,"debug",arguments)}var zN=function(){var t=[].slice.call(arguments);return t.unshift({}),d["m"].apply(null,t)};function $N(t,n){return t===n||t!==t&&n!==n||!(!Object(d["x"])(t)||!Object(d["x"])(n)||t.length!==n.length)&&UN(t,n)}function UN(t,n){for(let e=0,r=t.length;e<r;++e)if(!$N(t[e],n[e]))return!1;return!0}function IN(t){return function(n){for(let e in t)if(!$N(n[e],t[e]))return!1;return!0}}var qN=function(t,n,e,r,i,a){let o,u,s=this.context.dataflow,c=this.context.data[t],l=c.input,f=c.changes,h=s.stamp();if(!1===s._trigger||!(l.value.length||n||r))return 0;if((!f||f.stamp<h)&&(c.changes=f=s.changeset(),f.stamp=h,s.runAfter(function(){c.modified=!0,s.pulse(l,f).run()},!0,1)),e&&(o=!0===e?d["ab"]:Object(d["x"])(e)||y(e)?e:IN(e),f.remove(o)),n&&f.insert(n),r&&(o=IN(r),l.value.some(o)?f.remove(o):f.insert(r)),i)for(u in a)f.modify(i,u,a[u]);return 1};function WN(t){const n=t.touches,e=n[0].clientX-n[1].clientX,r=n[0].clientY-n[1].clientY;return Math.sqrt(e*e+r*r)}function YN(t){const n=t.touches;return Math.atan2(n[0].clientY-n[1].clientY,n[0].clientX-n[1].clientX)}var HN=function(t,n,e,r,i){t=_N(t,(i||this).context);const a=Tu(n,e);let o=t.domain(),u=o[0],s=Object(d["P"])(o),c=d["u"];return s-u?c=t_(t,u,s):t=(t.interpolator?Vb("sequential")().interpolator(t.interpolator()):Vb("linear")().interpolate(t.interpolate()).range(t.range())).domain([u=0,s=1]),t.ticks&&(o=t.ticks(+r||15),u!==o[0]&&o.unshift(u),s!==Object(d["P"])(o)&&o.push(s)),o.forEach(n=>a.stop(c(n),t(n))),a};function VN(t,n,e){const r=_N(t,(e||this).context);return function(t){return r?r.path.context(t)(n):""}}function GN(t){let n=null;return function(e){return e?Fc(e,n=n||_c(t)):t}}const XN={};function JN(t){return t.data}function ZN(t,n){const e=rN.call(n,t);return e.root&&e.root.lookup||XN}function QN(t,n,e){const r=ZN(t,this),i=r[n],a=r[e];return i&&a?i.path(a).map(JN):void 0}function KN(t,n){const e=ZN(t,this)[n];return e?e.ancestors().map(JN):void 0}const tP="undefined"!==typeof window&&window||null;function nP(){return tP?tP.screen:{}}function eP(){return tP?[tP.innerWidth,tP.innerHeight]:[void 0,void 0]}function rP(){const t=this.context.dataflow,n=t.container&&t.container();return n?[n.clientWidth,n.clientHeight]:[void 0,void 0]}const iP=":",aP="@",oP="%",uP="$";function sP(t,n,e,r){n[0].type!==LT&&Object(d["l"])("First argument to data functions must be a string literal.");const i=n[0].value,a=iP+i;r.hasOwnProperty(a)||(r[a]=e.getData(i).tuplesRef())}function cP(t,n,e,r){n[0].type!==LT&&Object(d["l"])("First argument to indata must be a string literal."),n[1].type!==LT&&Object(d["l"])("Second argument to indata must be a string literal.");const i=n[0].value,a=n[1].value,o=aP+a;r.hasOwnProperty(o)||(r[o]=e.getData(i).indataRef(e,a))}function lP(t,n,e,r){if(n[0].type===LT)fP(e,r,n[0].value);else if(n[0].type===$T)for(t in e.scales)fP(e,r,t)}function fP(t,n,e){const r=oP+e;if(!n.hasOwnProperty(r))try{n[r]=t.scaleRef(e)}catch(i){}}const hP={random:function(){return bi()},isArray:d["x"],isBoolean:d["y"],isDate:d["z"],isNumber:d["B"],isObject:d["C"],isRegExp:d["D"],isString:d["E"],isTuple:y,toBoolean:d["U"],toDate:d["V"],toNumber:d["W"],toString:d["Y"],flush:d["s"],lerp:d["G"],merge:zN,pad:d["K"],peek:d["P"],span:d["R"],inrange:d["w"],truncate:d["Z"],rgb:yg,lab:Pg,hcl:Wg,hsl:Ag,sequence:Di,format:cN,utcFormat:fN,utcParse:dN,timeFormat:lN,timeParse:hN,monthFormat:gN,monthAbbrevFormat:mN,dayFormat:yN,dayAbbrevFormat:bN,quarter:d["Q"],utcquarter:d["bb"],warn:NN,info:PN,debug:LN,extent:d["n"],inScope:FN,intersect:TN,clampRange:d["h"],pinchDistance:WN,pinchAngle:YN,screen:nP,containerSize:rP,windowSize:eP,bandspace:ON,setdata:aN,pathShape:GN,panLinear:d["L"],panLog:d["M"],panPow:d["N"],panSymlog:d["O"],zoomLinear:d["eb"],zoomLog:d["fb"],zoomPow:d["gb"],zoomSymlog:d["hb"],encode:oN,modify:qN},dP=["view","item","group","xy","x","y"],pP="event.vega.",vP="this.",gP={};function mP(t){const n=$R(t);dP.forEach(t=>n[t]=pP+t);for(let e in hP)n[e]=vP+e;return n}function yP(t,n,e){return 1===arguments.length?hP[t]:(hP[t]=n,e&&(gP[t]=e),_P&&(_P.functions[t]=vP+t),this)}yP("bandwidth",AN,lP),yP("copy",kN,lP),yP("domain",wN,lP),yP("range",xN,lP),yP("invert",EN,lP),yP("scale",MN,lP),yP("gradient",HN,lP),yP("geoArea",jN,lP),yP("geoBounds",DN,lP),yP("geoCentroid",SN,lP),yP("geoShape",VN,lP),yP("indata",iN,cP),yP("data",rN,sP),yP("treePath",QN,sP),yP("treeAncestors",KN,sP),yP("vlSelectionTest",ZR,eN),yP("vlSelectionResolve",QR,eN);const bP={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(t){return"_["+Object(d["T"])(uP+t)+"]"},functions:mP,constants:zR,visitors:gP};var _P=UR(bP);function xP(t,n,e){";"!==n[n.length-1]&&(n="return("+n+");");var r=Function.apply(null,t.concat(n));return e&&e.functions?r.bind(e.functions):r}function wP(t,n){return xP(["_"],t,n)}function AP(t,n){return xP(["datum","_"],t,n)}function OP(t,n){return xP(["event"],t,n)}function kP(t,n){return xP(["_","event"],t,n)}function MP(t,n){return xP(["item","_"],t,n)}function EP(t,n,e){var r,i;for(r in e=e||{},t)i=t[r],e[r]=Object(d["x"])(i)?i.map(function(t){return CP(t,n,e)}):CP(i,n,e);return e}function CP(t,n,e){if(!t||!Object(d["C"])(t))return t;for(var r,i=0,a=jP.length;i<a;++i)if(r=jP[i],t.hasOwnProperty(r.key))return r.parse(t,n,e);return t}var jP=[{key:"$ref",parse:DP},{key:"$key",parse:FP},{key:"$expr",parse:SP},{key:"$field",parse:TP},{key:"$encode",parse:RP},{key:"$compare",parse:BP},{key:"$context",parse:NP},{key:"$subflow",parse:PP},{key:"$tupleid",parse:LP}];function DP(t,n){return n.get(t.$ref)||Object(d["l"])("Operator not defined: "+t.$ref)}function SP(t,n,e){t.$params&&EP(t.$params,n,e);var r="e:"+t.$expr+"_"+t.$name;return n.fn[r]||(n.fn[r]=Object(d["d"])(AP(t.$expr,n),t.$fields,t.$name))}function FP(t,n){var e="k:"+t.$key+"_"+!!t.$flat;return n.fn[e]||(n.fn[e]=Object(d["F"])(t.$key,t.$flat))}function TP(t,n){if(!t.$field)return null;var e="f:"+t.$field+"_"+t.$name;return n.fn[e]||(n.fn[e]=Object(d["r"])(t.$field,t.$name))}function BP(t,n){var e="c:"+t.$compare+"_"+t.$order,r=Object(d["g"])(t.$compare).map(function(t){return t&&t.$tupleid?b:t});return n.fn[e]||(n.fn[e]=Object(d["i"])(r,t.$order))}function RP(t,n){var e,r,i=t.$encode,a={};for(e in i)r=i[e],a[e]=Object(d["d"])(MP(r.$expr,n),r.$fields),a[e].output=r.$output;return a}function NP(t,n){return n}function PP(t,n){var e=t.$subflow;return function(t,r,i){var a=HP(e,n.fork()),o=a.get(e.operators[0].id),u=a.signals.parent;return u&&u.set(i),o}}function LP(){return b}function zP(t){return(t+"").toLowerCase()}function $P(t){return"operator"===zP(t)}function UP(t){return"collect"===zP(t)}var IP=function(t,n){$P(t.type)||!t.type?n.operator(t,t.update?wP(t.update,n):null):n.transform(t,t.type)};function qP(t,n){if(t.params){var e=n.get(t.id);e||Object(d["l"])("Invalid operator id: "+t.id),n.dataflow.connect(e,e.parameters(EP(t.params,n),t.react,t.initonly))}}var WP=function(t,n){var e,r=null!=t.filter?OP(t.filter,n):void 0,i=null!=t.stream?n.get(t.stream):void 0;t.source?i=n.events(t.source,t.type,r):t.merge&&(e=t.merge.map(n.get.bind(n)),i=e[0].merge.apply(e[0],e.slice(1))),t.between&&(e=t.between.map(n.get.bind(n)),i=i.between(e[0],e[1])),t.filter&&(i=i.filter(r)),null!=t.throttle&&(i=i.throttle(+t.throttle)),null!=t.debounce&&(i=i.debounce(+t.debounce)),null==i&&Object(d["l"])("Invalid stream definition: "+JSON.stringify(t)),t.consume&&i.consume(!0),n.stream(t,i)},YP=function(t,n){var e=Object(d["C"])(e=t.source)?e.$ref:e,r=n.get(e),i=null,a=t.update,o=void 0;r||Object(d["l"])("Source not defined: "+t.source),i=t.target&&t.target.$expr?OP(t.target.$expr,n):n.get(t.target),a&&a.$expr&&(a.$params&&(o=EP(a.$params,n)),a=kP(a.$expr,n)),n.update(t,r,i,a,o)},HP=function(t,n){var e=t.operators||[];return t.background&&(n.background=t.background),t.eventConfig&&(n.eventConfig=t.eventConfig),e.forEach(function(t){IP(t,n)}),e.forEach(function(t){qP(t,n)}),(t.streams||[]).forEach(function(t){WP(t,n)}),(t.updates||[]).forEach(function(t){YP(t,n)}),n.resolve()},VP={skip:!0};function GP(t){var n=this,e={};if(t.signals){var r=e.signals={};Object.keys(n.signals).forEach(function(e){var i=n.signals[e];t.signals(e,i)&&(r[e]=i.value)})}if(t.data){var i=e.data={};Object.keys(n.data).forEach(function(e){var r=n.data[e];t.data(e,r)&&(i[e]=r.input.value)})}return n.subcontext&&!1!==t.recurse&&(e.subcontext=n.subcontext.map(function(n){return n.getState(t)})),e}function XP(t){var n=this,e=n.dataflow,r=t.data,i=t.signals;Object.keys(i||{}).forEach(function(t){e.update(n.signals[t],i[t],VP)}),Object.keys(r||{}).forEach(function(t){e.pulse(n.data[t].input,e.changeset().remove(d["ab"]).insert(r[t]))}),(t.subcontext||[]).forEach(function(t,e){var r=n.subcontext[e];r&&r.setState(t)})}var JP=function(t,n,e){return new ZP(t,n,e)};function ZP(t,n,e){this.dataflow=t,this.transforms=n,this.events=t.events.bind(t),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},e&&(this.functions=Object.create(e),this.functions.context=this)}function QP(t){this.dataflow=t.dataflow,this.transforms=t.transforms,this.functions=t.functions,this.events=t.events,this.signals=Object.create(t.signals),this.scales=Object.create(t.scales),this.nodes=Object.create(t.nodes),this.data=Object.create(t.data),this.fn=Object.create(t.fn),t.functions&&(this.functions=Object.create(t.functions),this.functions.context=this)}ZP.prototype=QP.prototype={fork:function(){var t=new QP(this);return(this.subcontext||(this.subcontext=[])).push(t),t},get:function(t){return this.nodes[t]},set:function(t,n){return this.nodes[t]=n},add:function(t,n){var e,r=this,i=r.dataflow;if(r.set(t.id,n),UP(t.type)&&(e=t.value)&&(e.$ingest?i.ingest(n,e.$ingest,e.$format):e.$request?i.preload(n,e.$request,e.$format):i.pulse(n,i.changeset().insert(e))),t.root&&(r.root=n),t.parent){var a=r.get(t.parent.$ref);a?(i.connect(a,[n]),n.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(t.parent.$ref),i.connect(a,[n]),n.targets().add(a)})}if(t.signal&&(r.signals[t.signal]=n),t.scale&&(r.scales[t.scale]=n),t.data)for(var o in t.data)e=r.data[o]||(r.data[o]={}),t.data[o].forEach(function(t){e[t]=n})},resolve:function(){return(this.unresolved||[]).forEach(function(t){t()}),delete this.unresolved,this},operator:function(t,n){this.add(t,this.dataflow.add(t.value,n))},transform:function(t,n){this.add(t,this.dataflow.add(this.transforms[zP(n)]))},stream:function(t,n){this.set(t.id,n)},update:function(t,n,e,r,i){this.dataflow.on(n,e,r,i,t.options)},getState:GP,setState:XP};var KP=function(t,n,e){var r=e||hP;return HP(n,JP(t,ri,r))};function tL(t){var n=this._runtime.scales;return n.hasOwnProperty(t)||Object(d["l"])("Unrecognized scale or projection: "+t),n[t].value}var nL="width",eL="height",rL="padding",iL={skip:!0};function aL(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===rL?r.left+r.right:0)}function oL(t,n){var e=t.autosize(),r=t.padding();return n-(e&&e.contains===rL?r.top+r.bottom:0)}function uL(t){var n=t._signals,e=n[nL],r=n[eL],i=n[rL];function a(){t._autosize=t._resize=1}t._resizeWidth=t.add(null,function(n){t._width=n.size,t._viewWidth=aL(t,n.size),a()},{size:e}),t._resizeHeight=t.add(null,function(n){t._height=n.size,t._viewHeight=oL(t,n.size),a()},{size:r});var o=t.add(null,a,{pad:i});t._resizeWidth.rank=e.rank+1,t._resizeHeight.rank=r.rank+1,o.rank=i.rank+1}function sL(t,n,e,r,i,a){this.runAfter(function(o){var u=0;o._autosize=0,o.width()!==e&&(u=1,o.signal(nL,e,iL),o._resizeWidth.skip(!0)),o.height()!==r&&(u=1,o.signal(eL,r,iL),o._resizeHeight.skip(!0)),o._viewWidth!==t&&(o._resize=1,o._viewWidth=t),o._viewHeight!==n&&(o._resize=1,o._viewHeight=n),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),u&&o.run("enter"),a&&o.runAfter(t=>t.resize())},!1,1)}function cL(t){return this._runtime.getState(t||{data:lL,signals:fL,recurse:!0})}function lL(t,n){return n.modified&&Object(d["x"])(n.input.value)&&t.indexOf("_:vega:_")}function fL(t,n){return!("parent"===t||n instanceof ri.proxy)}function hL(t){return this.runAsync(null,n=>{n._trigger=!1,n._runtime.setState(t)},t=>{t._trigger=!0}),this}var dL=function(t,n){function e(n){t({timestamp:Date.now(),elapsed:n})}this._timers.push(HC(e,n))},pL=function(t,n,e,r){var i=t.element();i&&i.setAttribute("title",vL(r))};function vL(t){return null==t?"":Object(d["x"])(t)?mL(t):Object(d["C"])(t)&&!Object(d["z"])(t)?gL(t):t+""}function gL(t){return Object.keys(t).map(function(n){var e=t[n];return n+": "+(Object(d["x"])(e)?mL(e):yL(e))}).join("\n")}function mL(t){return"["+t.map(yL).join(", ")+"]"}function yL(t){return Object(d["x"])(t)?"[…]":Object(d["C"])(t)&&!Object(d["z"])(t)?"{…}":t}function bL(t,n){var e=this;n=n||{},Qr.call(e),e.loader(n.loader||e._loader),e.logLevel(n.logLevel||0),e._el=null,e._elBind=null,e._renderType=n.renderer||Nd.Canvas,e._scenegraph=new wh;var r=e._scenegraph.root;e._renderer=null,e._tooltip=n.tooltip||pL,e._redraw=!0,e._handler=(new Uh).scene(r),e._preventDefault=!1,e._timers=[],e._eventListeners=[],e._resizeListeners=[];var i=KP(e,t,n.functions);e._runtime=i,e._signals=i.signals,e._bind=(t.bindings||[]).map(function(t){return{state:null,param:Object(d["m"])({},t)}}),i.root&&i.root.set(r),r.source=i.data.root.input,e.pulse(i.data.root.input,e.changeset().insert(r.items)),e._background=i.background||null,e._eventConfig=nT(i.eventConfig),e._width=e.width(),e._height=e.height(),e._viewWidth=aL(e,e._width),e._viewHeight=oL(e,e._height),e._origin=[0,0],e._resize=0,e._autosize=1,uL(e),LF(e)}var _L=Object(d["v"])(bL,Qr);function xL(t,n){return t._signals.hasOwnProperty(n)?t._signals[n]:Object(d["l"])("Unrecognized signal name: "+Object(d["T"])(n))}function wL(t,n){var e=t._targets||[],r=e.filter(function(t){var e=t._update;return e&&e.handler===n});return r.length?r[0]:null}function AL(t,n,e,r){var i=wL(e,r);return i||(i=AT(this,function(){r(n,e.value)}),i.handler=r,t.on(e,null,i)),t}function OL(t,n,e){var r=wL(n,e);return r&&n._targets.remove(r),t}_L.evaluate=async function(t,n,e){if(await Qr.prototype.evaluate.call(this,t,n),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,GF(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return e&&v(this,e),this},_L.dirty=function(t){this._redraw=!0,this._renderer&&this._renderer.dirty(t)},_L.container=function(){return this._el},_L.scenegraph=function(){return this._scenegraph},_L.origin=function(){return this._origin.slice()},_L.signal=function(t,n,e){var r=xL(this,t);return 1===arguments.length?r.value:this.update(r,n,e)},_L.background=function(t){return arguments.length?(this._background=t,this._resize=1,this):this._background},_L.width=function(t){return arguments.length?this.signal("width",t):this.signal("width")},_L.height=function(t){return arguments.length?this.signal("height",t):this.signal("height")},_L.padding=function(t){return arguments.length?this.signal("padding",t):this.signal("padding")},_L.autosize=function(t){return arguments.length?this.signal("autosize",t):this.signal("autosize")},_L.renderer=function(t){return arguments.length?(Ld(t)||Object(d["l"])("Unrecognized renderer type: "+t),t!==this._renderType&&(this._renderType=t,this._resetRenderer()),this):this._renderType},_L.tooltip=function(t){return arguments.length?(t!==this._tooltip&&(this._tooltip=t,this._resetRenderer()),this):this._tooltip},_L.loader=function(t){return arguments.length?(t!==this._loader&&(Qr.prototype.loader.call(this,t),this._resetRenderer()),this):this._loader},_L.resize=function(){return this._autosize=1,this.touch(xL(this,"autosize"))},_L._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_L._resizeView=sL,_L.addEventListener=function(t,n,e){var r=n;return e&&!1===e.trap||(r=AT(this,n),r.raw=n),this._handler.on(t,r),this},_L.removeEventListener=function(t,n){var e,r,i=this._handler.handlers(t),a=i.length;while(--a>=0)if(r=i[a].type,e=i[a].handler,t===r&&(n===e||n===e.raw)){this._handler.off(r,e);break}return this},_L.addResizeListener=function(t){var n=this._resizeListeners;return n.indexOf(t)<0&&n.push(t),this},_L.removeResizeListener=function(t){var n=this._resizeListeners,e=n.indexOf(t);return e>=0&&n.splice(e,1),this},_L.addSignalListener=function(t,n){return AL(this,t,xL(this,t),n)},_L.removeSignalListener=function(t,n){return OL(this,xL(this,t),n)},_L.addDataListener=function(t,n){return AL(this,t,$F(this,t).values,n)},_L.removeDataListener=function(t,n){return OL(this,$F(this,t).values,n)},_L.preventDefault=function(t){return arguments.length?(this._preventDefault=t,this):this._preventDefault},_L.timer=dL,_L.events=rT,_L.finalize=sT,_L.hover=uT,_L.data=UF,_L.change=IF,_L.insert=qF,_L.remove=WF,_L.scale=tL,_L.initialize=kT,_L.toImageURL=CT,_L.toCanvas=RT,_L.toSVG=NT,_L.getState=cL,_L.setState=hL;var kL=function(t,n){return t=t||n.autosize,Object(d["C"])(t)?t:(t=t||"pad",{type:t})},ML=function(t,n){return t=t||n.padding,Object(d["C"])(t)?{top:EL(t.top),bottom:EL(t.bottom),left:EL(t.left),right:EL(t.right)}:CL(EL(t))};function EL(t){return+t||0}function CL(t){return{top:t,bottom:t,left:t,right:t}}var jL="outer",DL=["value","update","init","react","bind"];function SL(t,n){Object(d["l"])(t+' for "outer" push: '+Object(d["T"])(n))}var FL=function(t,n){var e=t.name;if(t.push===jL)n.signals[e]||SL("No prior signal definition",e),DL.forEach(function(n){void 0!==t[n]&&SL("Invalid property ",n)});else{var r=n.addSignal(e,t.value);!1===t.react&&(r.react=!1),t.bind&&n.addBinding(e,t.bind)}},TL=function(t,n,e){var r,i,a={};try{t=Object(d["E"])(t)?t:Object(d["T"])(t)+"",r=LR(t)}catch(o){Object(d["l"])("Expression parse error: "+t)}return r.visit(function(t){if(t.type===qT){var e=t.callee.name,r=bP.visitors[e];r&&r(e,t.arguments,n,a)}}),i=_P(r),i.globals.forEach(function(t){var e=uP+t;!a.hasOwnProperty(e)&&n.getSignal(t)&&(a[e]=n.signalRef(t))}),{$expr:e?e+"return("+i.code+");":i.code,$fields:i.fields,$params:a}};function BL(t,n,e,r){this.id=-1,this.type=t,this.value=n,this.params=e,r&&(this.parent=r)}function RL(t,n,e,r){return new BL(t,n,e,r)}function NL(t,n){return RL("operator",t,n)}function PL(t){var n={$ref:t.id};return t.id<0&&(t.refs=t.refs||[]).push(n),n}var LL={$tupleid:1,toString:function(){return":_tupleid_:"}};function zL(t,n){return n?{$field:t,$name:n}:{$field:t}}var $L=zL("key");function UL(t,n){return{$compare:t,$order:n}}function IL(t,n){var e={$key:t};return n&&(e.$flat=!0),e}var qL="ascending",WL="descending";function YL(t){return Object(d["C"])(t)?(t.order===WL?"-":"+")+HL(t.op,t.field):""}function HL(t,n){return(t&&t.signal?"$"+t.signal:t||"")+(t&&n?"_":"")+(n&&n.signal?"$"+n.signal:n||"")}var VL="scope",GL="view";function XL(t){return t&&t.signal}function JL(t){if(XL(t))return!0;if(Object(d["C"])(t))for(var n in t)if(JL(t[n]))return!0;return!1}function ZL(t,n){return null!=t?t:n}function QL(t){return t&&t.signal||t}var KL="timer";function tz(t,n){var e=t.merge?ez:t.stream?rz:t.type?iz:Object(d["l"])("Invalid stream specification: "+Object(d["T"])(t));return e(t,n)}function nz(t){return t===VL?GL:t||GL}function ez(t,n){var e=t.merge.map(function(t){return tz(t,n)}),r=az({merge:e},t,n);return n.addStream(r).id}function rz(t,n){var e=tz(t.stream,n),r=az({stream:e},t,n);return n.addStream(r).id}function iz(t,n){var e,r;return t.type===KL?(e=n.event(KL,t.throttle),t={between:t.between,filter:t.filter}):e=n.event(nz(t.source),t.type),r=az({stream:e},t,n),1===Object.keys(r).length?e:n.addStream(r).id}function az(t,n,e){var r=n.between;return r&&(2!==r.length&&Object(d["l"])('Stream "between" parameter must have 2 entries: '+Object(d["T"])(n)),t.between=[tz(r[0],e),tz(r[1],e)]),r=n.filter?Object(d["g"])(n.filter):[],(n.marktype||n.markname||n.markrole)&&r.push(oz(n.marktype,n.markname,n.markrole)),n.source===VL&&r.push("inScope(event.item)"),r.length&&(t.filter=TL("("+r.join(")&&(")+")").$expr),null!=(r=n.throttle)&&(t.throttle=+r),null!=(r=n.debounce)&&(t.debounce=+r),n.consume&&(t.consume=!0),t}function oz(t,n,e){var r="event.item";return r+(t&&"*"!==t?"&&"+r+".mark.marktype==='"+t+"'":"")+(e?"&&"+r+".mark.role==='"+e+"'":"")+(n?"&&"+r+".mark.name==='"+n+"'":"")}var uz,sz,cz=function(t,n,e){return uz=n||lz,sz=e||_z,Az(t.trim()).map(Oz)},lz="view",fz="[",hz="]",dz="{",pz="}",vz=":",gz=",",mz="@",yz=">",bz=/[[\]{}]/,_z={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};function xz(t){return sz.hasOwnProperty(t)}function wz(t,n,e,r,i){for(var a,o=0,u=t.length;n<u;++n){if(a=t[n],!o&&a===e)return n;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return n}function Az(t){var n=[],e=0,r=t.length,i=0;while(i<r)i=wz(t,i,gz,fz+dz,hz+pz),n.push(t.substring(e,i).trim()),e=++i;if(0===n.length)throw"Empty event selector: "+t;return n}function Oz(t){return"["===t[0]?kz(t):Mz(t)}function kz(t){var n,e,r=t.length,i=1;if(i=wz(t,i,hz,fz,hz),i===r)throw"Empty between selector: "+t;if(n=Az(t.substring(1,i)),2!==n.length)throw"Between selector must have two elements: "+t;if(t=t.slice(i+1).trim(),t[0]!==yz)throw"Expected '>' after between selector: "+t;return n=n.map(Oz),e=Oz(t.slice(1).trim()),e.between?{between:n,stream:e}:(e.between=n,e)}function Mz(t){var n,e,r={source:uz},i=[],a=[0,0],o=0,u=0,s=t.length,c=0;if(t[s-1]===pz){if(c=t.lastIndexOf(dz),!(c>=0))throw"Unmatched right brace: "+t;try{a=Ez(t.substring(c+1,s-1))}catch(l){throw"Invalid throttle specification: "+t}t=t.slice(0,c).trim(),s=t.length,c=0}if(!s)throw t;if(t[0]===mz&&(o=++c),n=wz(t,c,vz),n<s&&(i.push(t.substring(u,n).trim()),u=c=++n),c=wz(t,c,fz),c===s)i.push(t.substring(u,s).trim());else if(i.push(t.substring(u,c).trim()),e=[],u=++c,u===s)throw"Unmatched left bracket: "+t;while(c<s){if(c=wz(t,c,hz),c===s)throw"Unmatched left bracket: "+t;if(e.push(t.substring(u,c).trim()),c<s-1&&t[++c]!==fz)throw"Expected left bracket: "+t;u=++c}if(!(s=i.length)||bz.test(i[s-1]))throw"Invalid event selector: "+t;return s>1?(r.type=i[1],o?r.markname=i[0].slice(1):xz(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=e&&(r.filter=e),a[0]&&(r.throttle=a[0]),a[1]&&(r.debounce=a[1]),r}function Ez(t){var n=t.split(gz);if(!t.length||n.length>2)throw t;return n.map(function(n){var e=+n;if(e!==e)throw t;return e})}var Cz="var datum=event.item&&event.item.datum;",jz=function(t,n,e){var r,i=t.events,a=t.update,o=t.encode,u=[],s="";i||Object(d["l"])("Signal update missing events specification."),Object(d["E"])(i)&&(i=cz(i,n.isSubscope()?VL:GL)),i=Object(d["g"])(i).filter(function(t){return t.signal||t.scale?(u.push(t),0):1}),i.length&&u.push(i.length>1?{merge:i}:i[0]),null!=o&&(a&&Object(d["l"])("Signal encode and update are mutually exclusive."),a="encode(item(),"+Object(d["T"])(o)+")"),s=Object(d["E"])(a)?TL(a,n,Cz):null!=a.expr?TL(a.expr,n,Cz):null!=a.value?a.value:null!=a.signal?{$expr:"_.value",$params:{value:n.signalRef(a.signal)}}:Object(d["l"])("Invalid signal update specification."),r={target:e,update:s},t.force&&(r.options={force:!0}),u.forEach(function(t){n.addUpdate(Object(d["m"])(Dz(t,n),r))})};function Dz(t,n){return{source:t.signal?n.signalRef(t.signal):t.scale?n.scaleRef(t.scale):tz(t,n)}}var Sz=function(t,n){var e=n.getSignal(t.name),r=t.update;t.init&&(r?Object(d["l"])("Signals can not include both init and update expressions."):(r=t.init,e.initonly=!0)),r&&(r=TL(r,n),e.update=r.$expr,e.params=r.$params),t.on&&t.on.forEach(function(t){jz(t,n,e.id)})};function Fz(t){return function(n,e,r){return RL(t,e,n||void 0,r)}}var Tz=Fz("aggregate"),Bz=Fz("axisticks"),Rz=Fz("bound"),Nz=Fz("collect"),Pz=Fz("compare"),Lz=Fz("datajoin"),zz=Fz("encode"),$z=Fz("expression"),Uz=(Fz("extent"),Fz("facet")),Iz=Fz("field"),qz=Fz("key"),Wz=Fz("legendentries"),Yz=Fz("load"),Hz=Fz("mark"),Vz=Fz("multiextent"),Gz=Fz("multivalues"),Xz=Fz("overlap"),Jz=Fz("params"),Zz=Fz("prefacet"),Qz=Fz("projection"),Kz=Fz("proxy"),t$=Fz("relay"),n$=Fz("render"),e$=Fz("scale"),r$=Fz("sieve"),i$=Fz("sortitems"),a$=Fz("viewlayout"),o$=Fz("values"),u$=0;function s$(t,n){var e=t.type||"linear";uv(e)||Object(d["l"])("Unrecognized scale type: "+Object(d["T"])(e)),n.addScale(t.name,{type:e,domain:void 0})}function c$(t,n){var e,r=n.getScale(t.name).params;for(e in r.domain=d$(t.domain,t,n),null!=t.range&&(r.range=k$(t,n,r)),null!=t.interpolate&&O$(t.interpolate,r),null!=t.nice&&(r.nice=A$(t.nice)),null!=t.bins&&(r.bins=w$(t.bins,n)),t)r.hasOwnProperty(e)||"name"===e||(r[e]=l$(t[e],n))}function l$(t,n){return Object(d["C"])(t)?t.signal?n.signalRef(t.signal):Object(d["l"])("Unsupported object: "+Object(d["T"])(t)):t}function f$(t,n){return t.signal?n.signalRef(t.signal):t.map(function(t){return l$(t,n)})}function h$(t){Object(d["l"])("Can not find data set: "+Object(d["T"])(t))}function d$(t,n,e){if(t)return t.signal?e.signalRef(t.signal):(Object(d["x"])(t)?p$:t.fields?g$:v$)(t,n,e);null==n.domainMin&&null==n.domainMax||Object(d["l"])("No scale domain defined for domainMin/domainMax to override.")}function p$(t,n,e){return t.map(function(t){return l$(t,e)})}function v$(t,n,e){var r=e.getData(t.data);return r||h$(t.data),vv(n.type)?r.valuesRef(e,t.field,b$(t.sort,!1)):cv(n.type)?r.domainRef(e,t.field):r.extentRef(e,t.field)}function g$(t,n,e){var r=t.data,i=t.fields.reduce(function(t,n){return n=Object(d["E"])(n)?{data:r,field:n}:Object(d["x"])(n)||n.signal?m$(n,e):n,t.push(n),t},[]);return(vv(n.type)?y$:cv(n.type)?_$:x$)(t,e,i)}function m$(t,n){var e="_:vega:_"+u$++,r=Nz({});if(Object(d["x"])(t))r.value={$ingest:t};else if(t.signal){var i="setdata("+Object(d["T"])(e)+","+t.signal+")";r.params.input=n.signalRef(i)}return n.addDataPipeline(e,[r,r$({})]),{data:e,field:"data"}}function y$(t,n,e){var r,i,a,o;return r=e.map(function(t){var e=n.getData(t.data);return e||h$(t.data),e.countsRef(n,t.field)}),i=n.add(Tz({groupby:$L,ops:["sum"],fields:[n.fieldRef("count")],as:["count"],pulse:r})),a=n.add(Nz({pulse:PL(i)})),o=n.add(o$({field:$L,sort:n.sortRef(b$(t.sort,!0)),pulse:PL(a)})),PL(o)}function b$(t,n){return t&&(t.field||t.op?t.field||"count"===t.op?n&&t.field?Object(d["l"])("Multiple domain scales can not sort by field."):n&&t.op&&"count"!==t.op&&Object(d["l"])("Multiple domain scales support op count only."):Object(d["l"])("No field provided for sort aggregate op: "+t.op):Object(d["C"])(t)?t.field="key":t={field:"key"}),t}function _$(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||h$(t.data),e.domainRef(n,t.field)});return PL(n.add(Gz({values:r})))}function x$(t,n,e){var r=e.map(function(t){var e=n.getData(t.data);return e||h$(t.data),e.extentRef(n,t.field)});return PL(n.add(Vz({extents:r})))}function w$(t,n){return t.signal||Object(d["x"])(t)?f$(t,n):n.objectProperty(t)}function A$(t){return Object(d["C"])(t)?{interval:l$(t.interval),step:l$(t.step)}:l$(t)}function O$(t,n){n.interpolate=l$(t.type||t),null!=t.gamma&&(n.interpolateGamma=l$(t.gamma))}function k$(t,n,e){var r=t.range,i=n.config.range;if(r.signal)return n.signalRef(r.signal);if(Object(d["E"])(r)){if(i&&i.hasOwnProperty(r))return t=Object(d["m"])({},t,{range:i[r]}),k$(t,n,e);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=vv(t.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Object(d["l"])("Unrecognized scale range value: "+Object(d["T"])(r))}else{if(r.scheme)return e.scheme=Object(d["x"])(r.scheme)?f$(r.scheme,n):l$(r.scheme,n),r.extent&&(e.schemeExtent=f$(r.extent,n)),void(r.count&&(e.schemeCount=l$(r.count,n)));if(r.step)return void(e.rangeStep=l$(r.step,n));if(vv(t.type)&&!Object(d["x"])(r))return d$(r,t,n);Object(d["x"])(r)||Object(d["l"])("Unsupported range type: "+Object(d["T"])(r))}return r.map(function(t){return l$(t,n)})}var M$=function(t,n){var e={};for(var r in t)"name"!==r&&(e[r]=E$(t[r],r,n));n.addProjection(t.name,e)};function E$(t,n,e){return Object(d["x"])(t)?t.map(function(t){return E$(t,n,e)}):Object(d["C"])(t)?t.signal?e.signalRef(t.signal):"fit"===n?t:Object(d["l"])("Unsupported parameter object: "+Object(d["T"])(t)):t}var C$="top",j$="left",D$="right",S$="bottom",F$="center",T$="vertical",B$="start",R$="end",N$="index",P$="label",L$="offset",z$="perc",$$="perc2",U$="size",I$="value",q$="guide-label",W$="guide-title",Y$="group-title",H$="symbol",V$="gradient",G$="discrete",X$=["size","shape","fill","stroke","strokeWidth","strokeDash","opacity"],J$={name:1,interactive:1},Z$=Object(d["X"])(["rule"]),Q$=Object(d["X"])(["group","image","rect"]),K$=function(t,n){var e="";return Z$[n]?e:(t.x2&&(t.x?(Q$[n]&&(e+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),e+="o.width=o.x2-o.x;"):e+="o.x=o.x2-(o.width||0);"),t.xc&&(e+="o.x=o.xc-(o.width||0)/2;"),t.y2&&(t.y?(Q$[n]&&(e+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),e+="o.height=o.y2-o.y;"):e+="o.y=o.y2-(o.height||0);"),t.yc&&(e+="o.y=o.yc-(o.height||0)/2;"),e)},tU=function(t,n,e,r){function i(t,i,a,o){var u=cU(null,i,n,e,r),s=cU(null,a,n,e,r),c=cU(null,o,n,e,r);return"this."+t+"("+[u,s,c].join(",")+").toString()"}return t.c?i("hcl",t.h,t.c,t.l):t.h||t.s?i("hsl",t.h,t.s,t.l):t.l||t.a?i("lab",t.l,t.a,t.b):t.r||t.g||t.b?i("rgb",t.r,t.g,t.b):null},nU=function(t,n,e,r){var i=TL(t,n);return i.$fields.forEach(function(t){r[t]=1}),Object(d["m"])(e,i.$params),i.$expr},eU=function(t,n,e,r){return rU(Object(d["C"])(t)?t:{datum:t},n,e,r)};function rU(t,n,e,r){var i,a,o;if(t.signal)i="datum",o=nU(t.signal,n,e,r);else if(t.group||t.parent){a=Math.max(1,t.level||1),i="item";while(a-- >0)i+=".mark.group";t.parent?(o=t.parent,i+=".datum"):o=t.group}else t.datum?(i="datum",o=t.datum):Object(d["l"])("Invalid field reference: "+Object(d["T"])(t));return t.signal||(Object(d["E"])(o)?(r[o]=1,o=Object(d["S"])(o).map(d["T"]).join("][")):o=rU(o,n,e,r)),i+"["+o+"]"}var iU=function(t,n,e,r,i){var a,o,u,s=oU(t.scale,e,r,i);return null!=t.range?(a=+t.range,o=s+".range()",n=0===a?o+"[0]":"($="+o+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==n&&(n=s+"("+n+")"),t.band&&(u=aU(t.scale,e))&&(o=s+".bandwidth",a=+t.band,a=o+"()"+(1===a?"":"*"+a),u<0&&(a="("+o+"?"+a+":0)"),n=(n?n+"+":"")+a,t.extra&&(n="(datum.extra?"+s+"(datum.extra.value):"+n+")")),null==n&&(n="0")),n};function aU(t,n){if(!Object(d["E"])(t))return-1;var e=n.scaleType(t);return"band"===e||"point"===e?1:0}function oU(t,n,e,r){var i;if(Object(d["E"])(t))i=oP+t,e.hasOwnProperty(i)||(e[i]=n.scaleRef(t)),i=Object(d["T"])(i);else{for(i in n.scales)e[oP+i]=n.scaleRef(i);i=Object(d["T"])(oP)+"+"+(t.signal?"("+nU(t.signal,n,e,r)+")":eU(t,n,e,r))}return"_["+i+"]"}var uU=function(t,n,e,r){return"this.gradient("+oU(t.gradient,n,e,r)+","+Object(d["T"])(t.start)+","+Object(d["T"])(t.stop)+","+Object(d["T"])(t.count)+")"},sU=function(t,n,e,r){return Object(d["C"])(t)?"("+cU(null,t,n,e,r)+")":t},cU=function(t,n,e,r,i){if(null!=n.gradient)return uU(n,e,r,i);var a=n.signal?nU(n.signal,e,r,i):n.color?tU(n.color,e,r,i):null!=n.field?eU(n.field,e,r,i):void 0!==n.value?Object(d["T"])(n.value):void 0;return null!=n.scale&&(a=iU(n,a,e,r,i)),void 0===a&&(a=null),null!=n.exponent&&(a="Math.pow("+a+","+sU(n.exponent,e,r,i)+")"),null!=n.mult&&(a+="*"+sU(n.mult,e,r,i)),null!=n.offset&&(a+="+"+sU(n.offset,e,r,i)),n.round&&(a="Math.round("+a+")"),a},lU=function(t,n,e){return t+"["+Object(d["T"])(n)+"]="+e+";"},fU=function(t,n,e,r,i){var a="";return n.forEach(function(n){var o=cU(t,n,e,r,i);a+=n.test?nU(n.test,e,r,i)+"?"+o+":":o}),":"===Object(d["P"])(a)&&(a+="null"),lU("o",t,a)};function hU(t,n,e,r){var i,a,o,u={},s="var o=item,datum=o.datum,$;";for(i in t)a=t[i],Object(d["x"])(a)?s+=fU(i,a,r,e,u):(o=cU(i,a,r,e,u),s+=lU("o",i,o));return s+=K$(t,n),s+="return 1;",{$expr:s,$fields:Object.keys(u),$output:Object.keys(t)}}var dU="mark",pU="frame",vU="scope",gU="axis",mU="axis-domain",yU="axis-grid",bU="axis-label",_U="axis-tick",xU="axis-title",wU="legend",AU="legend-band",OU="legend-entry",kU="legend-gradient",MU="legend-label",EU="legend-symbol",CU="legend-title",jU="title";function DU(t){return Object(d["C"])(t)?Object(d["m"])({},t):{value:t}}function SU(t,n,e,r){return null!=e?(Object(d["C"])(e)&&!Object(d["x"])(e)?t.update[n]=e:t[r||"enter"][n]={value:e},1):0}function FU(t,n,e){for(let r in n)SU(t,r,n[r]);for(let r in e)SU(t,r,e[r],"update")}function TU(t,n,e){for(var r in n)e&&e.hasOwnProperty(r)||(t[r]=Object(d["m"])(t[r]||{},n[r]));return t}function BU(t,n,e,r,i,a){var o,u;for(u in a=a||{},a.encoders={$encode:o={}},t=RU(t,n,e,r,i.config),t)o[u]=hU(t[u],n,a,i);return a}function RU(t,n,e,r,i){var a,o,u,s={};for(a in"legend"!=e&&0!==String(e).indexOf("axis")||(e=null),u=e===pU?i.group:e===dU?Object(d["m"])({},i.mark,i[n]):null,u)o=PU(a,t)||("fill"===a||"stroke"===a)&&(PU("fill",t)||PU("stroke",t)),o||(s[a]=NU(u[a]));return Object(d["g"])(r).forEach(function(n){var e=i.style&&i.style[n];for(var r in e)PU(r,t)||(s[r]=NU(e[r]))}),t=Object(d["m"])({},t),t.enter=Object(d["m"])(s,t.enter),t}function NU(t){return t&&t.signal?{signal:t.signal}:{value:t}}function PU(t,n){return n&&(n.enter&&n.enter[t]||n.update&&n.update[t])}var LU=function(t,n,e,r,i,a,o){return{type:t,name:o?o.name:void 0,role:n,style:o&&o.style||e,key:r,from:i,interactive:!(!o||!o.interactive),encode:TU(a,o,J$)}};function zU(t,n){const e=e=>ZL(t[e],n[e]);return e.isVertical=(e=>T$===ZL(t.direction,e?n.symbolDirection:n.gradientDirection)),e.gradientLength=(()=>ZL(t.gradientLength,n.gradientLength||n.gradientWidth)),e.gradientThickness=(()=>ZL(t.gradientThickness,n.gradientThickness||n.gradientHeight)),e.entryColumns=(()=>ZL(t.columns,ZL(n.columns,+e.isVertical(!0)))),e}function $U(t,n){var e=n&&(n.update&&n.update[t]||n.enter&&n.enter[t]);return e&&e.signal?e:e?e.value:null}function UU(t,n,e){var r=n.config.style[e];return r&&r[t]}function IU(t,n,e){return`item.anchor === "${B$}" ? ${t} : item.anchor === "${R$}" ? ${n} : ${e}`}const qU=IU(Object(d["T"])(j$),Object(d["T"])(D$),Object(d["T"])(F$));var WU="group",YU="rect",HU="rule",VU="symbol",GU="text",XU=function(t,n,e,r){var i,a,o,u,s,c,l=zU(t,e),f={value:0},h=l.isVertical(),p=l.gradientThickness(),v=l.gradientLength();return h?(o=[0,1],u=[0,0],s=p,c=v):(o=[0,0],u=[1,0],s=v,c=p),i={enter:a={opacity:f,x:f,y:f,width:DU(s),height:DU(c)},update:Object(d["m"])({},a,{opacity:{value:1},fill:{gradient:n,start:o,stop:u}}),exit:{opacity:f}},FU(i,{stroke:l("gradientStrokeColor"),strokeWidth:l("gradientStrokeWidth")},{opacity:l("gradientOpacity")}),LU(YU,kU,null,void 0,void 0,i,r)},JU=function(t,n,e,r,i){var a,o,u,s,c,l,f=zU(t,e),h={value:0},p=f.isVertical(),v=f.gradientThickness(),g=f.gradientLength(),m="";return p?(u="y",c="y2",s="x",l="width",m="1-"):(u="x",c="x2",s="y",l="height"),o={opacity:h,fill:{scale:n,field:I$}},o[u]={signal:m+"datum."+z$,mult:g},o[s]=h,o[c]={signal:m+"datum."+$$,mult:g},o[l]=DU(v),a={enter:o,update:Object(d["m"])({},o,{opacity:{value:1}}),exit:{opacity:h}},FU(a,{stroke:f("gradientStrokeColor"),strokeWidth:f("gradientStrokeWidth")},{opacity:f("gradientOpacity")}),LU(YU,AU,null,I$,i,a,r)},ZU="datum."+z$+'<=0?"left":datum.'+z$+'>=1?"right":"center"',QU="datum."+z$+'<=0?"bottom":datum.'+z$+'>=1?"top":"middle"',KU=function(t,n,e,r){var i,a,o,u,s,c=zU(t,n),l={value:0},f=c.isVertical(),h=DU(c.gradientThickness()),d=c.gradientLength(),p=c("labelOverlap"),v=c("labelSeparation"),g="";return i={enter:a={opacity:l},update:o={opacity:{value:1},text:{field:P$}},exit:{opacity:l}},FU(i,{fill:c("labelColor"),fillOpacity:c("labelOpacity"),font:c("labelFont"),fontSize:c("labelFontSize"),fontStyle:c("labelFontStyle"),fontWeight:c("labelFontWeight"),limit:ZL(t.labelLimit,n.gradientLabelLimit)}),f?(a.align={value:"left"},a.baseline=o.baseline={signal:QU},u="y",s="x",g="1-"):(a.align=o.align={signal:ZU},a.baseline={value:"top"},u="x",s="y"),a[u]=o[u]={signal:g+"datum."+z$,mult:d},a[s]=o[s]=h,h.offset=ZL(t.labelOffset,n.gradientLabelOffset)||0,t=LU(GU,MU,q$,I$,r,i,e),p&&(t.overlap={separation:v,method:p,order:"datum."+N$}),t},tI=function(t,n,e,r,i,a,o,u){return{type:WU,name:e,role:t,style:n,from:r,interactive:i||!1,encode:a,marks:o,layout:u}},nI={value:0},eI=function(t,n,e,r,i){var a,o,u,s,c,l,f,h=zU(t,n),d=e.entries,p=!(!d||!d.interactive),v=d?d.name:void 0,g=h("clipHeight"),m=h("symbolOffset"),y={data:"value"},b={},_=`${i} ? datum.${L$} : datum.${U$}`,x=g?DU(g):{field:U$},w=`datum.${N$}`,A=`max(1, ${i})`;return x.mult=.5,b={enter:a={opacity:nI,x:{signal:_,mult:.5,offset:m},y:x},update:o={opacity:{value:1},x:a.x,y:a.y},exit:{opacity:nI}},t.fill||FU(b,{fill:n.symbolBaseFillColor,stroke:n.symbolBaseStrokeColor}),FU(b,{fill:h("symbolFillColor"),shape:h("symbolType"),size:h("symbolSize"),stroke:h("symbolStrokeColor"),strokeDash:h("symbolDash"),strokeDashOffset:h("symbolDashOffset"),strokeWidth:h("symbolStrokeWidth")},{opacity:h("symbolOpacity")}),X$.forEach(function(n){t[n]&&(o[n]=a[n]={scale:t[n],field:I$})}),s=LU(VU,EU,null,I$,y,b,e.symbols),g&&(s.clip=!0),u=DU(m),u.offset=h("labelOffset"),b={enter:a={opacity:nI,x:{signal:_,offset:u},y:x},update:o={opacity:{value:1},text:{field:P$},x:a.x,y:a.y},exit:{opacity:nI}},FU(b,{align:h("labelAlign"),baseline:h("labelBaseline"),fill:h("labelColor"),fillOpacity:h("labelOpacity"),font:h("labelFont"),fontSize:h("labelFontSize"),fontStyle:h("labelFontStyle"),fontWeight:h("labelFontWeight"),limit:h("labelLimit")}),c=LU(GU,MU,q$,I$,y,b,e.labels),b={enter:{noBound:{value:!g},width:nI,height:g?DU(g):nI,opacity:nI},exit:{opacity:nI},update:o={opacity:{value:1},row:{signal:null},column:{signal:null}}},h.isVertical(!0)?(l=`ceil(item.mark.items.length / ${A})`,o.row.signal=`${w}%${l}`,o.column.signal=`floor(${w} / ${l})`,f={field:["row",w]}):(o.row.signal=`floor(${w} / ${A})`,o.column.signal=`${w} % ${A}`,f={field:w}),o.column.signal=`${i}?${o.column.signal}:${w}`,r={facet:{data:r,name:"value",groupby:N$}},t=tI(vU,null,v,r,p,TU(b,d,J$),[s,c]),t.sort=f,t};function rI(t,n){const e=zU(t,n);return{align:e("gridAlign"),columns:e.entryColumns(),center:{row:!0,column:!1},padding:{row:e("rowPadding"),column:e("columnPadding")}}}const iI='item.orient === "left"',aI='item.orient === "right"',oI=`(${iI} || ${aI})`,uI=`datum.vgrad && ${oI}`,sI=IU('"top"','"bottom"','"middle"'),cI=IU('"right"','"left"','"center"'),lI=`datum.vgrad && ${aI} ? (${cI}) : (${oI} && !(datum.vgrad && ${iI})) ? "left" : ${qU}`,fI=`item._anchor || (${oI} ? "middle" : "start")`,hI=`${uI} ? (${iI} ? -90 : 90) : 0`,dI=`${oI} ? (datum.vgrad ? (${aI} ? "bottom" : "top") : ${sI}) : "top"`;var pI=function(t,n,e,r){var i,a,o=zU(t,n),u={value:0};return i={enter:a={opacity:u,orient:DU(o("titleOrient")),_anchor:DU(o("titleAnchor")),anchor:{signal:fI},x:{field:{group:"padding"}},y:{field:{group:"padding"}},angle:{signal:hI},align:{signal:lI},baseline:{signal:dI}},update:Object(d["m"])({},a,{opacity:{value:1},text:DU(t.title)}),exit:{opacity:u}},FU(i,{fill:o("titleColor"),fillOpacity:o("titleOpacity"),font:o("titleFont"),fontSize:o("titleFontSize"),fontStyle:o("titleFontStyle"),fontWeight:o("titleFontWeight"),limit:o("titleLimit")},{align:o("titleAlign"),baseline:o("titleBaseline")}),LU(GU,CU,W$,null,r,i,e)},vI=function(t,n){var e;return Object(d["C"])(t)&&(t.signal?e=t.signal:t.path?e="pathShape("+gI(t.path)+")":t.sphere&&(e="geoShape("+gI(t.sphere)+', {type: "Sphere"})')),e?n.signalRef(e):!!t};function gI(t){return Object(d["C"])(t)&&t.signal?t.signal:Object(d["T"])(t)}var mI=function(t){var n=t.role||"";return n.indexOf("axis")&&n.indexOf("legend")?t.type===WU?vU:n||dU:n},yI=function(t){return{marktype:t.type,name:t.name||void 0,role:t.role||mI(t),zindex:+t.zindex||void 0}},bI=function(t,n){return t&&t.signal?n.signalRef(t.signal):!1!==t},_I=function(t,n){var e=ii(t.type);e||Object(d["l"])("Unrecognized transform type: "+Object(d["T"])(t.type));var r=RL(e.type.toLowerCase(),null,xI(e,t,n));return t.signal&&n.addSignal(t.signal,n.proxy(r)),r.metadata=e.metadata||{},r};function xI(t,n,e){var r,i,a,o={};for(i=0,a=t.params.length;i<a;++i)r=t.params[i],o[r.name]=wI(r,n,e);return o}function wI(t,n,e){var r=t.type,i=n[t.name];return"index"===r?OI(t,n,e):void 0!==i?"param"===r?kI(t,n,e):"projection"===r?e.projectionRef(n[t.name]):t.array&&!XL(i)?i.map(function(n){return AI(t,n,e)}):AI(t,i,e):void(t.required&&Object(d["l"])("Missing required "+Object(d["T"])(n.type)+" parameter: "+Object(d["T"])(t.name)))}function AI(t,n,e){var r=t.type;if(XL(n))return DI(r)?Object(d["l"])("Expression references can not be signals."):SI(r)?e.fieldRef(n):FI(r)?e.compareRef(n):e.signalRef(n.signal);var i=t.expr||SI(r);return i&&EI(n)?e.exprRef(n.expr,n.as):i&&CI(n)?zL(n.field,n.as):DI(r)?TL(n,e):jI(r)?PL(e.getData(n).values):SI(r)?zL(n):FI(r)?e.compareRef(n):n}function OI(t,n,e){return Object(d["E"])(n.from)||Object(d["l"])('Lookup "from" parameter must be a string literal.'),e.getData(n.from).lookupRef(e,n.key)}function kI(t,n,e){var r=n[t.name];return t.array?(Object(d["x"])(r)||Object(d["l"])("Expected an array of sub-parameters. Instead: "+Object(d["T"])(r)),r.map(function(n){return MI(t,n,e)})):MI(t,r,e)}function MI(t,n,e){var r,i,a,o,u;for(o=0,u=t.params.length;o<u;++o){for(a in i=t.params[o],i.key)if(i.key[a]!==n[a]){i=null;break}if(i)break}return i||Object(d["l"])("Unsupported parameter: "+Object(d["T"])(n)),r=Object(d["m"])(xI(i,n,e),i.key),PL(e.add(Jz(r)))}function EI(t){return t&&t.expr}function CI(t){return t&&t.field}function jI(t){return"data"===t}function DI(t){return"expr"===t}function SI(t){return"field"===t}function FI(t){return"compare"===t}var TI=function(t,n,e){var r,i,a,o,u;return t?(r=t.facet)&&(n||Object(d["l"])("Only group marks can be faceted."),null!=r.field?o=u=BI(r,e):(t.data?u=PL(e.getData(t.data).aggregate):(a=_I(Object(d["m"])({type:"aggregate",groupby:Object(d["g"])(r.groupby)},r.aggregate),e),a.params.key=e.keyRef(r.groupby),a.params.pulse=BI(r,e),o=u=PL(e.add(a))),i=e.keyRef(r.groupby,!0))):o=PL(e.add(Nz(null,[{}]))),o||(o=BI(t,e)),{key:i,pulse:o,parent:u}};function BI(t,n){return t.$ref?t:t.data&&t.data.$ref?t.data:PL(n.getData(t.data).output)}function RI(t,n,e,r,i){this.scope=t,this.input=n,this.output=e,this.values=r,this.aggregate=i,this.index={}}RI.fromEntries=function(t,n){var e=n.length,r=1,i=n[0],a=n[e-1],o=n[e-2],u=null;for(i&&"load"===i.type&&(i=n[1]),t.add(n[0]);r<e;++r)n[r].params.pulse=PL(n[r-1]),t.add(n[r]),"aggregate"===n[r].type&&(u=n[r]);return new RI(t,i,o,a,u)};var NI=RI.prototype;function PI(t){return Object(d["E"])(t)?t:null}function LI(t,n,e){var r,i=HL(e.op,e.field);if(n.ops){for(var a=0,o=n.as.length;a<o;++a)if(n.as[a]===i)return}else n.ops=["count"],n.fields=[null],n.as=["count"];e.op&&(n.ops.push((r=e.op.signal)?t.signalRef(r):e.op),n.fields.push(t.fieldRef(e.field)),n.as.push(i))}function zI(t,n,e,r,i,a,o){var u,s,c=n[e]||(n[e]={}),l=YL(a),f=PI(i);if(null!=f&&(t=n.scope,f+=l?"|"+l:"",u=c[f]),!u){var h=a?{field:$L,pulse:n.countsRef(t,i,a)}:{field:t.fieldRef(i),pulse:PL(n.output)};l&&(h.sort=t.sortRef(a)),s=t.add(RL(r,void 0,h)),o&&(n.index[i]=s),u=PL(s),null!=f&&(c[f]=u)}return u}NI.countsRef=function(t,n,e){var r,i,a,o=this,u=o.counts||(o.counts={}),s=PI(n);return null!=s&&(t=o.scope,r=u[s]),r?e&&e.field&&LI(t,r.agg.params,e):(a={groupby:t.fieldRef(n,"key"),pulse:PL(o.output)},e&&e.field&&LI(t,a,e),i=t.add(Tz(a)),r=t.add(Nz({pulse:PL(i)})),r={agg:i,ref:PL(r)},null!=s&&(u[s]=r)),r.ref},NI.tuplesRef=function(){return PL(this.values)},NI.extentRef=function(t,n){return zI(t,this,"extent","extent",n,!1)},NI.domainRef=function(t,n){return zI(t,this,"domain","values",n,!1)},NI.valuesRef=function(t,n,e){return zI(t,this,"vals","values",n,e||!0)},NI.lookupRef=function(t,n){return zI(t,this,"lookup","tupleindex",n,!1)},NI.indataRef=function(t,n){return zI(t,this,"indata","tupleindex",n,!0,!0)};var $I=function(t,n,e){var r,i,a,o,u=t.from.facet,s=u.name,c=BI(u,n);u.name||Object(d["l"])("Facet must have a name: "+Object(d["T"])(u)),u.data||Object(d["l"])("Facet must reference a data set: "+Object(d["T"])(u)),u.field?o=n.add(Zz({field:n.fieldRef(u.field),pulse:c})):u.groupby?o=n.add(Uz({key:n.keyRef(u.groupby),group:PL(n.proxy(e.parent)),pulse:c})):Object(d["l"])("Facet must specify groupby or field: "+Object(d["T"])(u)),r=n.fork(),i=r.add(Nz()),a=r.add(r$({pulse:PL(i)})),r.addData(s,new RI(r,i,i,a)),r.addSignal("parent",null),o.params.subflow={$subflow:pq(t,r).toRuntime()}},UI=function(t,n,e){var r=n.add(Zz({pulse:e.pulse})),i=n.fork();i.add(r$()),i.addSignal("parent",null),r.params.subflow={$subflow:pq(t,i).toRuntime()}},II=function(t,n,e){var r,i,a=t.remove,o=t.insert,u=t.toggle,s=t.modify,c=t.values,l=n.add(NL());r="if("+t.trigger+',modify("'+e+'",'+[o,a,u,s,c].map(function(t){return null==t?"null":t}).join(",")+"),0)",i=TL(r,n),l.update=i.$expr,l.params=i.$params},qI=function(t,n){var e,r,i,a,o,u,s,c,l,f,h,p,v,g=mI(t),m=t.type===WU,y=t.from&&t.from.facet,b=t.layout||g===vU||g===pU,_=g===dU||b||y,x=t.overlap;i=TI(t.from,m,n),r=n.add(Lz({key:i.key||(t.key?zL(t.key):void 0),pulse:i.pulse,clean:!m})),l=PL(r),r=a=n.add(Nz({pulse:l})),r=n.add(Hz({markdef:yI(t),interactive:bI(t.interactive,n),clip:vI(t.clip,n),context:{$context:!0},groups:n.lookup(),parent:n.signals.parent?n.signalRef("parent"):null,index:n.markpath(),pulse:PL(r)})),f=PL(r),r=n.add(zz(BU(t.encode,t.type,g,t.style,n,{pulse:f}))),r.params.parent=n.encode(),t.transform&&t.transform.forEach(function(t){var e=_I(t,n);(e.metadata.generates||e.metadata.changes)&&Object(d["l"])("Mark transforms should not generate new data."),e.params.pulse=PL(r),n.add(r=e)}),t.sort&&(r=n.add(i$({sort:n.compareRef(t.sort,!0),pulse:PL(r)}))),h=PL(r),(y||b)&&(b=n.add(a$({layout:n.objectProperty(t.layout),legendMargin:n.config.legendMargin,mark:f,pulse:h})),p=PL(b)),o=n.add(Rz({mark:f,pulse:p||h})),v=PL(o),m&&(_&&(e=n.operators,e.pop(),b&&e.pop()),n.pushState(h,p||v,l),y?$I(t,n,i):_?UI(t,n,i):pq(t,n),n.popState(),_&&(b&&e.push(b),e.push(o))),x&&(v=WI(x,v,n)),u=n.add(n$({pulse:v})),s=n.add(r$({pulse:PL(u)},void 0,n.parent())),null!=t.name&&(c=t.name,n.addData(c,new RI(n,a,u,s)),t.on&&t.on.forEach(function(t){(t.insert||t.remove||t.toggle)&&Object(d["l"])("Marks only support modify triggers."),II(t,n,c)}))};function WI(t,n,e){var r,i=t.method,a=t.bound,o=t.separation,u={separation:XL(o)?e.signalRef(o.signal):o,method:XL(i)?e.signalRef(i.signal):i,pulse:n};return t.order&&(u.sort=e.compareRef({field:t.order})),a&&(r=a.tolerance,u.boundTolerance=XL(r)?e.signalRef(r.signal):+r,u.boundScale=e.scaleRef(a.scale),u.boundOrient=a.orient),PL(e.add(Xz(u)))}var YI=function(t,n){var e,r,i,a,o,u,s,c,l,f=n.config.legend,h=t.encode||{},p=h.legend||{},v=p.name||void 0,g=p.interactive,m=p.style,y=zU(t,f),b=X$.reduce(function(n,e){return n||t[e]},0);return b||Object(d["l"])("Missing valid scale for legend."),o=HI(t,n.scaleType(b)),u={orient:y("orient"),title:null!=t.title,type:o,vgrad:"symbol"!==o&&y.isVertical()},s=PL(n.add(Nz(null,[u]))),p=TU(GI(y,f),p,J$),e={enter:{x:{value:0},y:{value:0}}},c=PL(n.add(Wz(i={type:o,scale:n.scaleRef(b),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatSpecifier:n.property(t.format)}))),o===V$?(a=[XU(t,b,f,h.gradient),KU(t,f,h.labels,c)],i.count=i.count||n.signalRef(`max(2,2*floor((${QL(y.gradientLength())})/100))`)):o===G$?a=[JU(t,b,f,h.gradient,c),KU(t,f,h.labels,c)]:(r=rI(t,f),a=[eI(t,f,h,c,QL(r.columns))],i.size=XI(t,n,a[0].marks)),a=[tI(OU,null,null,s,g,e,a,r)],u.title&&a.push(pI(t,f,h.title,s)),l=tI(wU,m,v,s,g,p,a),t.zindex&&(l.zindex=t.zindex),qI(l,n)};function HI(t,n){var e=t.type||H$;return t.type||1!==VI(t)||!t.fill&&!t.stroke||(e=pv(n)?V$:gv(n)?G$:H$),e!==V$?e:gv(n)?G$:V$}function VI(t){return X$.reduce(function(n,e){return n+(t[e]?1:0)},0)}function GI(t,n){var e={enter:{},update:{}};return FU(e,{offset:t("offset"),padding:t("padding"),titlePadding:t("titlePadding"),cornerRadius:t("cornerRadius"),fill:t("fillColor"),stroke:t("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash}),e}function XI(t,n,e){var r=QL(JI("size",t,e)),i=QL(JI("strokeWidth",t,e)),a=QL(ZI(e[1].encode,n,q$));return TL(`max(ceil(sqrt(${r})+${i}),${a})`,n)}function JI(t,n,e){return n[t]?`scale("${n[t]}",datum)`:$U(t,e[0].encode)}function ZI(t,n,e){return $U("fontSize",t)||UU("fontSize",n,e)}var QI=function(t,n){t=Object(d["E"])(t)?{text:t}:t;var e,r,i=n.config.title,a=Object(d["m"])({},t.encode);return e=PL(n.add(Nz(null,[{}]))),a.name=t.name,a.interactive=t.interactive,r=KI(t,i,a,e),t.zindex&&(r.zindex=t.zindex),qI(r,n)};function KI(t,n,e,r){var i,a,o=zU(t,n),u={value:0},s=t.text,c=o("orient"),l=c===j$||c===C$?-1:1,f=c===C$||c===S$,h={group:f?"width":"height"};return i={enter:a={opacity:u},update:{opacity:{value:1},text:DU(s),orient:DU(c),anchor:DU(o("anchor")),align:{signal:qU},extent:{field:h}},exit:{opacity:u}},f?(a.angle=u,a.baseline={value:c===C$?S$:C$}):(a.angle={value:90*l},a.baseline={value:S$}),FU(i,{angle:o("angle"),baseline:o("baseline"),fill:o("color"),font:o("font"),fontSize:o("fontSize"),fontStyle:o("fontStyle"),fontWeight:o("fontWeight"),frame:o("frame"),limit:o("limit"),offset:o("offset")||0},{align:o("align")}),LU(GU,jU,t.style||Y$,null,r,i,e)}function tq(t,n){var e=[];t.transform&&t.transform.forEach(function(t){e.push(_I(t,n))}),t.on&&t.on.forEach(function(e){II(e,n,t.name)}),n.addDataPipeline(t.name,nq(t,n,e))}function nq(t,n,e){var r,i,a,o,u,s=[],c=null,l=!1,f=!1;for(t.values?JL(t.values)||JL(t.format)?(s.push(rq(n,t)),s.push(c=eq())):s.push(c=eq({$ingest:t.values,$format:t.format})):t.url?JL(t.url)||JL(t.format)?(s.push(rq(n,t)),s.push(c=eq())):s.push(c=eq({$request:t.url,$format:t.format})):t.source&&(c=r=Object(d["g"])(t.source).map(function(t){return PL(n.getData(t).output)}),s.push(null)),i=0,a=e.length;i<a;++i)o=e[i],u=o.metadata,c||u.source||s.push(c=eq()),s.push(o),u.generates&&(f=!0),u.modifies&&!f&&(l=!0),u.source?c=o:u.changes&&(c=null);return r&&(a=r.length-1,s[0]=t$({derive:l,pulse:a?r:r[0]}),(l||a)&&s.splice(1,0,eq())),c||s.push(eq()),s.push(r$({})),s}function eq(t){var n=Nz({},t);return n.metadata={source:!0},n}function rq(t,n){return Yz({url:n.url?t.property(n.url):void 0,values:n.values?t.property(n.values):void 0,format:t.objectProperty(n.format)})}var iq=function(t,n){var e=n.config,r=t.orient,i=r===C$||r===S$?e.axisX:e.axisY,a=e["axis"+r[0].toUpperCase()+r.slice(1)],o="band"===n.scaleType(t.scale)&&e.axisBand;return i||a||o?Object(d["m"])({},e.axis,i,a,o):e.axis},aq=function(t,n,e,r){var i,a,o,u,s,c,l=zU(t,n),f=t.orient,h={value:0};return i={enter:a={opacity:h},update:o={opacity:{value:1}},exit:{opacity:h}},FU(i,{stroke:l("domainColor"),strokeDash:l("domainDash"),strokeDashOffset:l("domainDashOffset"),strokeWidth:l("domainWidth"),strokeOpacity:l("domainOpacity")}),f===C$||f===S$?(u="x",c="y"):(u="y",c="x"),s=u+"2",a[c]=h,o[u]=a[u]=oq(t,0),o[s]=a[s]=oq(t,1),LU(HU,mU,null,null,r,i,e)};function oq(t,n){return{scale:t.scale,range:n}}var uq=function(t,n,e,r){var i,a,o,u,s,c,l,f,h,d=zU(t,n),p=t.orient,v=t.gridScale,g=p===j$||p===C$?1:-1,m=sq(t.offset,g),y={value:0};return i={enter:a={opacity:y},update:u={opacity:{value:1}},exit:o={opacity:y}},FU(i,{stroke:d("gridColor"),strokeDash:d("gridDash"),strokeDashOffset:d("gridDashOffset"),strokeOpacity:d("gridOpacity"),strokeWidth:d("gridWidth")}),s={scale:t.scale,field:I$,band:d("bandPosition"),round:d("tickRound"),extra:d("tickExtra"),offset:d("tickOffset")},p===C$||p===S$?(c="x",l="y",h="height"):(c="y",l="x",h="width"),f=l+"2",u[c]=a[c]=o[c]=s,v?(u[l]=a[l]={scale:v,range:0,mult:g,offset:m},u[f]=a[f]={scale:v,range:1,mult:g,offset:m}):(u[l]=a[l]={value:0,offset:m},u[f]=a[f]={signal:h,mult:g,offset:m}),LU(HU,yU,null,I$,r,i,e)};function sq(t,n){if(1===n);else if(Object(d["C"])(t)){var e=t=Object(d["m"])({},t);while(null!=e.mult){if(!Object(d["C"])(e.mult))return e.mult*=n,t;e=e.mult=Object(d["m"])({},e.mult)}e.mult=n}else t=n*(t||0);return t}var cq=function(t,n,e,r,i){var a,o,u,s,c,l,f=zU(t,n),h=t.orient,d=h===j$||h===C$?-1:1,p={value:0};return a={enter:o={opacity:p},update:s={opacity:{value:1}},exit:u={opacity:p}},FU(a,{stroke:f("tickColor"),strokeDash:f("tickDash"),strokeDashOffset:f("tickDashOffset"),strokeOpacity:f("tickOpacity"),strokeWidth:f("tickWidth")}),c=DU(i),c.mult=d,l={scale:t.scale,field:I$,band:f("bandPosition"),round:f("tickRound"),extra:f("tickExtra"),offset:f("tickOffset")},h===C$||h===S$?(s.y=o.y=p,s.y2=o.y2=c,s.x=o.x=u.x=l):(s.x=o.x=p,s.x2=o.x2=c,s.y=o.y=u.y=l),LU(HU,_U,null,I$,r,a,e)};function lq(t,n,e,r,i){return{signal:'flush(range("'+t+'"), scale("'+t+'", datum.value), '+n+","+e+","+r+","+i+")"}}var fq=function(t,n,e,r,i){var a,o,u,s,c,l,f,h,d,p,v=zU(t,n),g=t.orient,m=g===j$||g===C$?-1:1,y=g===C$||g===S$,b=t.scale,_=QL(v("labelFlush")),x=QL(v("labelFlushOffset")),w=0===_||!!_,A=v("labelAlign"),O=v("labelBaseline"),k={value:0};return u=DU(i),u.mult=m,u.offset=DU(v("labelPadding")||0),u.offset.mult=m,s={scale:b,field:I$,band:.5,offset:v("tickOffset")},y?(c=A||(w?lq(b,_,'"left"','"right"','"center"'):"center"),l=O||(g===C$?"bottom":"top"),f=!A):(c=A||(g===D$?"left":"right"),l=O||(w?lq(b,_,'"top"','"bottom"','"middle"'):"middle"),f=!O),f=f&&w&&x?lq(b,_,"-"+x,x,0):null,a={enter:o={opacity:k,x:y?s:u,y:y?u:s},update:{opacity:{value:1},text:{field:P$},x:o.x,y:o.y},exit:{opacity:k,x:o.x,y:o.y}},FU(a,{[y?"dx":"dy"]:f,align:c,baseline:l,angle:v("labelAngle"),fill:v("labelColor"),fillOpacity:v("labelOpacity"),font:v("labelFont"),fontSize:v("labelFontSize"),fontWeight:v("labelFontWeight"),fontStyle:v("labelFontStyle"),limit:v("labelLimit")}),h=v("labelBound"),d=v("labelOverlap"),p=v("labelSeparation"),t=LU(GU,bU,q$,I$,r,a,e),(d||h)&&(t.overlap={separation:p,method:d,order:"datum.index",bound:h?{scale:b,orient:g,tolerance:h}:null}),t},hq=function(t,n,e,r){var i,a,o,u,s=zU(t,n),c=t.orient,l=c===j$||c===C$?-1:1,f=c===C$||c===S$,h={value:0};return i={enter:a={opacity:h,anchor:DU(s("titleAnchor")),align:{signal:qU}},update:o=Object(d["m"])({},a,{opacity:{value:1},text:DU(t.title)}),exit:{opacity:h}},u={signal:`lerp(range("${t.scale}"), ${IU(0,1,.5)})`},f?(o.x=u,a.angle={value:0},a.baseline={value:c===C$?"bottom":"top"}):(o.y=u,a.angle={value:90*l},a.baseline={value:"bottom"}),FU(i,{angle:s("titleAngle"),baseline:s("titleBaseline"),fill:s("titleColor"),fillOpacity:s("titleOpacity"),font:s("titleFont"),fontSize:s("titleFontSize"),fontStyle:s("titleFontStyle"),fontWeight:s("titleFontWeight"),limit:s("titleLimit")},{align:s("titleAlign")}),!SU(i,"x",s("titleX"),"update")&&!f&&!PU("x",e)&&(i.enter.auto={value:!0}),!SU(i,"y",s("titleY"),"update")&&f&&!PU("y",e)&&(i.enter.auto={value:!0}),LU(GU,xU,W$,null,r,i,e)},dq=function(t,n){var e,r,i,a,o,u,s=iq(t,n),c=t.encode||{},l=c.axis||{},f=l.name||void 0,h=l.interactive,d=l.style,p=zU(t,s);return e={orient:t.orient,ticks:!!p("ticks"),labels:!!p("labels"),grid:!!p("grid"),domain:!!p("domain"),title:!!ZL(t.title,!1)},r=PL(n.add(Nz({},[e]))),l=TU({update:{range:{signal:`abs(span(range("${t.scale}")))`},offset:DU(ZL(t.offset,0)),position:DU(ZL(t.position,0)),titlePadding:DU(p("titlePadding")),minExtent:DU(p("minExtent")),maxExtent:DU(p("maxExtent"))}},c.axis,J$),i=PL(n.add(Bz({scale:n.scaleRef(t.scale),extra:n.property(p("tickExtra")),count:n.objectProperty(t.tickCount),values:n.objectProperty(t.values),minstep:n.property(t.tickMinStep),formatSpecifier:n.property(t.format)}))),u=[],e.grid&&u.push(uq(t,s,c.grid,i)),e.ticks&&(a=p("tickSize"),u.push(cq(t,s,c.ticks,i,a))),e.labels&&(a=e.ticks?a:0,u.push(fq(t,s,c.labels,i,a))),e.domain&&u.push(aq(t,s,c.domain,r)),e.title&&u.push(hq(t,s,c.title,r)),o=tI(gU,d,f,r,h,l,u),t.zindex&&(o.zindex=t.zindex),qI(o,n)},pq=function(t,n,e){var r=Object(d["g"])(t.signals),i=Object(d["g"])(t.scales);return e||r.forEach(function(t){FL(t,n)}),Object(d["g"])(t.projections).forEach(function(t){M$(t,n)}),i.forEach(function(t){s$(t,n)}),Object(d["g"])(t.data).forEach(function(t){tq(t,n)}),i.forEach(function(t){c$(t,n)}),r.forEach(function(t){Sz(t,n)}),Object(d["g"])(t.axes).forEach(function(t){dq(t,n)}),Object(d["g"])(t.marks).forEach(function(t){qI(t,n)}),Object(d["g"])(t.legends).forEach(function(t){YI(t,n)}),t.title&&QI(t.title,n),n.parseLambdas(),n},vq=Object(d["X"])(["width","height","padding","autosize"]);function gq(t,n){var e,r,i,a,o,u=n.config;return n.background=t.background||u.background,n.eventConfig=u.events,o=PL(n.root=n.add(NL())),n.addSignal("width",t.width||0),n.addSignal("height",t.height||0),n.addSignal("padding",ML(t.padding,u)),n.addSignal("autosize",kL(t.autosize,u)),Object(d["g"])(t.signals).forEach(function(t){vq[t.name]||FL(t,n)}),r=n.add(Nz()),i=TU({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},t.encode),i=n.add(zz(BU(i,WU,pU,t.style,n,{pulse:PL(r)}))),a=n.add(a$({layout:n.objectProperty(t.layout),legendMargin:u.legendMargin,autosize:n.signalRef("autosize"),mark:o,pulse:PL(i)})),n.operators.pop(),n.pushState(PL(i),PL(a),null),pq(t,n,!0),n.operators.push(a),e=n.add(Rz({mark:o,pulse:PL(a)})),e=n.add(n$({pulse:PL(e)})),e=n.add(r$({pulse:PL(e)})),n.addData("root",new RI(n,r,r,e)),n}function mq(t){this.config=t,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function yq(t){this.config=t.config,this.field=Object.create(t.field),this.signals=Object.create(t.signals),this.lambdas=Object.create(t.lambdas),this.scales=Object.create(t.scales),this.events=Object.create(t.events),this.data=Object.create(t.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++t._nextsub[0],this._nextsub=t._nextsub,this._parent=t._parent.slice(),this._encode=t._encode.slice(),this._lookup=t._lookup.slice(),this._markpath=t._markpath}var bq=mq.prototype=yq.prototype;function _q(t){return(Object(d["x"])(t)?xq:wq)(t)}function xq(t){for(var n,e="[",r=0,i=t.length;r<i;++r)n=t[r],e+=(r>0?",":"")+(Object(d["C"])(n)?n.signal||_q(n):Object(d["T"])(n));return e+"]"}function wq(t){var n,e,r="{",i=0;for(n in t)e=t[n],r+=(++i>1?",":"")+Object(d["T"])(n)+":"+(Object(d["C"])(e)?e.signal||_q(e):Object(d["T"])(e));return r+"}"}bq.fork=function(){return new yq(this)},bq.isSubscope=function(){return this._subid>0},bq.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},bq.id=function(){return(this._subid?this._subid+":":0)+this._id++},bq.add=function(t){return this.operators.push(t),t.id=this.id(),t.refs&&(t.refs.forEach(function(n){n.$ref=t.id}),t.refs=null),t},bq.proxy=function(t){var n=t instanceof BL?PL(t):t;return this.add(Kz({value:n}))},bq.addStream=function(t){return this.streams.push(t),t.id=this.id(),t},bq.addUpdate=function(t){return this.updates.push(t),t},bq.finish=function(){var t,n;for(t in this.root&&(this.root.root=!0),this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;function e(t,n,e){var r,i;t&&(r=t.data||(t.data={}),i=r[n]||(r[n]=[]),i.push(e))}for(t in this.data)for(var r in n=this.data[t],e(n.input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values"),n.index)e(n.index[r],t,"index:"+r);return this},bq.pushState=function(t,n,e){this._encode.push(PL(this.add(r$({pulse:t})))),this._parent.push(n),this._lookup.push(e?PL(this.proxy(e)):null),this._markpath.push(-1)},bq.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},bq.parent=function(){return Object(d["P"])(this._parent)},bq.encode=function(){return Object(d["P"])(this._encode)},bq.lookup=function(){return Object(d["P"])(this._lookup)},bq.markpath=function(){var t=this._markpath;return++t[t.length-1]},bq.fieldRef=function(t,n){if(Object(d["E"])(t))return zL(t,n);t.signal||Object(d["l"])("Unsupported field reference: "+Object(d["T"])(t));var e,r=t.signal,i=this.field[r];return i||(e={name:this.signalRef(r)},n&&(e.as=n),this.field[r]=i=PL(this.add(Iz(e)))),i},bq.compareRef=function(t,n){function e(t){return XL(t)?(i=!0,r.signalRef(t.signal)):t}var r=this,i=!1,a=Object(d["g"])(t.field).map(e),o=Object(d["g"])(t.order).map(e);return n&&a.push(LL),i?PL(this.add(Pz({fields:a,orders:o}))):UL(a,o)},bq.keyRef=function(t,n){function e(t){return XL(t)?(i=!0,PL(r[t.signal])):t}var r=this.signals,i=!1;return t=Object(d["g"])(t).map(e),i?PL(this.add(qz({fields:t,flat:n}))):IL(t,n)},bq.sortRef=function(t){if(!t)return t;var n=[HL(t.op,t.field),LL],e=t.order||qL;return e.signal?PL(this.add(Pz({fields:n,orders:[e=this.signalRef(e.signal),e]}))):UL(n,[e,e])},bq.event=function(t,n){var e=t+":"+n;if(!this.events[e]){var r=this.id();this.streams.push({id:r,source:t,type:n}),this.events[e]=r}return this.events[e]},bq.addSignal=function(t,n){this.signals.hasOwnProperty(t)&&Object(d["l"])("Duplicate signal name: "+Object(d["T"])(t));var e=n instanceof BL?n:this.add(NL(n));return this.signals[t]=e},bq.getSignal=function(t){return this.signals[t]||Object(d["l"])("Unrecognized signal name: "+Object(d["T"])(t)),this.signals[t]},bq.signalRef=function(t){return this.signals[t]?PL(this.signals[t]):(this.lambdas.hasOwnProperty(t)||(this.lambdas[t]=this.add(NL(null))),PL(this.lambdas[t]))},bq.parseLambdas=function(){for(var t=Object.keys(this.lambdas),n=0,e=t.length;n<e;++n){var r=t[n],i=TL(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},bq.property=function(t){return t&&t.signal?this.signalRef(t.signal):t},bq.objectProperty=function(t){return t&&Object(d["C"])(t)?this.signalRef(t.signal||_q(t)):t},bq.exprRef=function(t,n){var e={expr:TL(t,this)};return n&&(e.expr.$name=n),PL(this.add($z(e)))},bq.addBinding=function(t,n){this.bindings||Object(d["l"])("Nested signals do not support binding: "+Object(d["T"])(t)),this.bindings.push(Object(d["m"])({signal:t},n))},bq.addScaleProj=function(t,n){this.scales.hasOwnProperty(t)&&Object(d["l"])("Duplicate scale or projection name: "+Object(d["T"])(t)),this.scales[t]=this.add(n)},bq.addScale=function(t,n){this.addScaleProj(t,e$(n))},bq.addProjection=function(t,n){this.addScaleProj(t,Qz(n))},bq.getScale=function(t){return this.scales[t]||Object(d["l"])("Unrecognized scale name: "+Object(d["T"])(t)),this.scales[t]},bq.projectionRef=bq.scaleRef=function(t){return PL(this.getScale(t))},bq.projectionType=bq.scaleType=function(t){return this.getScale(t).params.type},bq.addData=function(t,n){return this.data.hasOwnProperty(t)&&Object(d["l"])("Duplicate data set name: "+Object(d["T"])(t)),this.data[t]=n},bq.getData=function(t){return this.data[t]||Object(d["l"])("Undefined data set name: "+Object(d["T"])(t)),this.data[t]},bq.addDataPipeline=function(t,n){return this.data.hasOwnProperty(t)&&Object(d["l"])("Duplicate data set name: "+Object(d["T"])(t)),this.addData(t,RI.fromEntries(this,n))};var Aq=function(t){var n=Sq();return(t||[]).forEach(function(t){var e,r,i;if(t)for(e in t)if("style"===e)for(e in i=n.style||(n.style={}),t.style)i[e]=Object(d["m"])(i[e]||{},t.style[e]);else r=t[e],n[e]=Object(d["C"])(r)&&!Object(d["x"])(r)?Object(d["m"])(Object(d["C"])(n[e])?n[e]:{},r):r}),n},Oq="sans-serif",kq=30,Mq=2,Eq="#4c78a8",Cq="#000",jq="#888",Dq="#ddd";function Sq(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:Eq},area:{fill:Eq},image:null,line:{stroke:Eq,strokeWidth:Mq},path:{stroke:Eq},rect:{fill:Eq},rule:{stroke:Cq},shape:{stroke:Eq},symbol:{fill:Eq,size:64},text:{fill:Cq,font:Oq,fontSize:11},style:{"guide-label":{fill:Cq,font:Oq,fontSize:10},"guide-title":{fill:Cq,font:Oq,fontSize:11,fontWeight:"bold"},"group-title":{fill:Cq,font:Oq,fontSize:13,fontWeight:"bold"},point:{size:kq,strokeWidth:Mq,shape:"circle"},circle:{size:kq,strokeWidth:Mq},square:{size:kq,strokeWidth:Mq,shape:"square"},cell:{fill:"transparent",stroke:Dq}},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:jq,grid:!1,gridWidth:1,gridColor:Dq,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:jq,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:Dq,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:jq,titleLimit:180,titleOrient:"top",titlePadding:5},title:{orient:"top",anchor:"middle",offset:4},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}var Fq=function(t,n){return Object(d["C"])(t)||Object(d["l"])("Input Vega specification must be an object."),gq(t,new mq(Aq([n,t.config]))).toRuntime()};e.d(n,"b",function(){return M}),e.d(n,"a",function(){return bL}),e.d(n,"c",function(){return Fq}),Object(d["m"])(ri,r,i,o,u,s,c,l,f,h)},"07e3":function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},"097d":function(t,n,e){"use strict";var r=e("5ca1"),i=e("8378"),a=e("7726"),o=e("ebd6"),u=e("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var n=o(this,i.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}})},"0d58":function(t,n,e){var r=e("ce10"),i=e("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0fc9":function(t,n,e){var r=e("3a38"),i=Math.max,a=Math.min;t.exports=function(t,n){return t=r(t),t<0?i(t+n,0):a(t,n)}},1173:function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},1495:function(t,n,e){var r=e("86cc"),i=e("cb7c"),a=e("0d58");t.exports=e("9e1e")?Object.defineProperties:function(t,n){i(t);var e,o=a(n),u=o.length,s=0;while(u>s)r.f(t,e=o[s++],n[e]);return t}},1654:function(t,n,e){"use strict";var r=e("71c1")(!0);e("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},1691:function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},1991:function(t,n,e){var r,i,a,o=e("9b43"),u=e("31f4"),s=e("fab2"),c=e("230e"),l=e("7726"),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var t=+this;if(m.hasOwnProperty(t)){var n=m[t];delete m[t],n()}},_=function(t){b.call(t.data)};h&&d||(h=function(t){var n=[],e=1;while(arguments.length>e)n.push(arguments[e++]);return m[++g]=function(){u("function"==typeof t?t:Function(t),n)},r(g),g},d=function(t){delete m[t]},"process"==e("2d95")(f)?r=function(t){f.nextTick(o(b,t,1))}:v&&v.now?r=function(t){v.now(o(b,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(t){s.appendChild(c("script"))[y]=function(){s.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:h,clear:d}},"1bc3":function(t,n,e){var r=e("f772");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,n,e){var r=e("f772"),i=e("e53d").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"1fa8":function(t,n,e){var r=e("cb7c");t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},"1fb5":function(t,n,e){"use strict";n.byteLength=l,n.toByteArray=h,n.fromByteArray=v;for(var r=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=o.length;u<s;++u)r[u]=o[u],i[o.charCodeAt(u)]=u;function c(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");-1===e&&(e=n);var r=e===n?0:4-e%4;return[e,r]}function l(t){var n=c(t),e=n[0],r=n[1];return 3*(e+r)/4-r}function f(t,n,e){return 3*(n+e)/4-e}function h(t){for(var n,e=c(t),r=e[0],o=e[1],u=new a(f(t,r,o)),s=0,l=o>0?r-4:r,h=0;h<l;h+=4)n=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],u[s++]=n>>16&255,u[s++]=n>>8&255,u[s++]=255&n;return 2===o&&(n=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,u[s++]=255&n),1===o&&(n=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,u[s++]=n>>8&255,u[s++]=255&n),u}function d(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function p(t,n,e){for(var r,i=[],a=n;a<e;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),i.push(d(r));return i.join("")}function v(t){for(var n,e=t.length,i=e%3,a=[],o=16383,u=0,s=e-i;u<s;u+=o)a.push(p(t,u,u+o>s?s:u+o));return 1===i?(n=t[e-1],a.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(t[e-2]<<8)+t[e-1],a.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"230e":function(t,n,e){var r=e("d3f4"),i=e("7726").document,a=r(i)&&r(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},"23c6":function(t,n,e){var r=e("2d95"),i=e("2b4c")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=o(n=Object(t),i))?e:a?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},"241e":function(t,n,e){var r=e("25eb");t.exports=function(t){return Object(r(t))}},"24c5":function(t,n,e){"use strict";var r,i,a,o,u=e("b8e3"),s=e("e53d"),c=e("d864"),l=e("40c3"),f=e("63b6"),h=e("f772"),d=e("79aa"),p=e("1173"),v=e("a22a"),g=e("f201"),m=e("4178").set,y=e("aba2")(),b=e("656e"),_=e("4439"),x=e("bc13"),w=e("cd78"),A="Promise",O=s.TypeError,k=s.process,M=k&&k.versions,E=M&&M.v8||"",C=s[A],j="process"==l(k),D=function(){},S=i=b.f,F=!!function(){try{var t=C.resolve(1),n=(t.constructor={})[e("5168")("species")]=function(t){t(D,D)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof n&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),T=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},B=function(t,n){if(!t._n){t._n=!0;var e=t._c;y(function(){var r=t._v,i=1==t._s,a=0,o=function(n){var e,a,o,u=i?n.ok:n.fail,s=n.resolve,c=n.reject,l=n.domain;try{u?(i||(2==t._h&&P(t),t._h=1),!0===u?e=r:(l&&l.enter(),e=u(r),l&&(l.exit(),o=!0)),e===n.promise?c(O("Promise-chain cycle")):(a=T(e))?a.call(e,s,c):s(e)):c(r)}catch(f){l&&!o&&l.exit(),c(f)}};while(e.length>a)o(e[a++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){m.call(s,function(){var n,e,r,i=t._v,a=N(t);if(a&&(n=_(function(){j?k.emit("unhandledRejection",i,t):(e=s.onunhandledrejection)?e({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=j||N(t)?2:1),t._a=void 0,a&&n.e)throw n.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(s,function(){var n;j?k.emit("rejectionHandled",t):(n=s.onrejectionhandled)&&n({promise:t,reason:t._v})})},L=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),B(n,!0))},z=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw O("Promise can't be resolved itself");(n=T(t))?y(function(){var r={_w:e,_d:!1};try{n.call(t,c(z,r,1),c(L,r,1))}catch(i){L.call(r,i)}}):(e._v=t,e._s=1,B(e,!1))}catch(r){L.call({_w:e,_d:!1},r)}}};F||(C=function(t){p(this,C,A,"_h"),d(t),r.call(this);try{t(c(z,this,1),c(L,this,1))}catch(n){L.call(this,n)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("5c95")(C.prototype,{then:function(t,n){var e=S(g(this,C));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=j?k.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&B(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(L,t,1)},b.f=S=function(t){return t===C||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!F,{Promise:C}),e("45f2")(C,A),e("4c95")(A),o=e("584a")[A],f(f.S+f.F*!F,A,{reject:function(t){var n=S(this),e=n.reject;return e(t),n.promise}}),f(f.S+f.F*(u||!F),A,{resolve:function(t){return w(u&&this===o?C:this,t)}}),f(f.S+f.F*!(F&&e("4ee1")(function(t){C.all(t)["catch"](D)})),A,{all:function(t){var n=this,e=S(n),r=e.resolve,i=e.reject,a=_(function(){var e=[],a=0,o=1;v(t,!1,function(t){var u=a++,s=!1;e.push(void 0),o++,n.resolve(t).then(function(t){s||(s=!0,e[u]=t,--o||r(e))},i)}),--o||r(e)});return a.e&&i(a.v),e.promise},race:function(t){var n=this,e=S(n),r=e.reject,i=_(function(){v(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return i.e&&r(i.v),e.promise}})},"25eb":function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,n){n.f=Object.getOwnPropertySymbols},"276f":function(t,n,e){"use strict";var r=function(t,n,e){return t.fields=n||[],t.fname=e,t};function i(t){return null==t?null:t.fname}function a(t){return null==t?null:t.fields}var o=function(t){throw Error(t)},u=function(t){var n,e,r,i=[],a=null,u=0,s=t.length,c="";function l(){i.push(c+t.substring(n,e)),c="",n=e+1}for(t+="",n=e=0;e<s;++e)if(r=t[e],"\\"===r)c+=t.substring(n,e),n=++e;else if(r===a)l(),a=null,u=-1;else{if(a)continue;n===u&&'"'===r?(n=e+1,a=r):n===u&&"'"===r?(n=e+1,a=r):"."!==r||u?"["===r?(e>n&&l(),u=n=e+1):"]"===r&&(u||o("Access path missing open bracket: "+t),u>0&&l(),u=0,n=e+1):e>n?l():n=e+1}return u&&o("Access path missing closing bracket: "+t),a&&o("Access path missing closing quote: "+t),e>n&&(e++,l()),i},s=Array.isArray,c=function(t){return t===Object(t)},l=function(t){return"string"===typeof t};function f(t){return s(t)?"["+t.map(f)+"]":c(t)||l(t)?JSON.stringify(t).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):t}var h=function(t,n){var e=u(t),i="return _["+e.map(f).join("][")+"];";return r(Function("_",i),[t=1===e.length?e[0]:t],n||t)},d=[],p=h("id"),v=r(function(t){return t},d,"identity"),g=r(function(){return 0},d,"zero"),m=r(function(){return 1},d,"one"),y=r(function(){return!0},d,"true"),b=r(function(){return!1},d,"false");function _(t,n,e){var r=[n].concat([].slice.call(e));console[t].apply(console,r)}var x=0,w=1,A=2,O=3,k=4,M=function(t){var n=t||x;return{level:function(t){return arguments.length?(n=+t,this):n},error:function(){return n>=w&&_("error","ERROR",arguments),this},warn:function(){return n>=A&&_("warn","WARN",arguments),this},info:function(){return n>=O&&_("log","INFO",arguments),this},debug:function(){return n>=k&&_("log","DEBUG",arguments),this}}},E=function(t){return t[t.length-1]},C=function(t){return null==t||""===t?null:+t};function j(t){return function(n){return t*Math.exp(n)}}function D(t){return function(n){return Math.log(t*n)}}function S(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function F(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function T(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function B(t,n,e,r){var i=e(t[0]),a=e(E(t)),o=(a-i)*n;return[r(i-o),r(a-o)]}function R(t,n){return B(t,n,C,v)}function N(t,n){var e=Math.sign(t[0]);return B(t,n,D(e),j(e))}function P(t,n,e){return B(t,n,T(e),T(1/e))}function L(t,n,e){return B(t,n,S(e),F(e))}function z(t,n,e,r,i){var a=r(t[0]),o=r(E(t)),u=null!=n?r(n):(a+o)/2;return[i(u+(a-u)*e),i(u+(o-u)*e)]}function $(t,n,e){return z(t,n,e,C,v)}function U(t,n,e){var r=Math.sign(t[0]);return z(t,n,e,D(r),j(r))}function I(t,n,e,r){return z(t,n,e,T(r),T(1/r))}function q(t,n,e,r){return z(t,n,e,S(r),F(r))}function W(t){return 1+~~(new Date(t).getMonth()/3)}function Y(t){return 1+~~(new Date(t).getUTCMonth()/3)}var H=function(t){return null!=t?s(t)?t:[t]:[]},V=function(t,n,e){var r,i=t[0],a=t[1];return a<i&&(r=a,a=i,i=r),r=a-i,r>=e-n?[n,e]:[i=Math.min(Math.max(i,n),e-r),i+r]},G=function(t){return"function"===typeof t},X=function(t,n){var e,i,o,s,c,l,h,d,p,v=[],g=(t=H(t)).map(function(t,n){return null==t?null:(v.push(n),G(t)?t:u(t).map(f).join("]["))}),m=v.length-1,y=H(n),b="var u,v;return ";if(m<0)return null;for(i=0;i<=m;++i)e=v[i],o=g[e],G(o)?(l="f"+e,s="(u=this."+l+"(a))",c="(v=this."+l+"(b))",(h=h||{})[l]=o):(s="(u=a["+o+"])",c="(v=b["+o+"])"),l="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==y[e]?(p=1,d=-1):(p=-1,d=1),b+="("+s+"<"+c+"||u==null)&&v!=null?"+d+":(u>v||v==null)&&u!=null?"+p+":"+l+"!==u&&v===v?"+d+":v!==v&&u===u?"+p+(e<m?":":":0");return o=Function("a","b",b+";"),h&&(o=o.bind(h)),t=t.reduce(function(t,n){return G(n)?(a(n)||[]).forEach(function(n){t[n]=1}):null!=n&&(t[n+""]=1),t},{}),r(o,Object.keys(t))},J=function(t){return G(t)?t:function(){return t}},Z=function(t,n){var e,r;function i(){n(r),e=r=null}return function(n){r=n,e&&clearTimeout(e),e=setTimeout(i,t)}},Q=function(t){for(var n,e,r=1,i=arguments.length;r<i;++r)for(e in n=arguments[r],n)t[e]=n[e];return t},K=function(t,n){var e,r,i,a,o=0;if(t&&(e=t.length))if(null==n){for(r=t[o];null==r||r!==r;r=t[++o]);for(i=a=r;o<e;++o)r=t[o],null!=r&&(r<i&&(i=r),r>a&&(a=r))}else{for(r=n(t[o]);null==r||r!==r;r=n(t[++o]));for(i=a=r;o<e;++o)r=n(t[o]),null!=r&&(r<i&&(i=r),r>a&&(a=r))}return[i,a]},tt=function(t,n){var e,r,i,a,o,u=-1,s=t.length;if(null==n){while(++u<s)if(r=t[u],null!=r&&r>=r){e=i=r;break}a=o=u;while(++u<s)r=t[u],null!=r&&(e>r&&(e=r,a=u),i<r&&(i=r,o=u))}else{while(++u<s)if(r=n(t[u],u,t),null!=r&&r>=r){e=i=r;break}a=o=u;while(++u<s)r=n(t[u],u,t),null!=r&&(e>r&&(e=r,a=u),i<r&&(i=r,o=u))}return[a,o]},nt={},et=function(t){var n,e,r={};function i(t){return r.hasOwnProperty(t)&&r[t]!==nt}return n={size:0,empty:0,object:r,has:i,get:function(t){return i(t)?r[t]:void 0},set:function(t,e){return i(t)||(++n.size,r[t]===nt&&--n.empty),r[t]=e,this},delete:function(t){return i(t)&&(--n.size,++n.empty,r[t]=nt),this},clear:function(){n.size=n.empty=0,n.object=r={}},test:function(t){return arguments.length?(e=t,n):e},clean:function(){var t,i,a={},o=0;for(t in r)i=r[t],i===nt||e&&e(i)||(a[t]=i,++o);n.size=o,n.empty=0,n.object=r=a}},t&&Object.keys(t).forEach(function(e){n.set(e,t[e])}),n},rt=function(t,n,e,r,i,a){if(!e&&0!==e)return a;var o,u,s=t[0],c=E(t),l=+e;return c<s&&(o=s,s=c,c=o),o=Math.abs(n-s),u=Math.abs(c-n),o<u&&o<=l?r:u<=l?i:a},it=function(t,n){var e=t.prototype=Object.create(n.prototype);return e.constructor=t,e},at=function(t,n,e,r){var i,a=n[0],o=n[n.length-1];return a>o&&(i=a,a=o,o=i),e=void 0===e||e,r=void 0===r||r,(e?a<=t:a<t)&&(r?t<=o:t<o)},ot=function(t){return"boolean"===typeof t},ut=function(t){return"[object Date]"===Object.prototype.toString.call(t)},st=function(t){return"number"===typeof t},ct=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},lt=function(t,n){t&&(t=n?H(t).map(function(t){return t.replace(/\\(.)/g,"$1")}):H(t));var e=t&&t.length?Function("_","return ''+"+t.map(function(t){return"_["+(n?f(t):u(t).map(f).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return r(e,t,"key")},ft=function(t,n){const e=t[0],r=E(t),i=+n;return i?1===i?r:e+i*(r-e):e},ht=function(t,n,e,r){var i=n.length,a=e.length;if(!a)return n;if(!i)return e;for(var o=r||new n.constructor(i+a),u=0,s=0,c=0;u<i&&s<a;++c)o[c]=t(n[u],e[s])>0?e[s++]:n[u++];for(;u<i;++u,++c)o[c]=n[u];for(;s<a;++s,++c)o[c]=e[s];return o},dt=function(t,n){var e="";while(--n>=0)e+=t;return e},pt=function(t,n,e,r){var i=e||" ",a=t+"",o=n-a.length;return o<=0?a:"left"===r?dt(i,o)+a:"center"===r?dt(i,~~(o/2))+a+dt(i,Math.ceil(o/2)):a+dt(i,o)},vt=function(t){return E(t)-t[0]||0},gt=function(t){return null==t||""===t?null:!(!t||"false"===t||"0"===t)&&!!t};function mt(t){return st(t)?t:ut(t)?t:Date.parse(t)}var yt=function(t,n){return n=n||mt,null==t||""===t?null:n(t)},bt=function(t){return null==t||""===t?null:t+""},_t=function(t){for(var n={},e=0,r=t.length;e<r;++e)n[t[e]]=!0;return n},xt=function(t,n,e,r){var i=null!=r?r:"…",a=t+"",o=a.length,u=Math.max(0,n-i.length);return o<=n?a:"left"===e?i+a.slice(o-u):"center"===e?a.slice(0,Math.ceil(u/2))+i+a.slice(o-~~(u/2)):a.slice(0,u)+i},wt=function(t,n,e){if(t){var r,i=0,a=t.length;if(n)for(;i<a;++i)(r=n(t[i]))&&e(r,i,t);else t.forEach(e)}};e.d(n,"d",function(){return r}),e.d(n,"f",function(){return i}),e.d(n,"e",function(){return a}),e.d(n,"t",function(){return p}),e.d(n,"u",function(){return v}),e.d(n,"db",function(){return g}),e.d(n,"J",function(){return m}),e.d(n,"ab",function(){return y}),e.d(n,"p",function(){return b}),e.d(n,"H",function(){return M}),e.d(n,"b",function(){return w}),e.d(n,"c",function(){return O}),e.d(n,"a",function(){return k}),e.d(n,"L",function(){return R}),e.d(n,"M",function(){return N}),e.d(n,"N",function(){return P}),e.d(n,"O",function(){return L}),e.d(n,"eb",function(){return $}),e.d(n,"fb",function(){return U}),e.d(n,"gb",function(){return I}),e.d(n,"hb",function(){return q}),e.d(n,"Q",function(){return W}),e.d(n,"bb",function(){return Y}),e.d(n,"g",function(){return H}),e.d(n,"h",function(){return V}),e.d(n,"i",function(){return X}),e.d(n,"j",function(){return J}),e.d(n,"k",function(){return Z}),e.d(n,"l",function(){return o}),e.d(n,"m",function(){return Q}),e.d(n,"n",function(){return K}),e.d(n,"o",function(){return tt}),e.d(n,"q",function(){return et}),e.d(n,"r",function(){return h}),e.d(n,"s",function(){return rt}),e.d(n,"v",function(){return it}),e.d(n,"w",function(){return at}),e.d(n,"x",function(){return s}),e.d(n,"y",function(){return ot}),e.d(n,"z",function(){return ut}),e.d(n,"A",function(){return G}),e.d(n,"B",function(){return st}),e.d(n,"C",function(){return c}),e.d(n,"D",function(){return ct}),e.d(n,"E",function(){return l}),e.d(n,"F",function(){return lt}),e.d(n,"G",function(){return ft}),e.d(n,"I",function(){return ht}),e.d(n,"K",function(){return pt}),e.d(n,"P",function(){return E}),e.d(n,"R",function(){return vt}),e.d(n,"S",function(){return u}),e.d(n,"T",function(){return f}),e.d(n,"U",function(){return gt}),e.d(n,"V",function(){return yt}),e.d(n,"W",function(){return C}),e.d(n,"Y",function(){return bt}),e.d(n,"X",function(){return _t}),e.d(n,"Z",function(){return xt}),e.d(n,"cb",function(){return wt})},"27ee":function(t,n,e){var r=e("23c6"),i=e("2b4c")("iterator"),a=e("84f2");t.exports=e("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},2877:function(t,n,e){"use strict";function r(t,n,e,r,i,a,o,u){var s,c="function"===typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=e,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=s):i&&(s=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var l=c.render;c.render=function(t,n){return s.call(n),l(t,n)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,s):[s]}return{exports:t,options:c}}e.d(n,"a",function(){return r})},"294c":function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},"2aba":function(t,n,e){var r=e("7726"),i=e("32e9"),a=e("69a8"),o=e("ca5a")("src"),u=e("fa5b"),s="toString",c=(""+u).split(s);e("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,n,e,u){var s="function"==typeof e;s&&(a(e,"name")||i(e,"name",n)),t[n]!==e&&(s&&(a(e,o)||i(e,o,t[n]?""+t[n]:c.join(String(n)))),t===r?t[n]=e:u?t[n]?t[n]=e:i(t,n,e):(delete t[n],i(t,n,e)))})(Function.prototype,s,function(){return"function"==typeof this&&this[o]||u.call(this)})},"2aeb":function(t,n,e){var r=e("cb7c"),i=e("1495"),a=e("e11e"),o=e("613b")("IE_PROTO"),u=function(){},s="prototype",c=function(){var t,n=e("230e")("iframe"),r=a.length,i="<",o=">";n.style.display="none",e("fab2").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),c=t.F;while(r--)delete c[s][a[r]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(u[s]=r(t),e=new u,u[s]=null,e[o]=t):e=c(),void 0===n?e:i(e,n)}},"2b0e":function(t,n,e){"use strict";(function(t){
/*!
 * Vue.js v2.6.7
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var e=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function a(t){return!0===t}function o(t){return!1===t}function u(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function s(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function f(t){return"[object RegExp]"===c.call(t)}function h(t){var n=parseFloat(String(t));return n>=0&&Math.floor(n)===n&&isFinite(t)}function d(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function v(t){var n=parseFloat(t);return isNaN(n)?t:n}function g(t,n){for(var e=Object.create(null),r=t.split(","),i=0;i<r.length;i++)e[r[i]]=!0;return n?function(t){return e[t.toLowerCase()]}:function(t){return e[t]}}g("slot,component",!0);var m=g("key,ref,slot,slot-scope,is");function y(t,n){if(t.length){var e=t.indexOf(n);if(e>-1)return t.splice(e,1)}}var b=Object.prototype.hasOwnProperty;function _(t,n){return b.call(t,n)}function x(t){var n=Object.create(null);return function(e){var r=n[e];return r||(n[e]=t(e))}}var w=/-(\w)/g,A=x(function(t){return t.replace(w,function(t,n){return n?n.toUpperCase():""})}),O=x(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),k=/\B([A-Z])/g,M=x(function(t){return t.replace(k,"-$1").toLowerCase()});function E(t,n){function e(e){var r=arguments.length;return r?r>1?t.apply(n,arguments):t.call(n,e):t.call(n)}return e._length=t.length,e}function C(t,n){return t.bind(n)}var j=Function.prototype.bind?C:E;function D(t,n){n=n||0;var e=t.length-n,r=new Array(e);while(e--)r[e]=t[e+n];return r}function S(t,n){for(var e in n)t[e]=n[e];return t}function F(t){for(var n={},e=0;e<t.length;e++)t[e]&&S(n,t[e]);return n}function T(t,n,e){}var B=function(t,n,e){return!1},R=function(t){return t};function N(t,n){if(t===n)return!0;var e=s(t),r=s(n);if(!e||!r)return!e&&!r&&String(t)===String(n);try{var i=Array.isArray(t),a=Array.isArray(n);if(i&&a)return t.length===n.length&&t.every(function(t,e){return N(t,n[e])});if(t instanceof Date&&n instanceof Date)return t.getTime()===n.getTime();if(i||a)return!1;var o=Object.keys(t),u=Object.keys(n);return o.length===u.length&&o.every(function(e){return N(t[e],n[e])})}catch(c){return!1}}function P(t,n){for(var e=0;e<t.length;e++)if(N(t[e],n))return e;return-1}function L(t){var n=!1;return function(){n||(n=!0,t.apply(this,arguments))}}var z="data-server-rendered",$=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],I={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:B,isReservedAttr:B,isUnknownElement:B,getTagNamespace:T,parsePlatformTagName:R,mustUseProp:B,async:!0,_lifecycleHooks:U},q="a-zA-Z·À-ÖØ-öø-ͽͿ-῿‌-‍‿-⁀⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�";function W(t){var n=(t+"").charCodeAt(0);return 36===n||95===n}function Y(t,n,e,r){Object.defineProperty(t,n,{value:e,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^"+q+".$_\\d]");function V(t){if(!H.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}var G,X="__proto__"in{},J="undefined"!==typeof window,Z="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=Z&&WXEnvironment.platform.toLowerCase(),K=J&&window.navigator.userAgent.toLowerCase(),tt=K&&/msie|trident/.test(K),nt=K&&K.indexOf("msie 9.0")>0,et=K&&K.indexOf("edge/")>0,rt=(K&&K.indexOf("android"),K&&/iphone|ipad|ipod|ios/.test(K)||"ios"===Q),it=(K&&/chrome\/\d+/.test(K),K&&/phantomjs/.test(K),K&&K.match(/firefox\/(\d+)/)),at={}.watch,ot=!1;if(J)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,ut)}catch(wo){}var st=function(){return void 0===G&&(G=!J&&!Z&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),G},ct=J&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var ft,ht="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);ft="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=T,pt=0,vt=function(){this.id=pt++,this.subs=[]};vt.prototype.addSub=function(t){this.subs.push(t)},vt.prototype.removeSub=function(t){y(this.subs,t)},vt.prototype.depend=function(){vt.target&&vt.target.addDep(this)},vt.prototype.notify=function(){var t=this.subs.slice();for(var n=0,e=t.length;n<e;n++)t[n].update()},vt.target=null;var gt=[];function mt(t){gt.push(t),vt.target=t}function yt(){gt.pop(),vt.target=gt[gt.length-1]}var bt=function(t,n,e,r,i,a,o,u){this.tag=t,this.data=n,this.children=e,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=u,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,_t);var xt=function(t){void 0===t&&(t="");var n=new bt;return n.text=t,n.isComment=!0,n};function wt(t){return new bt(void 0,void 0,void 0,String(t))}function At(t){var n=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.fnContext=t.fnContext,n.fnOptions=t.fnOptions,n.fnScopeId=t.fnScopeId,n.asyncMeta=t.asyncMeta,n.isCloned=!0,n}var Ot=Array.prototype,kt=Object.create(Ot),Mt=["push","pop","shift","unshift","splice","sort","reverse"];Mt.forEach(function(t){var n=Ot[t];Y(kt,t,function(){var e=[],r=arguments.length;while(r--)e[r]=arguments[r];var i,a=n.apply(this,e),o=this.__ob__;switch(t){case"push":case"unshift":i=e;break;case"splice":i=e.slice(2);break}return i&&o.observeArray(i),o.dep.notify(),a})});var Et=Object.getOwnPropertyNames(kt),Ct=!0;function jt(t){Ct=t}var Dt=function(t){this.value=t,this.dep=new vt,this.vmCount=0,Y(t,"__ob__",this),Array.isArray(t)?(X?St(t,kt):Ft(t,kt,Et),this.observeArray(t)):this.walk(t)};function St(t,n){t.__proto__=n}function Ft(t,n,e){for(var r=0,i=e.length;r<i;r++){var a=e[r];Y(t,a,n[a])}}function Tt(t,n){var e;if(s(t)&&!(t instanceof bt))return _(t,"__ob__")&&t.__ob__ instanceof Dt?e=t.__ob__:Ct&&!st()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(e=new Dt(t)),n&&e&&e.vmCount++,e}function Bt(t,n,e,r,i){var a=new vt,o=Object.getOwnPropertyDescriptor(t,n);if(!o||!1!==o.configurable){var u=o&&o.get,s=o&&o.set;u&&!s||2!==arguments.length||(e=t[n]);var c=!i&&Tt(e);Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){var n=u?u.call(t):e;return vt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(n)&&Pt(n))),n},set:function(n){var r=u?u.call(t):e;n===r||n!==n&&r!==r||u&&!s||(s?s.call(t,n):e=n,c=!i&&Tt(n),a.notify())}})}}function Rt(t,n,e){if(Array.isArray(t)&&h(n))return t.length=Math.max(t.length,n),t.splice(n,1,e),e;if(n in t&&!(n in Object.prototype))return t[n]=e,e;var r=t.__ob__;return t._isVue||r&&r.vmCount?e:r?(Bt(r.value,n,e),r.dep.notify(),e):(t[n]=e,e)}function Nt(t,n){if(Array.isArray(t)&&h(n))t.splice(n,1);else{var e=t.__ob__;t._isVue||e&&e.vmCount||_(t,n)&&(delete t[n],e&&e.dep.notify())}}function Pt(t){for(var n=void 0,e=0,r=t.length;e<r;e++)n=t[e],n&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&Pt(n)}Dt.prototype.walk=function(t){for(var n=Object.keys(t),e=0;e<n.length;e++)Bt(t,n[e])},Dt.prototype.observeArray=function(t){for(var n=0,e=t.length;n<e;n++)Tt(t[n])};var Lt=I.optionMergeStrategies;function zt(t,n){if(!n)return t;for(var e,r,i,a=ht?Reflect.ownKeys(n):Object.keys(n),o=0;o<a.length;o++)e=a[o],"__ob__"!==e&&(r=t[e],i=n[e],_(t,e)?r!==i&&l(r)&&l(i)&&zt(r,i):Rt(t,e,i));return t}function $t(t,n,e){return e?function(){var r="function"===typeof n?n.call(e,e):n,i="function"===typeof t?t.call(e,e):t;return r?zt(r,i):i}:n?t?function(){return zt("function"===typeof n?n.call(this,this):n,"function"===typeof t?t.call(this,this):t)}:n:t}function Ut(t,n){var e=n?t?t.concat(n):Array.isArray(n)?n:[n]:t;return e?It(e):e}function It(t){for(var n=[],e=0;e<t.length;e++)-1===n.indexOf(t[e])&&n.push(t[e]);return n}function qt(t,n,e,r){var i=Object.create(t||null);return n?S(i,n):i}Lt.data=function(t,n,e){return e?$t(t,n,e):n&&"function"!==typeof n?t:$t(t,n)},U.forEach(function(t){Lt[t]=Ut}),$.forEach(function(t){Lt[t+"s"]=qt}),Lt.watch=function(t,n,e,r){if(t===at&&(t=void 0),n===at&&(n=void 0),!n)return Object.create(t||null);if(!t)return n;var i={};for(var a in S(i,t),n){var o=i[a],u=n[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(u):Array.isArray(u)?u:[u]}return i},Lt.props=Lt.methods=Lt.inject=Lt.computed=function(t,n,e,r){if(!t)return n;var i=Object.create(null);return S(i,t),n&&S(i,n),i},Lt.provide=$t;var Wt=function(t,n){return void 0===n?t:n};function Yt(t,n){var e=t.props;if(e){var r,i,a,o={};if(Array.isArray(e)){r=e.length;while(r--)i=e[r],"string"===typeof i&&(a=A(i),o[a]={type:null})}else if(l(e))for(var u in e)i=e[u],a=A(u),o[a]=l(i)?i:{type:i};else 0;t.props=o}}function Ht(t,n){var e=t.inject;if(e){var r=t.inject={};if(Array.isArray(e))for(var i=0;i<e.length;i++)r[e[i]]={from:e[i]};else if(l(e))for(var a in e){var o=e[a];r[a]=l(o)?S({from:a},o):{from:o}}else 0}}function Vt(t){var n=t.directives;if(n)for(var e in n){var r=n[e];"function"===typeof r&&(n[e]={bind:r,update:r})}}function Gt(t,n,e){if("function"===typeof n&&(n=n.options),Yt(n,e),Ht(n,e),Vt(n),!n._base&&(n.extends&&(t=Gt(t,n.extends,e)),n.mixins))for(var r=0,i=n.mixins.length;r<i;r++)t=Gt(t,n.mixins[r],e);var a,o={};for(a in t)u(a);for(a in n)_(t,a)||u(a);function u(r){var i=Lt[r]||Wt;o[r]=i(t[r],n[r],e,r)}return o}function Xt(t,n,e,r){if("string"===typeof e){var i=t[n];if(_(i,e))return i[e];var a=A(e);if(_(i,a))return i[a];var o=O(a);if(_(i,o))return i[o];var u=i[e]||i[a]||i[o];return u}}function Jt(t,n,e,r){var i=n[t],a=!_(e,t),o=e[t],u=tn(Boolean,i.type);if(u>-1)if(a&&!_(i,"default"))o=!1;else if(""===o||o===M(t)){var s=tn(String,i.type);(s<0||u<s)&&(o=!0)}if(void 0===o){o=Zt(r,i,t);var c=Ct;jt(!0),Tt(o),jt(c)}return o}function Zt(t,n,e){if(_(n,"default")){var r=n.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[e]&&void 0!==t._props[e]?t._props[e]:"function"===typeof r&&"Function"!==Qt(n.type)?r.call(t):r}}function Qt(t){var n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:""}function Kt(t,n){return Qt(t)===Qt(n)}function tn(t,n){if(!Array.isArray(n))return Kt(n,t)?0:-1;for(var e=0,r=n.length;e<r;e++)if(Kt(n[e],t))return e;return-1}function nn(t,n,e){mt();try{if(n){var r=n;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{var o=!1===i[a].call(r,t,n,e);if(o)return}catch(wo){rn(wo,r,"errorCaptured hook")}}}rn(t,n,e)}finally{yt()}}function en(t,n,e,r,i){var a;try{a=e?t.apply(n,e):t.call(n),a&&!a._isVue&&d(a)&&(a=a.catch(function(t){return nn(t,r,i+" (Promise/async)")}))}catch(wo){nn(wo,r,i)}return a}function rn(t,n,e){if(I.errorHandler)try{return I.errorHandler.call(null,t,n,e)}catch(wo){wo!==t&&an(wo,null,"config.errorHandler")}an(t,n,e)}function an(t,n,e){if(!J&&!Z||"undefined"===typeof console)throw t;console.error(t)}var on,un=!1,sn=[],cn=!1;function ln(){cn=!1;var t=sn.slice(0);sn.length=0;for(var n=0;n<t.length;n++)t[n]()}if("undefined"!==typeof Promise&&lt(Promise)){var fn=Promise.resolve();on=function(){fn.then(ln),rt&&setTimeout(T)},un=!0}else if(tt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())on="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(ln)}:function(){setTimeout(ln,0)};else{var hn=1,dn=new MutationObserver(ln),pn=document.createTextNode(String(hn));dn.observe(pn,{characterData:!0}),on=function(){hn=(hn+1)%2,pn.data=String(hn)},un=!0}function vn(t,n){var e;if(sn.push(function(){if(t)try{t.call(n)}catch(wo){nn(wo,n,"nextTick")}else e&&e(n)}),cn||(cn=!0,on()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){e=t})}var gn=new ft;function mn(t){yn(t,gn),gn.clear()}function yn(t,n){var e,r,i=Array.isArray(t);if(!(!i&&!s(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var a=t.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(i){e=t.length;while(e--)yn(t[e],n)}else{r=Object.keys(t),e=r.length;while(e--)yn(t[r[e]],n)}}}var bn=x(function(t){var n="&"===t.charAt(0);t=n?t.slice(1):t;var e="~"===t.charAt(0);t=e?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:e,capture:r,passive:n}});function _n(t,n){function e(){var t=arguments,r=e.fns;if(!Array.isArray(r))return en(r,null,arguments,n,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)en(i[a],null,t,n,"v-on handler")}return e.fns=t,e}function xn(t,n,e,i,o,u){var s,c,l,f;for(s in t)c=t[s],l=n[s],f=bn(s),r(c)||(r(l)?(r(c.fns)&&(c=t[s]=_n(c,u)),a(f.once)&&(c=t[s]=o(f.name,c,f.capture)),e(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,t[s]=l));for(s in n)r(t[s])&&(f=bn(s),i(f.name,n[s],f.capture))}function wn(t,n,e){var o;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var u=t[n];function s(){e.apply(this,arguments),y(o.fns,s)}r(u)?o=_n([s]):i(u.fns)&&a(u.merged)?(o=u,o.fns.push(s)):o=_n([u,s]),o.merged=!0,t[n]=o}function An(t,n,e){var a=n.options.props;if(!r(a)){var o={},u=t.attrs,s=t.props;if(i(u)||i(s))for(var c in a){var l=M(c);On(o,s,c,l,!0)||On(o,u,c,l,!1)}return o}}function On(t,n,e,r,a){if(i(n)){if(_(n,e))return t[e]=n[e],a||delete n[e],!0;if(_(n,r))return t[e]=n[r],a||delete n[r],!0}return!1}function kn(t){for(var n=0;n<t.length;n++)if(Array.isArray(t[n]))return Array.prototype.concat.apply([],t);return t}function Mn(t){return u(t)?[wt(t)]:Array.isArray(t)?Cn(t):void 0}function En(t){return i(t)&&i(t.text)&&o(t.isComment)}function Cn(t,n){var e,o,s,c,l=[];for(e=0;e<t.length;e++)o=t[e],r(o)||"boolean"===typeof o||(s=l.length-1,c=l[s],Array.isArray(o)?o.length>0&&(o=Cn(o,(n||"")+"_"+e),En(o[0])&&En(c)&&(l[s]=wt(c.text+o[0].text),o.shift()),l.push.apply(l,o)):u(o)?En(c)?l[s]=wt(c.text+o):""!==o&&l.push(wt(o)):En(o)&&En(c)?l[s]=wt(c.text+o.text):(a(t._isVList)&&i(o.tag)&&r(o.key)&&i(n)&&(o.key="__vlist"+n+"_"+e+"__"),l.push(o)));return l}function jn(t){var n=t.$options.provide;n&&(t._provided="function"===typeof n?n.call(t):n)}function Dn(t){var n=Sn(t.$options.inject,t);n&&(jt(!1),Object.keys(n).forEach(function(e){Bt(t,e,n[e])}),jt(!0))}function Sn(t,n){if(t){for(var e=Object.create(null),r=ht?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){var o=t[a].from,u=n;while(u){if(u._provided&&_(u._provided,o)){e[a]=u._provided[o];break}u=u.$parent}if(!u)if("default"in t[a]){var s=t[a].default;e[a]="function"===typeof s?s.call(n):s}else 0}}return e}}function Fn(t,n){if(!t||!t.length)return{};for(var e={},r=0,i=t.length;r<i;r++){var a=t[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==n&&a.fnContext!==n||!o||null==o.slot)(e.default||(e.default=[])).push(a);else{var u=o.slot,s=e[u]||(e[u]=[]);"template"===a.tag?s.push.apply(s,a.children||[]):s.push(a)}}for(var c in e)e[c].every(Tn)&&delete e[c];return e}function Tn(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Bn(t,n,r){var i,a=!t||!!t.$stable,o=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==e&&o===r.$key&&0===Object.keys(n).length)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=Rn(n,u,t[u]))}else i={};for(var s in n)s in i||(i[s]=Nn(n,s));return t&&Object.isExtensible(t)&&(t._normalized=i),Y(i,"$stable",a),Y(i,"$key",o),i}function Rn(t,n,e){var r=function(){var t=arguments.length?e.apply(null,arguments):e({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Mn(t),t&&0===t.length?void 0:t};return e.proxy&&Object.defineProperty(t,n,{get:r,enumerable:!0,configurable:!0}),r}function Nn(t,n){return function(){return t[n]}}function Pn(t,n){var e,r,a,o,u;if(Array.isArray(t)||"string"===typeof t)for(e=new Array(t.length),r=0,a=t.length;r<a;r++)e[r]=n(t[r],r);else if("number"===typeof t)for(e=new Array(t),r=0;r<t;r++)e[r]=n(r+1,r);else if(s(t))if(ht&&t[Symbol.iterator]){e=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)e.push(n(l.value,e.length)),l=c.next()}else for(o=Object.keys(t),e=new Array(o.length),r=0,a=o.length;r<a;r++)u=o[r],e[r]=n(t[u],u,r);return i(e)||(e=[]),e._isVList=!0,e}function Ln(t,n,e,r){var i,a=this.$scopedSlots[t];a?(e=e||{},r&&(e=S(S({},r),e)),i=a(e)||n):i=this.$slots[t]||n;var o=e&&e.slot;return o?this.$createElement("template",{slot:o},i):i}function zn(t){return Xt(this.$options,"filters",t,!0)||R}function $n(t,n){return Array.isArray(t)?-1===t.indexOf(n):t!==n}function Un(t,n,e,r,i){var a=I.keyCodes[n]||e;return i&&r&&!I.keyCodes[n]?$n(i,r):a?$n(a,t):r?M(r)!==n:void 0}function In(t,n,e,r,i){if(e)if(s(e)){var a;Array.isArray(e)&&(e=F(e));var o=function(o){if("class"===o||"style"===o||m(o))a=t;else{var u=t.attrs&&t.attrs.type;a=r||I.mustUseProp(n,u,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var s=A(o);if(!(o in a)&&!(s in a)&&(a[o]=e[o],i)){var c=t.on||(t.on={});c["update:"+s]=function(t){e[o]=t}}};for(var u in e)o(u)}else;return t}function qn(t,n){var e=this._staticTrees||(this._staticTrees=[]),r=e[t];return r&&!n?r:(r=e[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Yn(r,"__static__"+t,!1),r)}function Wn(t,n,e){return Yn(t,"__once__"+n+(e?"_"+e:""),!0),t}function Yn(t,n,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Hn(t[r],n+"_"+r,e);else Hn(t,n,e)}function Hn(t,n,e){t.isStatic=!0,t.key=n,t.isOnce=e}function Vn(t,n){if(n)if(l(n)){var e=t.on=t.on?S({},t.on):{};for(var r in n){var i=e[r],a=n[r];e[r]=i?[].concat(i,a):a}}else;return t}function Gn(t,n,e,r){n=n||{$stable:!e};for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?Gn(a,n,e):a&&(a.proxy&&(a.fn.proxy=!0),n[a.key]=a.fn)}return r&&(n.$key=r),n}function Xn(t,n){for(var e=0;e<n.length;e+=2){var r=n[e];"string"===typeof r&&r&&(t[n[e]]=n[e+1])}return t}function Jn(t,n){return"string"===typeof t?n+t:t}function Zn(t){t._o=Wn,t._n=v,t._s=p,t._l=Pn,t._t=Ln,t._q=N,t._i=P,t._m=qn,t._f=zn,t._k=Un,t._b=In,t._v=wt,t._e=xt,t._u=Gn,t._g=Vn,t._d=Xn,t._p=Jn}function Qn(t,n,r,i,o){var u,s=this,c=o.options;_(i,"_uid")?(u=Object.create(i),u._original=i):(u=i,i=i._original);var l=a(c._compiled),f=!l;this.data=t,this.props=n,this.children=r,this.parent=i,this.listeners=t.on||e,this.injections=Sn(c.inject,i),this.slots=function(){return s.$slots||Bn(t.scopedSlots,s.$slots=Fn(r,i)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Bn(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Bn(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,n,e,r){var a=fe(u,t,n,e,r,f);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=i),a}:this._c=function(t,n,e,r){return fe(u,t,n,e,r,f)}}function Kn(t,n,r,a,o){var u=t.options,s={},c=u.props;if(i(c))for(var l in c)s[l]=Jt(l,c,n||e);else i(r.attrs)&&ne(s,r.attrs),i(r.props)&&ne(s,r.props);var f=new Qn(r,s,o,a,t),h=u.render.call(null,f._c,f);if(h instanceof bt)return te(h,r,f.parent,u,f);if(Array.isArray(h)){for(var d=Mn(h)||[],p=new Array(d.length),v=0;v<d.length;v++)p[v]=te(d[v],r,f.parent,u,f);return p}}function te(t,n,e,r,i){var a=At(t);return a.fnContext=e,a.fnOptions=r,n.slot&&((a.data||(a.data={})).slot=n.slot),a}function ne(t,n){for(var e in n)t[A(e)]=n[e]}Zn(Qn.prototype);var ee={init:function(t,n){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var e=t;ee.prepatch(e,e)}else{var r=t.componentInstance=ae(t,De);r.$mount(n?t.elm:void 0,n)}},prepatch:function(t,n){var e=n.componentOptions,r=n.componentInstance=t.componentInstance;Re(r,e.propsData,e.listeners,n,e.children)},insert:function(t){var n=t.context,e=t.componentInstance;e._isMounted||(e._isMounted=!0,ze(e,"mounted")),t.data.keepAlive&&(n._isMounted?Ze(e):Pe(e,!0))},destroy:function(t){var n=t.componentInstance;n._isDestroyed||(t.data.keepAlive?Le(n,!0):n.$destroy())}},re=Object.keys(ee);function ie(t,n,e,o,u){if(!r(t)){var c=e.$options._base;if(s(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(r(t.cid)&&(l=t,t=xe(l,c),void 0===t))return _e(l,n,e,o,u);n=n||{},_r(t),i(n.model)&&se(t.options,n);var f=An(n,t,u);if(a(t.options.functional))return Kn(t,f,n,e,o);var h=n.on;if(n.on=n.nativeOn,a(t.options.abstract)){var d=n.slot;n={},d&&(n.slot=d)}oe(n);var p=t.options.name||u,v=new bt("vue-component-"+t.cid+(p?"-"+p:""),n,void 0,void 0,void 0,e,{Ctor:t,propsData:f,listeners:h,tag:u,children:o},l);return v}}}function ae(t,n){var e={_isComponent:!0,_parentVnode:t,parent:n},r=t.data.inlineTemplate;return i(r)&&(e.render=r.render,e.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(e)}function oe(t){for(var n=t.hook||(t.hook={}),e=0;e<re.length;e++){var r=re[e],i=n[r],a=ee[r];i===a||i&&i._merged||(n[r]=i?ue(a,i):a)}}function ue(t,n){var e=function(e,r){t(e,r),n(e,r)};return e._merged=!0,e}function se(t,n){var e=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(n.attrs||(n.attrs={}))[e]=n.model.value;var a=n.on||(n.on={}),o=a[r],u=n.model.callback;i(o)?(Array.isArray(o)?-1===o.indexOf(u):o!==u)&&(a[r]=[u].concat(o)):a[r]=u}var ce=1,le=2;function fe(t,n,e,r,i,o){return(Array.isArray(e)||u(e))&&(i=r,r=e,e=void 0),a(o)&&(i=le),he(t,n,e,r,i)}function he(t,n,e,r,a){if(i(e)&&i(e.__ob__))return xt();if(i(e)&&i(e.is)&&(n=e.is),!n)return xt();var o,u,s;(Array.isArray(r)&&"function"===typeof r[0]&&(e=e||{},e.scopedSlots={default:r[0]},r.length=0),a===le?r=Mn(r):a===ce&&(r=kn(r)),"string"===typeof n)?(u=t.$vnode&&t.$vnode.ns||I.getTagNamespace(n),o=I.isReservedTag(n)?new bt(I.parsePlatformTagName(n),e,r,void 0,void 0,t):e&&e.pre||!i(s=Xt(t.$options,"components",n))?new bt(n,e,r,void 0,void 0,t):ie(s,e,t,r,n)):o=ie(n,e,t,r);return Array.isArray(o)?o:i(o)?(i(u)&&de(o,u),i(e)&&pe(e),o):xt()}function de(t,n,e){if(t.ns=n,"foreignObject"===t.tag&&(n=void 0,e=!0),i(t.children))for(var o=0,u=t.children.length;o<u;o++){var s=t.children[o];i(s.tag)&&(r(s.ns)||a(e)&&"svg"!==s.tag)&&de(s,n,e)}}function pe(t){s(t.style)&&mn(t.style),s(t.class)&&mn(t.class)}function ve(t){t._vnode=null,t._staticTrees=null;var n=t.$options,r=t.$vnode=n._parentVnode,i=r&&r.context;t.$slots=Fn(n._renderChildren,i),t.$scopedSlots=e,t._c=function(n,e,r,i){return fe(t,n,e,r,i,!1)},t.$createElement=function(n,e,r,i){return fe(t,n,e,r,i,!0)};var a=r&&r.data;Bt(t,"$attrs",a&&a.attrs||e,null,!0),Bt(t,"$listeners",n._parentListeners||e,null,!0)}var ge,me=null;function ye(t){Zn(t.prototype),t.prototype.$nextTick=function(t){return vn(t,this)},t.prototype._render=function(){var t,n=this,e=n.$options,r=e.render,i=e._parentVnode;i&&(n.$scopedSlots=Bn(i.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=i;try{me=n,t=r.call(n._renderProxy,n.$createElement)}catch(wo){nn(wo,n,"render"),t=n._vnode}finally{me=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=xt()),t.parent=i,t}}function be(t,n){return(t.__esModule||ht&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?n.extend(t):t}function _e(t,n,e,r,i){var a=xt();return a.asyncFactory=t,a.asyncMeta={data:n,context:e,children:r,tag:i},a}function xe(t,n){if(a(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;if(a(t.loading)&&i(t.loadingComp))return t.loadingComp;var e=me;if(!i(t.owners)){var o=t.owners=[e],u=!0,c=function(t){for(var n=0,e=o.length;n<e;n++)o[n].$forceUpdate();t&&(o.length=0)},l=L(function(e){t.resolved=be(e,n),u?o.length=0:c(!0)}),f=L(function(n){i(t.errorComp)&&(t.error=!0,c(!0))}),h=t(l,f);return s(h)&&(d(h)?r(t.resolved)&&h.then(l,f):d(h.component)&&(h.component.then(l,f),i(h.error)&&(t.errorComp=be(h.error,n)),i(h.loading)&&(t.loadingComp=be(h.loading,n),0===h.delay?t.loading=!0:setTimeout(function(){r(t.resolved)&&r(t.error)&&(t.loading=!0,c(!1))},h.delay||200)),i(h.timeout)&&setTimeout(function(){r(t.resolved)&&f(null)},h.timeout))),u=!1,t.loading?t.loadingComp:t.resolved}t.owners.push(e)}function we(t){return t.isComment&&t.asyncFactory}function Ae(t){if(Array.isArray(t))for(var n=0;n<t.length;n++){var e=t[n];if(i(e)&&(i(e.componentOptions)||we(e)))return e}}function Oe(t){t._events=Object.create(null),t._hasHookEvent=!1;var n=t.$options._parentListeners;n&&Ce(t,n)}function ke(t,n){ge.$on(t,n)}function Me(t,n){ge.$off(t,n)}function Ee(t,n){var e=ge;return function r(){var i=n.apply(null,arguments);null!==i&&e.$off(t,r)}}function Ce(t,n,e){ge=t,xn(n,e||{},ke,Me,Ee,t),ge=void 0}function je(t){var n=/^hook:/;t.prototype.$on=function(t,e){var r=this;if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)r.$on(t[i],e);else(r._events[t]||(r._events[t]=[])).push(e),n.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,n){var e=this;function r(){e.$off(t,r),n.apply(e,arguments)}return r.fn=n,e.$on(t,r),e},t.prototype.$off=function(t,n){var e=this;if(!arguments.length)return e._events=Object.create(null),e;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)e.$off(t[r],n);return e}var a,o=e._events[t];if(!o)return e;if(!n)return e._events[t]=null,e;var u=o.length;while(u--)if(a=o[u],a===n||a.fn===n){o.splice(u,1);break}return e},t.prototype.$emit=function(t){var n=this,e=n._events[t];if(e){e=e.length>1?D(e):e;for(var r=D(arguments,1),i='event handler for "'+t+'"',a=0,o=e.length;a<o;a++)en(e[a],n,r,n,i)}return n}}var De=null;function Se(t){var n=De;return De=t,function(){De=n}}function Fe(t){var n=t.$options,e=n.parent;if(e&&!n.abstract){while(e.$options.abstract&&e.$parent)e=e.$parent;e.$children.push(t)}t.$parent=e,t.$root=e?e.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Te(t){t.prototype._update=function(t,n){var e=this,r=e.$el,i=e._vnode,a=Se(e);e._vnode=t,e.$el=i?e.__patch__(i,t):e.__patch__(e.$el,t,n,!1),a(),r&&(r.__vue__=null),e.$el&&(e.$el.__vue__=e),e.$vnode&&e.$parent&&e.$vnode===e.$parent._vnode&&(e.$parent.$el=e.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){ze(t,"beforeDestroy"),t._isBeingDestroyed=!0;var n=t.$parent;!n||n._isBeingDestroyed||t.$options.abstract||y(n.$children,t),t._watcher&&t._watcher.teardown();var e=t._watchers.length;while(e--)t._watchers[e].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),ze(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Be(t,n,e){var r;return t.$el=n,t.$options.render||(t.$options.render=xt),ze(t,"beforeMount"),r=function(){t._update(t._render(),e)},new nr(t,r,T,{before:function(){t._isMounted&&!t._isDestroyed&&ze(t,"beforeUpdate")}},!0),e=!1,null==t.$vnode&&(t._isMounted=!0,ze(t,"mounted")),t}function Re(t,n,r,i,a){var o=i.data.scopedSlots,u=t.$scopedSlots,s=!!(o&&!o.$stable||u!==e&&!u.$stable||o&&t.$scopedSlots.$key!==o.$key),c=!!(a||t.$options._renderChildren||s);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=a,t.$attrs=i.data.attrs||e,t.$listeners=r||e,n&&t.$options.props){jt(!1);for(var l=t._props,f=t.$options._propKeys||[],h=0;h<f.length;h++){var d=f[h],p=t.$options.props;l[d]=Jt(d,p,n,t)}jt(!0),t.$options.propsData=n}r=r||e;var v=t.$options._parentListeners;t.$options._parentListeners=r,Ce(t,r,v),c&&(t.$slots=Fn(a,i.context),t.$forceUpdate())}function Ne(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Pe(t,n){if(n){if(t._directInactive=!1,Ne(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var e=0;e<t.$children.length;e++)Pe(t.$children[e]);ze(t,"activated")}}function Le(t,n){if((!n||(t._directInactive=!0,!Ne(t)))&&!t._inactive){t._inactive=!0;for(var e=0;e<t.$children.length;e++)Le(t.$children[e]);ze(t,"deactivated")}}function ze(t,n){mt();var e=t.$options[n],r=n+" hook";if(e)for(var i=0,a=e.length;i<a;i++)en(e[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+n),yt()}var $e=[],Ue=[],Ie={},qe=!1,We=!1,Ye=0;function He(){Ye=$e.length=Ue.length=0,Ie={},qe=We=!1}var Ve=0,Ge=Date.now;function Xe(){var t,n;for(Ve=Ge(),We=!0,$e.sort(function(t,n){return t.id-n.id}),Ye=0;Ye<$e.length;Ye++)t=$e[Ye],t.before&&t.before(),n=t.id,Ie[n]=null,t.run();var e=Ue.slice(),r=$e.slice();He(),Qe(e),Je(r),ct&&I.devtools&&ct.emit("flush")}function Je(t){var n=t.length;while(n--){var e=t[n],r=e.vm;r._watcher===e&&r._isMounted&&!r._isDestroyed&&ze(r,"updated")}}function Ze(t){t._inactive=!1,Ue.push(t)}function Qe(t){for(var n=0;n<t.length;n++)t[n]._inactive=!0,Pe(t[n],!0)}function Ke(t){var n=t.id;if(null==Ie[n]){if(Ie[n]=!0,We){var e=$e.length-1;while(e>Ye&&$e[e].id>t.id)e--;$e.splice(e+1,0,t)}else $e.push(t);qe||(qe=!0,vn(Xe))}}J&&Ge()>document.createEvent("Event").timeStamp&&(Ge=function(){return performance.now()});var tr=0,nr=function(t,n,e,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=e,this.id=++tr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="","function"===typeof n?this.getter=n:(this.getter=V(n),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;mt(this);var n=this.vm;try{t=this.getter.call(n,n)}catch(wo){if(!this.user)throw wo;nn(wo,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&mn(t),yt(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var n=t.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(t),this.depIds.has(n)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var n=this.deps[t];this.newDepIds.has(n.id)||n.removeSub(this)}var e=this.depIds;this.depIds=this.newDepIds,this.newDepIds=e,this.newDepIds.clear(),e=this.deps,this.deps=this.newDeps,this.newDeps=e,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ke(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var n=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,n)}catch(wo){nn(wo,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,n)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var er={enumerable:!0,configurable:!0,get:T,set:T};function rr(t,n,e){er.get=function(){return this[n][e]},er.set=function(t){this[n][e]=t},Object.defineProperty(t,e,er)}function ir(t){t._watchers=[];var n=t.$options;n.props&&ar(t,n.props),n.methods&&dr(t,n.methods),n.data?or(t):Tt(t._data={},!0),n.computed&&cr(t,n.computed),n.watch&&n.watch!==at&&pr(t,n.watch)}function ar(t,n){var e=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],a=!t.$parent;a||jt(!1);var o=function(a){i.push(a);var o=Jt(a,n,e,t);Bt(r,a,o),a in t||rr(t,"_props",a)};for(var u in n)o(u);jt(!0)}function or(t){var n=t.$options.data;n=t._data="function"===typeof n?ur(n,t):n||{},l(n)||(n={});var e=Object.keys(n),r=t.$options.props,i=(t.$options.methods,e.length);while(i--){var a=e[i];0,r&&_(r,a)||W(a)||rr(t,"_data",a)}Tt(n,!0)}function ur(t,n){mt();try{return t.call(n,n)}catch(wo){return nn(wo,n,"data()"),{}}finally{yt()}}var sr={lazy:!0};function cr(t,n){var e=t._computedWatchers=Object.create(null),r=st();for(var i in n){var a=n[i],o="function"===typeof a?a:a.get;0,r||(e[i]=new nr(t,o||T,T,sr)),i in t||lr(t,i,a)}}function lr(t,n,e){var r=!st();"function"===typeof e?(er.get=r?fr(n):hr(e),er.set=T):(er.get=e.get?r&&!1!==e.cache?fr(n):hr(e.get):T,er.set=e.set||T),Object.defineProperty(t,n,er)}function fr(t){return function(){var n=this._computedWatchers&&this._computedWatchers[t];if(n)return n.dirty&&n.evaluate(),vt.target&&n.depend(),n.value}}function hr(t){return function(){return t.call(this,this)}}function dr(t,n){t.$options.props;for(var e in n)t[e]="function"!==typeof n[e]?T:j(n[e],t)}function pr(t,n){for(var e in n){var r=n[e];if(Array.isArray(r))for(var i=0;i<r.length;i++)vr(t,e,r[i]);else vr(t,e,r)}}function vr(t,n,e,r){return l(e)&&(r=e,e=e.handler),"string"===typeof e&&(e=t[e]),t.$watch(n,e,r)}function gr(t){var n={get:function(){return this._data}},e={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",n),Object.defineProperty(t.prototype,"$props",e),t.prototype.$set=Rt,t.prototype.$delete=Nt,t.prototype.$watch=function(t,n,e){var r=this;if(l(n))return vr(r,t,n,e);e=e||{},e.user=!0;var i=new nr(r,t,n,e);if(e.immediate)try{n.call(r,i.value)}catch(a){nn(a,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var mr=0;function yr(t){t.prototype._init=function(t){var n=this;n._uid=mr++,n._isVue=!0,t&&t._isComponent?br(n,t):n.$options=Gt(_r(n.constructor),t||{},n),n._renderProxy=n,n._self=n,Fe(n),Oe(n),ve(n),ze(n,"beforeCreate"),Dn(n),ir(n),jn(n),ze(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}function br(t,n){var e=t.$options=Object.create(t.constructor.options),r=n._parentVnode;e.parent=n.parent,e._parentVnode=r;var i=r.componentOptions;e.propsData=i.propsData,e._parentListeners=i.listeners,e._renderChildren=i.children,e._componentTag=i.tag,n.render&&(e.render=n.render,e.staticRenderFns=n.staticRenderFns)}function _r(t){var n=t.options;if(t.super){var e=_r(t.super),r=t.superOptions;if(e!==r){t.superOptions=e;var i=xr(t);i&&S(t.extendOptions,i),n=t.options=Gt(e,t.extendOptions),n.name&&(n.components[n.name]=t)}}return n}function xr(t){var n,e=t.options,r=t.sealedOptions;for(var i in e)e[i]!==r[i]&&(n||(n={}),n[i]=e[i]);return n}function wr(t){this._init(t)}function Ar(t){t.use=function(t){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(t)>-1)return this;var e=D(arguments,1);return e.unshift(this),"function"===typeof t.install?t.install.apply(t,e):"function"===typeof t&&t.apply(null,e),n.push(t),this}}function Or(t){t.mixin=function(t){return this.options=Gt(this.options,t),this}}function kr(t){t.cid=0;var n=1;t.extend=function(t){t=t||{};var e=this,r=e.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var a=t.name||e.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.cid=n++,o.options=Gt(e.options,t),o["super"]=e,o.options.props&&Mr(o),o.options.computed&&Er(o),o.extend=e.extend,o.mixin=e.mixin,o.use=e.use,$.forEach(function(t){o[t]=e[t]}),a&&(o.options.components[a]=o),o.superOptions=e.options,o.extendOptions=t,o.sealedOptions=S({},o.options),i[r]=o,o}}function Mr(t){var n=t.options.props;for(var e in n)rr(t.prototype,"_props",e)}function Er(t){var n=t.options.computed;for(var e in n)lr(t.prototype,e,n[e])}function Cr(t){$.forEach(function(n){t[n]=function(t,e){return e?("component"===n&&l(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"===typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e,e):this.options[n+"s"][t]}})}function jr(t){return t&&(t.Ctor.options.name||t.tag)}function Dr(t,n){return Array.isArray(t)?t.indexOf(n)>-1:"string"===typeof t?t.split(",").indexOf(n)>-1:!!f(t)&&t.test(n)}function Sr(t,n){var e=t.cache,r=t.keys,i=t._vnode;for(var a in e){var o=e[a];if(o){var u=jr(o.componentOptions);u&&!n(u)&&Fr(e,a,r,i)}}}function Fr(t,n,e,r){var i=t[n];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[n]=null,y(e,n)}yr(wr),gr(wr),je(wr),Te(wr),ye(wr);var Tr=[String,RegExp,Array],Br={name:"keep-alive",abstract:!0,props:{include:Tr,exclude:Tr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Fr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(n){Sr(t,function(t){return Dr(n,t)})}),this.$watch("exclude",function(n){Sr(t,function(t){return!Dr(n,t)})})},render:function(){var t=this.$slots.default,n=Ae(t),e=n&&n.componentOptions;if(e){var r=jr(e),i=this,a=i.include,o=i.exclude;if(a&&(!r||!Dr(a,r))||o&&r&&Dr(o,r))return n;var u=this,s=u.cache,c=u.keys,l=null==n.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):n.key;s[l]?(n.componentInstance=s[l].componentInstance,y(c,l),c.push(l)):(s[l]=n,c.push(l),this.max&&c.length>parseInt(this.max)&&Fr(s,c[0],c,this._vnode)),n.data.keepAlive=!0}return n||t&&t[0]}},Rr={KeepAlive:Br};function Nr(t){var n={get:function(){return I}};Object.defineProperty(t,"config",n),t.util={warn:dt,extend:S,mergeOptions:Gt,defineReactive:Bt},t.set=Rt,t.delete=Nt,t.nextTick=vn,t.observable=function(t){return Tt(t),t},t.options=Object.create(null),$.forEach(function(n){t.options[n+"s"]=Object.create(null)}),t.options._base=t,S(t.options.components,Rr),Ar(t),Or(t),kr(t),Cr(t)}Nr(wr),Object.defineProperty(wr.prototype,"$isServer",{get:st}),Object.defineProperty(wr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(wr,"FunctionalRenderContext",{value:Qn}),wr.version="2.6.7";var Pr=g("style,class"),Lr=g("input,textarea,option,select,progress"),zr=function(t,n,e){return"value"===e&&Lr(t)&&"button"!==n||"selected"===e&&"option"===t||"checked"===e&&"input"===t||"muted"===e&&"video"===t},$r=g("contenteditable,draggable,spellcheck"),Ur=g("events,caret,typing,plaintext-only"),Ir=function(t,n){return Vr(n)||"false"===n?"false":"contenteditable"===t&&Ur(n)?n:"true"},qr=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wr="http://www.w3.org/1999/xlink",Yr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Hr=function(t){return Yr(t)?t.slice(6,t.length):""},Vr=function(t){return null==t||!1===t};function Gr(t){var n=t.data,e=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(n=Xr(r.data,n));while(i(e=e.parent))e&&e.data&&(n=Xr(n,e.data));return Jr(n.staticClass,n.class)}function Xr(t,n){return{staticClass:Zr(t.staticClass,n.staticClass),class:i(t.class)?[t.class,n.class]:n.class}}function Jr(t,n){return i(t)||i(n)?Zr(t,Qr(n)):""}function Zr(t,n){return t?n?t+" "+n:t:n||""}function Qr(t){return Array.isArray(t)?Kr(t):s(t)?ti(t):"string"===typeof t?t:""}function Kr(t){for(var n,e="",r=0,a=t.length;r<a;r++)i(n=Qr(t[r]))&&""!==n&&(e&&(e+=" "),e+=n);return e}function ti(t){var n="";for(var e in t)t[e]&&(n&&(n+=" "),n+=e);return n}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ei=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ri=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ii=function(t){return ei(t)||ri(t)};function ai(t){return ri(t)?"svg":"math"===t?"math":void 0}var oi=Object.create(null);function ui(t){if(!J)return!0;if(ii(t))return!1;if(t=t.toLowerCase(),null!=oi[t])return oi[t];var n=document.createElement(t);return t.indexOf("-")>-1?oi[t]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:oi[t]=/HTMLUnknownElement/.test(n.toString())}var si=g("text,number,password,search,email,tel,url");function ci(t){if("string"===typeof t){var n=document.querySelector(t);return n||document.createElement("div")}return t}function li(t,n){var e=document.createElement(t);return"select"!==t?e:(n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&e.setAttribute("multiple","multiple"),e)}function fi(t,n){return document.createElementNS(ni[t],n)}function hi(t){return document.createTextNode(t)}function di(t){return document.createComment(t)}function pi(t,n,e){t.insertBefore(n,e)}function vi(t,n){t.removeChild(n)}function gi(t,n){t.appendChild(n)}function mi(t){return t.parentNode}function yi(t){return t.nextSibling}function bi(t){return t.tagName}function _i(t,n){t.textContent=n}function xi(t,n){t.setAttribute(n,"")}var wi=Object.freeze({createElement:li,createElementNS:fi,createTextNode:hi,createComment:di,insertBefore:pi,removeChild:vi,appendChild:gi,parentNode:mi,nextSibling:yi,tagName:bi,setTextContent:_i,setStyleScope:xi}),Ai={create:function(t,n){Oi(n)},update:function(t,n){t.data.ref!==n.data.ref&&(Oi(t,!0),Oi(n))},destroy:function(t){Oi(t,!0)}};function Oi(t,n){var e=t.data.ref;if(i(e)){var r=t.context,a=t.componentInstance||t.elm,o=r.$refs;n?Array.isArray(o[e])?y(o[e],a):o[e]===a&&(o[e]=void 0):t.data.refInFor?Array.isArray(o[e])?o[e].indexOf(a)<0&&o[e].push(a):o[e]=[a]:o[e]=a}}var ki=new bt("",{},[]),Mi=["create","activate","update","remove","destroy"];function Ei(t,n){return t.key===n.key&&(t.tag===n.tag&&t.isComment===n.isComment&&i(t.data)===i(n.data)&&Ci(t,n)||a(t.isAsyncPlaceholder)&&t.asyncFactory===n.asyncFactory&&r(n.asyncFactory.error))}function Ci(t,n){if("input"!==t.tag)return!0;var e,r=i(e=t.data)&&i(e=e.attrs)&&e.type,a=i(e=n.data)&&i(e=e.attrs)&&e.type;return r===a||si(r)&&si(a)}function ji(t,n,e){var r,a,o={};for(r=n;r<=e;++r)a=t[r].key,i(a)&&(o[a]=r);return o}function Di(t){var n,e,o={},s=t.modules,c=t.nodeOps;for(n=0;n<Mi.length;++n)for(o[Mi[n]]=[],e=0;e<s.length;++e)i(s[e][Mi[n]])&&o[Mi[n]].push(s[e][Mi[n]]);function l(t){return new bt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,n){function e(){0===--e.listeners&&h(t)}return e.listeners=n,e}function h(t){var n=c.parentNode(t);i(n)&&c.removeChild(n,t)}function d(t,n,e,r,o,u,s){if(i(t.elm)&&i(u)&&(t=u[s]=At(t)),t.isRootInsert=!o,!p(t,n,e,r)){var l=t.data,f=t.children,h=t.tag;i(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),w(t),b(t,f,n),i(l)&&x(t,n),y(e,t.elm,r)):a(t.isComment)?(t.elm=c.createComment(t.text),y(e,t.elm,r)):(t.elm=c.createTextNode(t.text),y(e,t.elm,r))}}function p(t,n,e,r){var o=t.data;if(i(o)){var u=i(t.componentInstance)&&o.keepAlive;if(i(o=o.hook)&&i(o=o.init)&&o(t,!1),i(t.componentInstance))return v(t,n),y(e,t.elm,r),a(u)&&m(t,n,e,r),!0}}function v(t,n){i(t.data.pendingInsert)&&(n.push.apply(n,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,_(t)?(x(t,n),w(t)):(Oi(t),n.push(t))}function m(t,n,e,r){var a,u=t;while(u.componentInstance)if(u=u.componentInstance._vnode,i(a=u.data)&&i(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](ki,u);n.push(u);break}y(e,t.elm,r)}function y(t,n,e){i(t)&&(i(e)?c.parentNode(e)===t&&c.insertBefore(t,n,e):c.appendChild(t,n))}function b(t,n,e){if(Array.isArray(n)){0;for(var r=0;r<n.length;++r)d(n[r],e,t.elm,null,!0,n,r)}else u(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function _(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function x(t,e){for(var r=0;r<o.create.length;++r)o.create[r](ki,t);n=t.data.hook,i(n)&&(i(n.create)&&n.create(ki,t),i(n.insert)&&e.push(t))}function w(t){var n;if(i(n=t.fnScopeId))c.setStyleScope(t.elm,n);else{var e=t;while(e)i(n=e.context)&&i(n=n.$options._scopeId)&&c.setStyleScope(t.elm,n),e=e.parent}i(n=De)&&n!==t.context&&n!==t.fnContext&&i(n=n.$options._scopeId)&&c.setStyleScope(t.elm,n)}function A(t,n,e,r,i,a){for(;r<=i;++r)d(e[r],a,t,n,!1,e,r)}function O(t){var n,e,r=t.data;if(i(r))for(i(n=r.hook)&&i(n=n.destroy)&&n(t),n=0;n<o.destroy.length;++n)o.destroy[n](t);if(i(n=t.children))for(e=0;e<t.children.length;++e)O(t.children[e])}function k(t,n,e,r){for(;e<=r;++e){var a=n[e];i(a)&&(i(a.tag)?(M(a),O(a)):h(a.elm))}}function M(t,n){if(i(n)||i(t.data)){var e,r=o.remove.length+1;for(i(n)?n.listeners+=r:n=f(t.elm,r),i(e=t.componentInstance)&&i(e=e._vnode)&&i(e.data)&&M(e,n),e=0;e<o.remove.length;++e)o.remove[e](t,n);i(e=t.data.hook)&&i(e=e.remove)?e(t,n):n()}else h(t.elm)}function E(t,n,e,a,o){var u,s,l,f,h=0,p=0,v=n.length-1,g=n[0],m=n[v],y=e.length-1,b=e[0],_=e[y],x=!o;while(h<=v&&p<=y)r(g)?g=n[++h]:r(m)?m=n[--v]:Ei(g,b)?(j(g,b,a,e,p),g=n[++h],b=e[++p]):Ei(m,_)?(j(m,_,a,e,y),m=n[--v],_=e[--y]):Ei(g,_)?(j(g,_,a,e,y),x&&c.insertBefore(t,g.elm,c.nextSibling(m.elm)),g=n[++h],_=e[--y]):Ei(m,b)?(j(m,b,a,e,p),x&&c.insertBefore(t,m.elm,g.elm),m=n[--v],b=e[++p]):(r(u)&&(u=ji(n,h,v)),s=i(b.key)?u[b.key]:C(b,n,h,v),r(s)?d(b,a,t,g.elm,!1,e,p):(l=n[s],Ei(l,b)?(j(l,b,a,e,p),n[s]=void 0,x&&c.insertBefore(t,l.elm,g.elm)):d(b,a,t,g.elm,!1,e,p)),b=e[++p]);h>v?(f=r(e[y+1])?null:e[y+1].elm,A(t,f,e,p,y,a)):p>y&&k(t,n,h,v)}function C(t,n,e,r){for(var a=e;a<r;a++){var o=n[a];if(i(o)&&Ei(t,o))return a}}function j(t,n,e,u,s,l){if(t!==n){i(n.elm)&&i(u)&&(n=u[s]=At(n));var f=n.elm=t.elm;if(a(t.isAsyncPlaceholder))i(n.asyncFactory.resolved)?F(t.elm,n,e):n.isAsyncPlaceholder=!0;else if(a(n.isStatic)&&a(t.isStatic)&&n.key===t.key&&(a(n.isCloned)||a(n.isOnce)))n.componentInstance=t.componentInstance;else{var h,d=n.data;i(d)&&i(h=d.hook)&&i(h=h.prepatch)&&h(t,n);var p=t.children,v=n.children;if(i(d)&&_(n)){for(h=0;h<o.update.length;++h)o.update[h](t,n);i(h=d.hook)&&i(h=h.update)&&h(t,n)}r(n.text)?i(p)&&i(v)?p!==v&&E(f,p,v,e,l):i(v)?(i(t.text)&&c.setTextContent(f,""),A(f,null,v,0,v.length-1,e)):i(p)?k(f,p,0,p.length-1):i(t.text)&&c.setTextContent(f,""):t.text!==n.text&&c.setTextContent(f,n.text),i(d)&&i(h=d.hook)&&i(h=h.postpatch)&&h(t,n)}}}function D(t,n,e){if(a(e)&&i(t.parent))t.parent.data.pendingInsert=n;else for(var r=0;r<n.length;++r)n[r].data.hook.insert(n[r])}var S=g("attrs,class,staticClass,staticStyle,key");function F(t,n,e,r){var o,u=n.tag,s=n.data,c=n.children;if(r=r||s&&s.pre,n.elm=t,a(n.isComment)&&i(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(i(s)&&(i(o=s.hook)&&i(o=o.init)&&o(n,!0),i(o=n.componentInstance)))return v(n,e),!0;if(i(u)){if(i(c))if(t.hasChildNodes())if(i(o=s)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,h=0;h<c.length;h++){if(!f||!F(f,c[h],e,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else b(n,c,e);if(i(s)){var d=!1;for(var p in s)if(!S(p)){d=!0,x(n,e);break}!d&&s["class"]&&mn(s["class"])}}else t.data!==n.text&&(t.data=n.text);return!0}return function(t,n,e,u){if(!r(n)){var s=!1,f=[];if(r(t))s=!0,d(n,f);else{var h=i(t.nodeType);if(!h&&Ei(t,n))j(t,n,f,null,null,u);else{if(h){if(1===t.nodeType&&t.hasAttribute(z)&&(t.removeAttribute(z),e=!0),a(e)&&F(t,n,f))return D(n,f,!0),t;t=l(t)}var p=t.elm,v=c.parentNode(p);if(d(n,f,p._leaveCb?null:v,c.nextSibling(p)),i(n.parent)){var g=n.parent,m=_(n);while(g){for(var y=0;y<o.destroy.length;++y)o.destroy[y](g);if(g.elm=n.elm,m){for(var b=0;b<o.create.length;++b)o.create[b](ki,g);var x=g.data.hook.insert;if(x.merged)for(var w=1;w<x.fns.length;w++)x.fns[w]()}else Oi(g);g=g.parent}}i(v)?k(v,[t],0,0):i(t.tag)&&O(t)}}return D(n,f,s),n.elm}i(t)&&O(t)}}var Si={create:Fi,update:Fi,destroy:function(t){Fi(t,ki)}};function Fi(t,n){(t.data.directives||n.data.directives)&&Ti(t,n)}function Ti(t,n){var e,r,i,a=t===ki,o=n===ki,u=Ri(t.data.directives,t.context),s=Ri(n.data.directives,n.context),c=[],l=[];for(e in s)r=u[e],i=s[e],r?(i.oldValue=r.value,i.oldArg=r.arg,Pi(i,"update",n,t),i.def&&i.def.componentUpdated&&l.push(i)):(Pi(i,"bind",n,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var f=function(){for(var e=0;e<c.length;e++)Pi(c[e],"inserted",n,t)};a?wn(n,"insert",f):f()}if(l.length&&wn(n,"postpatch",function(){for(var e=0;e<l.length;e++)Pi(l[e],"componentUpdated",n,t)}),!a)for(e in u)s[e]||Pi(u[e],"unbind",t,t,o)}var Bi=Object.create(null);function Ri(t,n){var e,r,i=Object.create(null);if(!t)return i;for(e=0;e<t.length;e++)r=t[e],r.modifiers||(r.modifiers=Bi),i[Ni(r)]=r,r.def=Xt(n.$options,"directives",r.name,!0);return i}function Ni(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Pi(t,n,e,r,i){var a=t.def&&t.def[n];if(a)try{a(e.elm,t,e,r,i)}catch(wo){nn(wo,e.context,"directive "+t.name+" "+n+" hook")}}var Li=[Ai,Si];function zi(t,n){var e=n.componentOptions;if((!i(e)||!1!==e.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(n.data.attrs))){var a,o,u,s=n.elm,c=t.data.attrs||{},l=n.data.attrs||{};for(a in i(l.__ob__)&&(l=n.data.attrs=S({},l)),l)o=l[a],u=c[a],u!==o&&$i(s,a,o);for(a in(tt||et)&&l.value!==c.value&&$i(s,"value",l.value),c)r(l[a])&&(Yr(a)?s.removeAttributeNS(Wr,Hr(a)):$r(a)||s.removeAttribute(a))}}function $i(t,n,e){t.tagName.indexOf("-")>-1?Ui(t,n,e):qr(n)?Vr(e)?t.removeAttribute(n):(e="allowfullscreen"===n&&"EMBED"===t.tagName?"true":n,t.setAttribute(n,e)):$r(n)?t.setAttribute(n,Ir(n,e)):Yr(n)?Vr(e)?t.removeAttributeNS(Wr,Hr(n)):t.setAttributeNS(Wr,n,e):Ui(t,n,e)}function Ui(t,n,e){if(Vr(e))t.removeAttribute(n);else{if(tt&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===n&&""!==e&&!t.__ieph){var r=function(n){n.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(n,e)}}var Ii={create:zi,update:zi};function qi(t,n){var e=n.elm,a=n.data,o=t.data;if(!(r(a.staticClass)&&r(a.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var u=Gr(n),s=e._transitionClasses;i(s)&&(u=Zr(u,Qr(s))),u!==e._prevClass&&(e.setAttribute("class",u),e._prevClass=u)}}var Wi,Yi={create:qi,update:qi},Hi="__r",Vi="__c";function Gi(t){if(i(t[Hi])){var n=tt?"change":"input";t[n]=[].concat(t[Hi],t[n]||[]),delete t[Hi]}i(t[Vi])&&(t.change=[].concat(t[Vi],t.change||[]),delete t[Vi])}function Xi(t,n,e){var r=Wi;return function i(){var a=n.apply(null,arguments);null!==a&&Qi(t,i,e,r)}}var Ji=un&&!(it&&Number(it[1])<=53);function Zi(t,n,e,r){if(Ji){var i=Ve,a=n;n=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||0===t.timeStamp||t.target.ownerDocument!==document)return a.apply(this,arguments)}}Wi.addEventListener(t,n,ot?{capture:e,passive:r}:e)}function Qi(t,n,e,r){(r||Wi).removeEventListener(t,n._wrapper||n,e)}function Ki(t,n){if(!r(t.data.on)||!r(n.data.on)){var e=n.data.on||{},i=t.data.on||{};Wi=n.elm,Gi(e),xn(e,i,Zi,Qi,Xi,n.context),Wi=void 0}}var ta,na={create:Ki,update:Ki};function ea(t,n){if(!r(t.data.domProps)||!r(n.data.domProps)){var e,a,o=n.elm,u=t.data.domProps||{},s=n.data.domProps||{};for(e in i(s.__ob__)&&(s=n.data.domProps=S({},s)),u)r(s[e])&&(o[e]="");for(e in s){if(a=s[e],"textContent"===e||"innerHTML"===e){if(n.children&&(n.children.length=0),a===u[e])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===e&&"PROGRESS"!==o.tagName){o._value=a;var c=r(a)?"":String(a);ra(o,c)&&(o.value=c)}else if("innerHTML"===e&&ri(o.tagName)&&r(o.innerHTML)){ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+a+"</svg>";var l=ta.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(l.firstChild)o.appendChild(l.firstChild)}else if(a!==u[e])try{o[e]=a}catch(wo){}}}}function ra(t,n){return!t.composing&&("OPTION"===t.tagName||ia(t,n)||aa(t,n))}function ia(t,n){var e=!0;try{e=document.activeElement!==t}catch(wo){}return e&&t.value!==n}function aa(t,n){var e=t.value,r=t._vModifiers;if(i(r)){if(r.number)return v(e)!==v(n);if(r.trim)return e.trim()!==n.trim()}return e!==n}var oa={create:ea,update:ea},ua=x(function(t){var n={},e=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(e).forEach(function(t){if(t){var e=t.split(r);e.length>1&&(n[e[0].trim()]=e[1].trim())}}),n});function sa(t){var n=ca(t.style);return t.staticStyle?S(t.staticStyle,n):n}function ca(t){return Array.isArray(t)?F(t):"string"===typeof t?ua(t):t}function la(t,n){var e,r={};if(n){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(e=sa(i.data))&&S(r,e)}(e=sa(t.data))&&S(r,e);var a=t;while(a=a.parent)a.data&&(e=sa(a.data))&&S(r,e);return r}var fa,ha=/^--/,da=/\s*!important$/,pa=function(t,n,e){if(ha.test(n))t.style.setProperty(n,e);else if(da.test(e))t.style.setProperty(M(n),e.replace(da,""),"important");else{var r=ga(n);if(Array.isArray(e))for(var i=0,a=e.length;i<a;i++)t.style[r]=e[i];else t.style[r]=e}},va=["Webkit","Moz","ms"],ga=x(function(t){if(fa=fa||document.createElement("div").style,t=A(t),"filter"!==t&&t in fa)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<va.length;e++){var r=va[e]+n;if(r in fa)return r}});function ma(t,n){var e=n.data,a=t.data;if(!(r(e.staticStyle)&&r(e.style)&&r(a.staticStyle)&&r(a.style))){var o,u,s=n.elm,c=a.staticStyle,l=a.normalizedStyle||a.style||{},f=c||l,h=ca(n.data.style)||{};n.data.normalizedStyle=i(h.__ob__)?S({},h):h;var d=la(n,!0);for(u in f)r(d[u])&&pa(s,u,"");for(u in d)o=d[u],o!==f[u]&&pa(s,u,null==o?"":o)}}var ya={create:ma,update:ma},ba=/\s+/;function _a(t,n){if(n&&(n=n.trim()))if(t.classList)n.indexOf(" ")>-1?n.split(ba).forEach(function(n){return t.classList.add(n)}):t.classList.add(n);else{var e=" "+(t.getAttribute("class")||"")+" ";e.indexOf(" "+n+" ")<0&&t.setAttribute("class",(e+n).trim())}}function xa(t,n){if(n&&(n=n.trim()))if(t.classList)n.indexOf(" ")>-1?n.split(ba).forEach(function(n){return t.classList.remove(n)}):t.classList.remove(n),t.classList.length||t.removeAttribute("class");else{var e=" "+(t.getAttribute("class")||"")+" ",r=" "+n+" ";while(e.indexOf(r)>=0)e=e.replace(r," ");e=e.trim(),e?t.setAttribute("class",e):t.removeAttribute("class")}}function wa(t){if(t){if("object"===typeof t){var n={};return!1!==t.css&&S(n,Aa(t.name||"v")),S(n,t),n}return"string"===typeof t?Aa(t):void 0}}var Aa=x(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Oa=J&&!nt,ka="transition",Ma="animation",Ea="transition",Ca="transitionend",ja="animation",Da="animationend";Oa&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ea="WebkitTransition",Ca="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ja="WebkitAnimation",Da="webkitAnimationEnd"));var Sa=J?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Fa(t){Sa(function(){Sa(t)})}function Ta(t,n){var e=t._transitionClasses||(t._transitionClasses=[]);e.indexOf(n)<0&&(e.push(n),_a(t,n))}function Ba(t,n){t._transitionClasses&&y(t._transitionClasses,n),xa(t,n)}function Ra(t,n,e){var r=Pa(t,n),i=r.type,a=r.timeout,o=r.propCount;if(!i)return e();var u=i===ka?Ca:Da,s=0,c=function(){t.removeEventListener(u,l),e()},l=function(n){n.target===t&&++s>=o&&c()};setTimeout(function(){s<o&&c()},a+1),t.addEventListener(u,l)}var Na=/\b(transform|all)(,|$)/;function Pa(t,n){var e,r=window.getComputedStyle(t),i=(r[Ea+"Delay"]||"").split(", "),a=(r[Ea+"Duration"]||"").split(", "),o=La(i,a),u=(r[ja+"Delay"]||"").split(", "),s=(r[ja+"Duration"]||"").split(", "),c=La(u,s),l=0,f=0;n===ka?o>0&&(e=ka,l=o,f=a.length):n===Ma?c>0&&(e=Ma,l=c,f=s.length):(l=Math.max(o,c),e=l>0?o>c?ka:Ma:null,f=e?e===ka?a.length:s.length:0);var h=e===ka&&Na.test(r[Ea+"Property"]);return{type:e,timeout:l,propCount:f,hasTransform:h}}function La(t,n){while(t.length<n.length)t=t.concat(t);return Math.max.apply(null,n.map(function(n,e){return za(n)+za(t[e])}))}function za(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function $a(t,n){var e=t.elm;i(e._leaveCb)&&(e._leaveCb.cancelled=!0,e._leaveCb());var a=wa(t.data.transition);if(!r(a)&&!i(e._enterCb)&&1===e.nodeType){var o=a.css,u=a.type,c=a.enterClass,l=a.enterToClass,f=a.enterActiveClass,h=a.appearClass,d=a.appearToClass,p=a.appearActiveClass,g=a.beforeEnter,m=a.enter,y=a.afterEnter,b=a.enterCancelled,_=a.beforeAppear,x=a.appear,w=a.afterAppear,A=a.appearCancelled,O=a.duration,k=De,M=De.$vnode;while(M&&M.parent)M=M.parent,k=M.context;var E=!k._isMounted||!t.isRootInsert;if(!E||x||""===x){var C=E&&h?h:c,j=E&&p?p:f,D=E&&d?d:l,S=E&&_||g,F=E&&"function"===typeof x?x:m,T=E&&w||y,B=E&&A||b,R=v(s(O)?O.enter:O);0;var N=!1!==o&&!nt,P=qa(F),z=e._enterCb=L(function(){N&&(Ba(e,D),Ba(e,j)),z.cancelled?(N&&Ba(e,C),B&&B(e)):T&&T(e),e._enterCb=null});t.data.show||wn(t,"insert",function(){var n=e.parentNode,r=n&&n._pending&&n._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),F&&F(e,z)}),S&&S(e),N&&(Ta(e,C),Ta(e,j),Fa(function(){Ba(e,C),z.cancelled||(Ta(e,D),P||(Ia(R)?setTimeout(z,R):Ra(e,u,z)))})),t.data.show&&(n&&n(),F&&F(e,z)),N||P||z()}}}function Ua(t,n){var e=t.elm;i(e._enterCb)&&(e._enterCb.cancelled=!0,e._enterCb());var a=wa(t.data.transition);if(r(a)||1!==e.nodeType)return n();if(!i(e._leaveCb)){var o=a.css,u=a.type,c=a.leaveClass,l=a.leaveToClass,f=a.leaveActiveClass,h=a.beforeLeave,d=a.leave,p=a.afterLeave,g=a.leaveCancelled,m=a.delayLeave,y=a.duration,b=!1!==o&&!nt,_=qa(d),x=v(s(y)?y.leave:y);0;var w=e._leaveCb=L(function(){e.parentNode&&e.parentNode._pending&&(e.parentNode._pending[t.key]=null),b&&(Ba(e,l),Ba(e,f)),w.cancelled?(b&&Ba(e,c),g&&g(e)):(n(),p&&p(e)),e._leaveCb=null});m?m(A):A()}function A(){w.cancelled||(!t.data.show&&e.parentNode&&((e.parentNode._pending||(e.parentNode._pending={}))[t.key]=t),h&&h(e),b&&(Ta(e,c),Ta(e,f),Fa(function(){Ba(e,c),w.cancelled||(Ta(e,l),_||(Ia(x)?setTimeout(w,x):Ra(e,u,w)))})),d&&d(e,w),b||_||w())}}function Ia(t){return"number"===typeof t&&!isNaN(t)}function qa(t){if(r(t))return!1;var n=t.fns;return i(n)?qa(Array.isArray(n)?n[0]:n):(t._length||t.length)>1}function Wa(t,n){!0!==n.data.show&&$a(n)}var Ya=J?{create:Wa,activate:Wa,remove:function(t,n){!0!==t.data.show?Ua(t,n):n()}}:{},Ha=[Ii,Yi,na,oa,ya,Ya],Va=Ha.concat(Li),Ga=Di({nodeOps:wi,modules:Va});nt&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&eo(t,"input")});var Xa={inserted:function(t,n,e,r){"select"===e.tag?(r.elm&&!r.elm._vOptions?wn(e,"postpatch",function(){Xa.componentUpdated(t,n,e)}):Ja(t,n,e.context),t._vOptions=[].map.call(t.options,Ka)):("textarea"===e.tag||si(t.type))&&(t._vModifiers=n.modifiers,n.modifiers.lazy||(t.addEventListener("compositionstart",to),t.addEventListener("compositionend",no),t.addEventListener("change",no),nt&&(t.vmodel=!0)))},componentUpdated:function(t,n,e){if("select"===e.tag){Ja(t,n,e.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ka);if(i.some(function(t,n){return!N(t,r[n])})){var a=t.multiple?n.value.some(function(t){return Qa(t,i)}):n.value!==n.oldValue&&Qa(n.value,i);a&&eo(t,"change")}}}};function Ja(t,n,e){Za(t,n,e),(tt||et)&&setTimeout(function(){Za(t,n,e)},0)}function Za(t,n,e){var r=n.value,i=t.multiple;if(!i||Array.isArray(r)){for(var a,o,u=0,s=t.options.length;u<s;u++)if(o=t.options[u],i)a=P(r,Ka(o))>-1,o.selected!==a&&(o.selected=a);else if(N(Ka(o),r))return void(t.selectedIndex!==u&&(t.selectedIndex=u));i||(t.selectedIndex=-1)}}function Qa(t,n){return n.every(function(n){return!N(n,t)})}function Ka(t){return"_value"in t?t._value:t.value}function to(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,eo(t.target,"input"))}function eo(t,n){var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!0),t.dispatchEvent(e)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var io={bind:function(t,n,e){var r=n.value;e=ro(e);var i=e.data&&e.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(e.data.show=!0,$a(e,function(){t.style.display=a})):t.style.display=r?a:"none"},update:function(t,n,e){var r=n.value,i=n.oldValue;if(!r!==!i){e=ro(e);var a=e.data&&e.data.transition;a?(e.data.show=!0,r?$a(e,function(){t.style.display=t.__vOriginalDisplay}):Ua(e,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,n,e,r,i){i||(t.style.display=t.__vOriginalDisplay)}},ao={model:Xa,show:io},oo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function uo(t){var n=t&&t.componentOptions;return n&&n.Ctor.options.abstract?uo(Ae(n.children)):t}function so(t){var n={},e=t.$options;for(var r in e.propsData)n[r]=t[r];var i=e._parentListeners;for(var a in i)n[A(a)]=i[a];return n}function co(t,n){if(/\d-keep-alive$/.test(n.tag))return t("keep-alive",{props:n.componentOptions.propsData})}function lo(t){while(t=t.parent)if(t.data.transition)return!0}function fo(t,n){return n.key===t.key&&n.tag===t.tag}var ho=function(t){return t.tag||we(t)},po=function(t){return"show"===t.name},vo={name:"transition",props:oo,abstract:!0,render:function(t){var n=this,e=this.$slots.default;if(e&&(e=e.filter(ho),e.length)){0;var r=this.mode;0;var i=e[0];if(lo(this.$vnode))return i;var a=uo(i);if(!a)return i;if(this._leaving)return co(t,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:u(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var s=(a.data||(a.data={})).transition=so(this),c=this._vnode,l=uo(c);if(a.data.directives&&a.data.directives.some(po)&&(a.data.show=!0),l&&l.data&&!fo(a,l)&&!we(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=S({},s);if("out-in"===r)return this._leaving=!0,wn(f,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),co(t,i);if("in-out"===r){if(we(a))return c;var h,d=function(){h()};wn(s,"afterEnter",d),wn(s,"enterCancelled",d),wn(f,"delayLeave",function(t){h=t})}}return i}}},go=S({tag:String,moveClass:String},oo);delete go.mode;var mo={props:go,beforeMount:function(){var t=this,n=this._update;this._update=function(e,r){var i=Se(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),n.call(t,e,r)}},render:function(t){for(var n=this.tag||this.$vnode.data.tag||"span",e=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=so(this),u=0;u<i.length;u++){var s=i[u];if(s.tag)if(null!=s.key&&0!==String(s.key).indexOf("__vlist"))a.push(s),e[s.key]=s,(s.data||(s.data={})).transition=o;else;}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var h=r[f];h.data.transition=o,h.data.pos=h.elm.getBoundingClientRect(),e[h.key]?c.push(h):l.push(h)}this.kept=t(n,null,c),this.removed=l}return t(n,null,a)},updated:function(){var t=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,n)&&(t.forEach(yo),t.forEach(bo),t.forEach(_o),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var e=t.elm,r=e.style;Ta(e,n),r.transform=r.WebkitTransform=r.transitionDuration="",e.addEventListener(Ca,e._moveCb=function t(r){r&&r.target!==e||r&&!/transform$/.test(r.propertyName)||(e.removeEventListener(Ca,t),e._moveCb=null,Ba(e,n))})}}))},methods:{hasMove:function(t,n){if(!Oa)return!1;if(this._hasMove)return this._hasMove;var e=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){xa(e,t)}),_a(e,n),e.style.display="none",this.$el.appendChild(e);var r=Pa(e);return this.$el.removeChild(e),this._hasMove=r.hasTransform}}};function yo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function bo(t){t.data.newPos=t.elm.getBoundingClientRect()}function _o(t){var n=t.data.pos,e=t.data.newPos,r=n.left-e.left,i=n.top-e.top;if(r||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}var xo={Transition:vo,TransitionGroup:mo};wr.config.mustUseProp=zr,wr.config.isReservedTag=ii,wr.config.isReservedAttr=Pr,wr.config.getTagNamespace=ai,wr.config.isUnknownElement=ui,S(wr.options.directives,ao),S(wr.options.components,xo),wr.prototype.__patch__=J?Ga:T,wr.prototype.$mount=function(t,n){return t=t&&J?ci(t):void 0,Be(this,t,n)},J&&setTimeout(function(){I.devtools&&ct&&ct.emit("init",wr)},0),n["a"]=wr}).call(this,e("c8ba"))},"2b4c":function(t,n,e){var r=e("5537")("wks"),i=e("ca5a"),a=e("7726").Symbol,o="function"==typeof a,u=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};u.store=r},"2d00":function(t,n){t.exports=!1},"2d95":function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},3024:function(t,n){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},"30f1":function(t,n,e){"use strict";var r=e("b8e3"),i=e("63b6"),a=e("9138"),o=e("35e8"),u=e("481b"),s=e("8f60"),c=e("45f2"),l=e("53e2"),f=e("5168")("iterator"),h=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",g=function(){return this};t.exports=function(t,n,e,m,y,b,_){s(e,n,m);var x,w,A,O=function(t){if(!h&&t in C)return C[t];switch(t){case p:return function(){return new e(this,t)};case v:return function(){return new e(this,t)}}return function(){return new e(this,t)}},k=n+" Iterator",M=y==v,E=!1,C=t.prototype,j=C[f]||C[d]||y&&C[y],D=j||O(y),S=y?M?O("entries"):D:void 0,F="Array"==n&&C.entries||j;if(F&&(A=l(F.call(new t)),A!==Object.prototype&&A.next&&(c(A,k,!0),r||"function"==typeof A[f]||o(A,f,g))),M&&j&&j.name!==v&&(E=!0,D=function(){return j.call(this)}),r&&!_||!h&&!E&&C[f]||o(C,f,D),u[n]=D,u[k]=g,y)if(x={values:M?D:O(v),keys:b?D:O(p),entries:S},_)for(w in x)w in C||a(C,w,x[w]);else i(i.P+i.F*(h||E),n,x);return x}},"31f4":function(t,n){t.exports=function(t,n,e){var r=void 0===e;switch(n.length){case 0:return r?t():t.call(e);case 1:return r?t(n[0]):t.call(e,n[0]);case 2:return r?t(n[0],n[1]):t.call(e,n[0],n[1]);case 3:return r?t(n[0],n[1],n[2]):t.call(e,n[0],n[1],n[2]);case 4:return r?t(n[0],n[1],n[2],n[3]):t.call(e,n[0],n[1],n[2],n[3])}return t.apply(e,n)}},"32e9":function(t,n,e){var r=e("86cc"),i=e("4630");t.exports=e("9e1e")?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},"32fc":function(t,n,e){var r=e("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,n,e){var r=e("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"33a4":function(t,n,e){var r=e("84f2"),i=e("2b4c")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},"35e8":function(t,n,e){var r=e("d9f6"),i=e("aebd");t.exports=e("8e60")?function(t,n,e){return r.f(t,n,i(1,e))}:function(t,n,e){return t[n]=e,t}},"36c3":function(t,n,e){var r=e("335c"),i=e("25eb");t.exports=function(t){return r(i(t))}},3702:function(t,n,e){var r=e("481b"),i=e("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[i]===t)}},"38fd":function(t,n,e){var r=e("69a8"),i=e("4bf8"),a=e("613b")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"3a38":function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},"3b8d":function(t,n,e){"use strict";e.d(n,"a",function(){return o});var r=e("795b"),i=e.n(r);function a(t,n,e,r,a,o,u){try{var s=t[o](u),c=s.value}catch(l){return void e(l)}s.done?n(c):i.a.resolve(c).then(r,a)}function o(t){return function(){var n=this,e=arguments;return new i.a(function(r,i){var o=t.apply(n,e);function u(t){a(o,r,i,u,s,"next",t)}function s(t){a(o,r,i,u,s,"throw",t)}u(void 0)})}}},"3c11":function(t,n,e){"use strict";var r=e("63b6"),i=e("584a"),a=e("e53d"),o=e("f201"),u=e("cd78");r(r.P+r.R,"Promise",{finally:function(t){var n=o(this,i.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return u(n,t()).then(function(){return e})}:t,e?function(e){return u(n,t()).then(function(){throw e})}:t)}})},"40c3":function(t,n,e){var r=e("6b4c"),i=e("5168")("toStringTag"),a="Arguments"==r(function(){return arguments}()),o=function(t,n){try{return t[n]}catch(e){}};t.exports=function(t){var n,e,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=o(n=Object(t),i))?e:a?r(n):"Object"==(u=r(n))&&"function"==typeof n.callee?"Arguments":u}},4178:function(t,n,e){var r,i,a,o=e("d864"),u=e("3024"),s=e("32fc"),c=e("1ec9"),l=e("e53d"),f=l.process,h=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,g=0,m={},y="onreadystatechange",b=function(){var t=+this;if(m.hasOwnProperty(t)){var n=m[t];delete m[t],n()}},_=function(t){b.call(t.data)};h&&d||(h=function(t){var n=[],e=1;while(arguments.length>e)n.push(arguments[e++]);return m[++g]=function(){u("function"==typeof t?t:Function(t),n)},r(g),g},d=function(t){delete m[t]},"process"==e("6b4c")(f)?r=function(t){f.nextTick(o(b,t,1))}:v&&v.now?r=function(t){v.now(o(b,t,1))}:p?(i=new p,a=i.port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(t){s.appendChild(c("script"))[y]=function(){s.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),t.exports={set:h,clear:d}},"41a0":function(t,n,e){"use strict";var r=e("2aeb"),i=e("4630"),a=e("7f20"),o={};e("32e9")(o,e("2b4c")("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(o,{next:i(1,e)}),a(t,n+" Iterator")}},"43fc":function(t,n,e){"use strict";var r=e("63b6"),i=e("656e"),a=e("4439");r(r.S,"Promise",{try:function(t){var n=i.f(this),e=a(t);return(e.e?n.reject:n.resolve)(e.v),n.promise}})},4439:function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}}},4588:function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},"45f2":function(t,n,e){var r=e("d9f6").f,i=e("07e3"),a=e("5168")("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,a)&&r(t,a,{configurable:!0,value:n})}},4630:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},"481b":function(t,n){t.exports={}},"4a59":function(t,n,e){var r=e("9b43"),i=e("1fa8"),a=e("33a4"),o=e("cb7c"),u=e("9def"),s=e("27ee"),c={},l={};n=t.exports=function(t,n,e,f,h){var d,p,v,g,m=h?function(){return t}:s(t),y=r(e,f,n?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(d=u(t.length);d>b;b++)if(g=n?y(o(p=t[b])[0],p[1]):y(t[b]),g===c||g===l)return g}else for(v=m.call(t);!(p=v.next()).done;)if(g=i(v,y,p.value,n),g===c||g===l)return g};n.BREAK=c,n.RETURN=l},"4bf8":function(t,n,e){var r=e("be13");t.exports=function(t){return Object(r(t))}},"4c95":function(t,n,e){"use strict";var r=e("e53d"),i=e("584a"),a=e("d9f6"),o=e("8e60"),u=e("5168")("species");t.exports=function(t){var n="function"==typeof i[t]?i[t]:r[t];o&&n&&!n[u]&&a.f(n,u,{configurable:!0,get:function(){return this}})}},"4ee1":function(t,n,e){var r=e("5168")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var a=[7],u=a[r]();u.next=function(){return{done:e=!0}},a[r]=function(){return u},t(a)}catch(o){}return e}},"50ed":function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},5168:function(t,n,e){var r=e("dbdb")("wks"),i=e("62a0"),a=e("e53d").Symbol,o="function"==typeof a,u=t.exports=function(t){return r[t]||(r[t]=o&&a[t]||(o?a:i)("Symbol."+t))};u.store=r},"52a7":function(t,n){n.f={}.propertyIsEnumerable},"53e2":function(t,n,e){var r=e("07e3"),i=e("241e"),a=e("5559")("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},"551c":function(t,n,e){"use strict";var r,i,a,o,u=e("2d00"),s=e("7726"),c=e("9b43"),l=e("23c6"),f=e("5ca1"),h=e("d3f4"),d=e("d8e8"),p=e("f605"),v=e("4a59"),g=e("ebd6"),m=e("1991").set,y=e("8079")(),b=e("a5b8"),_=e("9c80"),x=e("a25f"),w=e("bcaa"),A="Promise",O=s.TypeError,k=s.process,M=k&&k.versions,E=M&&M.v8||"",C=s[A],j="process"==l(k),D=function(){},S=i=b.f,F=!!function(){try{var t=C.resolve(1),n=(t.constructor={})[e("2b4c")("species")]=function(t){t(D,D)};return(j||"function"==typeof PromiseRejectionEvent)&&t.then(D)instanceof n&&0!==E.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),T=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},B=function(t,n){if(!t._n){t._n=!0;var e=t._c;y(function(){var r=t._v,i=1==t._s,a=0,o=function(n){var e,a,o,u=i?n.ok:n.fail,s=n.resolve,c=n.reject,l=n.domain;try{u?(i||(2==t._h&&P(t),t._h=1),!0===u?e=r:(l&&l.enter(),e=u(r),l&&(l.exit(),o=!0)),e===n.promise?c(O("Promise-chain cycle")):(a=T(e))?a.call(e,s,c):s(e)):c(r)}catch(f){l&&!o&&l.exit(),c(f)}};while(e.length>a)o(e[a++]);t._c=[],t._n=!1,n&&!t._h&&R(t)})}},R=function(t){m.call(s,function(){var n,e,r,i=t._v,a=N(t);if(a&&(n=_(function(){j?k.emit("unhandledRejection",i,t):(e=s.onunhandledrejection)?e({promise:t,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=j||N(t)?2:1),t._a=void 0,a&&n.e)throw n.v})},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(s,function(){var n;j?k.emit("rejectionHandled",t):(n=s.onrejectionhandled)&&n({promise:t,reason:t._v})})},L=function(t){var n=this;n._d||(n._d=!0,n=n._w||n,n._v=t,n._s=2,n._a||(n._a=n._c.slice()),B(n,!0))},z=function(t){var n,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw O("Promise can't be resolved itself");(n=T(t))?y(function(){var r={_w:e,_d:!1};try{n.call(t,c(z,r,1),c(L,r,1))}catch(i){L.call(r,i)}}):(e._v=t,e._s=1,B(e,!1))}catch(r){L.call({_w:e,_d:!1},r)}}};F||(C=function(t){p(this,C,A,"_h"),d(t),r.call(this);try{t(c(z,this,1),c(L,this,1))}catch(n){L.call(this,n)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("dcbc")(C.prototype,{then:function(t,n){var e=S(g(this,C));return e.ok="function"!=typeof t||t,e.fail="function"==typeof n&&n,e.domain=j?k.domain:void 0,this._c.push(e),this._a&&this._a.push(e),this._s&&B(this,!1),e.promise},catch:function(t){return this.then(void 0,t)}}),a=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(L,t,1)},b.f=S=function(t){return t===C||t===o?new a(t):i(t)}),f(f.G+f.W+f.F*!F,{Promise:C}),e("7f20")(C,A),e("7a56")(A),o=e("8378")[A],f(f.S+f.F*!F,A,{reject:function(t){var n=S(this),e=n.reject;return e(t),n.promise}}),f(f.S+f.F*(u||!F),A,{resolve:function(t){return w(u&&this===o?C:this,t)}}),f(f.S+f.F*!(F&&e("5cc5")(function(t){C.all(t)["catch"](D)})),A,{all:function(t){var n=this,e=S(n),r=e.resolve,i=e.reject,a=_(function(){var e=[],a=0,o=1;v(t,!1,function(t){var u=a++,s=!1;e.push(void 0),o++,n.resolve(t).then(function(t){s||(s=!0,e[u]=t,--o||r(e))},i)}),--o||r(e)});return a.e&&i(a.v),e.promise},race:function(t){var n=this,e=S(n),r=e.reject,i=_(function(){v(t,!1,function(t){n.resolve(t).then(e.resolve,r)})});return i.e&&r(i.v),e.promise}})},5537:function(t,n,e){var r=e("8378"),i=e("7726"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,n,e){var r=e("dbdb")("keys"),i=e("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},"584a":function(t,n){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)},"5b4e":function(t,n,e){var r=e("36c3"),i=e("b447"),a=e("0fc9");t.exports=function(t){return function(n,e,o){var u,s=r(n),c=i(s.length),l=a(o,c);if(t&&e!=e){while(c>l)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===e)return t||l||0;return!t&&-1}}},"5c95":function(t,n,e){var r=e("35e8");t.exports=function(t,n,e){for(var i in n)e&&t[i]?t[i]=n[i]:r(t,i,n[i]);return t}},"5ca1":function(t,n,e){var r=e("7726"),i=e("8378"),a=e("32e9"),o=e("2aba"),u=e("9b43"),s="prototype",c=function(t,n,e){var l,f,h,d,p=t&c.F,v=t&c.G,g=t&c.S,m=t&c.P,y=t&c.B,b=v?r:g?r[n]||(r[n]={}):(r[n]||{})[s],_=v?i:i[n]||(i[n]={}),x=_[s]||(_[s]={});for(l in v&&(e=n),e)f=!p&&b&&void 0!==b[l],h=(f?b:e)[l],d=y&&f?u(h,r):m&&"function"==typeof h?u(Function.call,h):h,b&&o(b,l,h,t&c.U),_[l]!=h&&a(_,l,d),m&&x[l]!=h&&(x[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,n,e){var r=e("2b4c")("iterator"),i=!1;try{var a=[7][r]();a["return"]=function(){i=!0},Array.from(a,function(){throw 2})}catch(o){}t.exports=function(t,n){if(!n&&!i)return!1;var e=!1;try{var a=[7],u=a[r]();u.next=function(){return{done:e=!0}},a[r]=function(){return u},t(a)}catch(o){}return e}},"613b":function(t,n,e){var r=e("5537")("keys"),i=e("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,n,e){var r=e("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62a0":function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},"63b6":function(t,n,e){var r=e("e53d"),i=e("584a"),a=e("d864"),o=e("35e8"),u=e("07e3"),s="prototype",c=function(t,n,e){var l,f,h,d=t&c.F,p=t&c.G,v=t&c.S,g=t&c.P,m=t&c.B,y=t&c.W,b=p?i:i[n]||(i[n]={}),_=b[s],x=p?r:v?r[n]:(r[n]||{})[s];for(l in p&&(e=n),e)f=!d&&x&&void 0!==x[l],f&&u(b,l)||(h=f?x[l]:e[l],b[l]=p&&"function"!=typeof x[l]?e[l]:m&&f?a(h,r):y&&x[l]==h?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[s]=t[s],n}(h):g&&"function"==typeof h?a(Function.call,h):h,g&&((b.virtual||(b.virtual={}))[l]=h,t&c.R&&_&&!_[l]&&o(_,l,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"656e":function(t,n,e){"use strict";var r=e("79aa");function i(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new i(t)}},6821:function(t,n,e){var r=e("626a"),i=e("be13");t.exports=function(t){return r(i(t))}},"696e":function(t,n,e){e("c207"),e("1654"),e("6c1c"),e("24c5"),e("3c11"),e("43fc"),t.exports=e("584a").Promise},"69a8":function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},"6a99":function(t,n,e){var r=e("d3f4");t.exports=function(t,n){if(!r(t))return t;var e,i;if(n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!r(i=e.call(t)))return i;if(!n&&"function"==typeof(e=t.toString)&&!r(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},"6c1c":function(t,n,e){e("c367");for(var r=e("e53d"),i=e("35e8"),a=e("481b"),o=e("5168")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[o]&&i(f,o,c),a[c]=a.Array}},"71c1":function(t,n,e){var r=e("3a38"),i=e("25eb");t.exports=function(t){return function(n,e){var a,o,u=String(i(n)),s=r(e),c=u.length;return s<0||s>=c?t?"":void 0:(a=u.charCodeAt(s),a<55296||a>56319||s+1===c||(o=u.charCodeAt(s+1))<56320||o>57343?t?u.charAt(s):a:t?u.slice(s,s+2):o-56320+(a-55296<<10)+65536)}}},7333:function(t,n,e){"use strict";var r=e("0d58"),i=e("2621"),a=e("52a7"),o=e("4bf8"),u=e("626a"),s=Object.assign;t.exports=!s||e("79e5")(function(){var t={},n={},e=Symbol(),r="abcdefghijklmnopqrst";return t[e]=7,r.split("").forEach(function(t){n[t]=t}),7!=s({},t)[e]||Object.keys(s({},n)).join("")!=r})?function(t,n){var e=o(t),s=arguments.length,c=1,l=i.f,f=a.f;while(s>c){var h,d=u(arguments[c++]),p=l?r(d).concat(l(d)):r(d),v=p.length,g=0;while(v>g)f.call(d,h=p[g++])&&(e[h]=d[h])}return e}:s},7726:function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},"77f1":function(t,n,e){var r=e("4588"),i=Math.max,a=Math.min;t.exports=function(t,n){return t=r(t),t<0?i(t+n,0):a(t,n)}},"794b":function(t,n,e){t.exports=!e("8e60")&&!e("294c")(function(){return 7!=Object.defineProperty(e("1ec9")("div"),"a",{get:function(){return 7}}).a})},"795b":function(t,n,e){t.exports=e("696e")},"79aa":function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,n){t.exports=function(t){try{return!!t()}catch(n){return!0}}},"7a56":function(t,n,e){"use strict";var r=e("7726"),i=e("86cc"),a=e("9e1e"),o=e("2b4c")("species");t.exports=function(t){var n=r[t];a&&n&&!n[o]&&i.f(n,o,{configurable:!0,get:function(){return this}})}},"7cd6":function(t,n,e){var r=e("40c3"),i=e("5168")("iterator"),a=e("481b");t.exports=e("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[r(t)]}},"7e90":function(t,n,e){var r=e("d9f6"),i=e("e4ae"),a=e("c3a1");t.exports=e("8e60")?Object.defineProperties:function(t,n){i(t);var e,o=a(n),u=o.length,s=0;while(u>s)r.f(t,e=o[s++],n[e]);return t}},"7f20":function(t,n,e){var r=e("86cc").f,i=e("69a8"),a=e("2b4c")("toStringTag");t.exports=function(t,n,e){t&&!i(t=e?t:t.prototype,a)&&r(t,a,{configurable:!0,value:n})}},8079:function(t,n,e){var r=e("7726"),i=e("1991").set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,u=r.Promise,s="process"==e("2d95")(o);t.exports=function(){var t,n,e,c=function(){var r,i;s&&(r=o.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(a){throw t?e():n=void 0,a}}n=void 0,r&&r.enter()};if(s)e=function(){o.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);e=function(){l.then(c)}}else e=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},8378:function(t,n){var e=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=e)},8436:function(t,n){t.exports=function(){}},"84f2":function(t,n){t.exports={}},"86cc":function(t,n,e){var r=e("cb7c"),i=e("c69a"),a=e("6a99"),o=Object.defineProperty;n.f=e("9e1e")?Object.defineProperty:function(t,n,e){if(r(t),n=a(n,!0),r(e),i)try{return o(t,n,e)}catch(u){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},"8e60":function(t,n,e){t.exports=!e("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,n,e){"use strict";var r=e("a159"),i=e("aebd"),a=e("45f2"),o={};e("35e8")(o,e("5168")("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(o,{next:i(1,e)}),a(t,n+" Iterator")}},9138:function(t,n,e){t.exports=e("35e8")},9152:function(t,n){n.read=function(t,n,e,r,i){var a,o,u=8*i-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=e?i-1:0,h=e?-1:1,d=t[n+f];for(f+=h,a=d&(1<<-l)-1,d>>=-l,l+=u;l>0;a=256*a+t[n+f],f+=h,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+t[n+f],f+=h,l-=8);if(0===a)a=1-c;else{if(a===s)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=c}return(d?-1:1)*o*Math.pow(2,a-r)},n.write=function(t,n,e,r,i,a){var o,u,s,c=8*a-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(u=isNaN(n)?1:0,o=l):(o=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-o))<1&&(o--,s*=2),n+=o+f>=1?h/s:h*Math.pow(2,1-f),n*s>=2&&(o++,s/=2),o+f>=l?(u=0,o=l):o+f>=1?(u=(n*s-1)*Math.pow(2,i),o+=f):(u=n*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[e+d]=255&u,d+=p,u/=256,i-=8);for(o=o<<i|u,c+=i;c>0;t[e+d]=255&o,d+=p,o/=256,c-=8);t[e+d-p]|=128*v}},"96cf":function(t,n){!function(n){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",c="object"===typeof t,l=n.regeneratorRuntime;if(l)c&&(t.exports=l);else{l=n.regeneratorRuntime=c?t.exports:{},l.wrap=_;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},g={};g[o]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(F([])));y&&y!==r&&i.call(y,o)&&(g=y);var b=O.prototype=w.prototype=Object.create(g);A.prototype=b.constructor=O,O.constructor=A,O[s]=A.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var n="function"===typeof t&&t.constructor;return!!n&&(n===A||"GeneratorFunction"===(n.displayName||n.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},k(M.prototype),M.prototype[u]=function(){return this},l.AsyncIterator=M,l.async=function(t,n,e,r){var i=new M(_(t,n,e,r));return l.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(b),b[s]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){while(n.length){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},l.values=F,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),v},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),D(e),v}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;D(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:F(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}}}function _(t,n,e,r){var i=n&&n.prototype instanceof w?n:w,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=E(t,e,o),a}function x(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(r){return{type:"throw",arg:r}}}function w(){}function A(){}function O(){}function k(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function M(t){function n(e,r,a,o){var u=x(t[e],t,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,a,o)},function(t){n("throw",t,a,o)}):Promise.resolve(c).then(function(t){s.value=t,a(s)},function(t){return n("throw",t,a,o)})}o(u.arg)}var e;function r(t,r){function i(){return new Promise(function(e,i){n(t,r,e,i)})}return e=e?e.then(i,i):i()}this._invoke=r}function E(t,n,e){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return T()}e.method=i,e.arg=a;while(1){var o=e.delegate;if(o){var u=C(o,e);if(u){if(u===v)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=d;var s=x(t,n,e);if("normal"===s.type){if(r=e.done?p:h,s.arg===v)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r=p,e.method="throw",e.arg=s.arg)}}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=x(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function j(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function F(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"9b0d":function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return a});var r=e("276f");function i(n){return!("function"!==typeof t||!Object(r["A"])(t.isBuffer))&&t.isBuffer(n)}function a(t,n){const e=n&&n.property?Object(r["r"])(n.property):r["u"];return Object(r["C"])(t)&&!i(t)?o(e(t)):e(JSON.parse(t))}function o(t,n){return n&&n.copy?JSON.parse(JSON.stringify(t)):t}a.responseType="json"}).call(this,e("b639").Buffer)},"9b43":function(t,n,e){var r=e("d8e8");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},"9c6c":function(t,n,e){var r=e("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&e("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(n){return{e:!0,v:n}}}},"9def":function(t,n,e){var r=e("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,n,e){t.exports=!e("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a159:function(t,n,e){var r=e("e4ae"),i=e("7e90"),a=e("1691"),o=e("5559")("IE_PROTO"),u=function(){},s="prototype",c=function(){var t,n=e("1ec9")("iframe"),r=a.length,i="<",o=">";n.style.display="none",e("32fc").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(i+"script"+o+"document.F=Object"+i+"/script"+o),t.close(),c=t.F;while(r--)delete c[s][a[r]];return c()};t.exports=Object.create||function(t,n){var e;return null!==t?(u[s]=r(t),e=new u,u[s]=null,e[o]=t):e=c(),void 0===n?e:i(e,n)}},a22a:function(t,n,e){var r=e("d864"),i=e("b0dc"),a=e("3702"),o=e("e4ae"),u=e("b447"),s=e("7cd6"),c={},l={};n=t.exports=function(t,n,e,f,h){var d,p,v,g,m=h?function(){return t}:s(t),y=r(e,f,n?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(a(m)){for(d=u(t.length);d>b;b++)if(g=n?y(o(p=t[b])[0],p[1]):y(t[b]),g===c||g===l)return g}else for(v=m.call(t);!(p=v.next()).done;)if(g=i(v,y,p.value,n),g===c||g===l)return g};n.BREAK=c,n.RETURN=l},a25f:function(t,n,e){var r=e("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a5b8:function(t,n,e){"use strict";var r=e("d8e8");function i(t){var n,e;this.promise=new t(function(t,r){if(void 0!==n||void 0!==e)throw TypeError("Bad Promise constructor");n=t,e=r}),this.resolve=r(n),this.reject=r(e)}t.exports.f=function(t){return new i(t)}},aba2:function(t,n,e){var r=e("e53d"),i=e("4178").set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,u=r.Promise,s="process"==e("6b4c")(o);t.exports=function(){var t,n,e,c=function(){var r,i;s&&(r=o.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(a){throw t?e():n=void 0,a}}n=void 0,r&&r.enter()};if(s)e=function(){o.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);e=function(){l.then(c)}}else e=function(){i.call(r,c)};else{var f=!0,h=document.createTextNode("");new a(c).observe(h,{characterData:!0}),e=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};n&&(n.next=i),t||(t=i,e()),n=i}}},ac6a:function(t,n,e){for(var r=e("cadf"),i=e("0d58"),a=e("2aba"),o=e("7726"),u=e("32e9"),s=e("84f2"),c=e("2b4c"),l=c("iterator"),f=c("toStringTag"),h=s.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),v=0;v<p.length;v++){var g,m=p[v],y=d[m],b=o[m],_=b&&b.prototype;if(_&&(_[l]||u(_,l,h),_[f]||u(_,f,m),s[m]=h,y))for(g in r)_[g]||a(_,g,r[g],!0)}},aebd:function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},b0dc:function(t,n,e){var r=e("e4ae");t.exports=function(t,n,e,i){try{return i?n(r(e)[0],e[1]):n(e)}catch(o){var a=t["return"];throw void 0!==a&&r(a.call(t)),o}}},b447:function(t,n,e){var r=e("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b639:function(t,n,e){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=e("1fb5"),i=e("9152"),a=e("e3db");function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,n){if(u()<n)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=c.prototype):(null===t&&(t=new c(n)),t.length=n),t}function c(t,n,e){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,n,e);if("number"===typeof t){if("string"===typeof n)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,n,e)}function l(t,n,e,r){if("number"===typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&n instanceof ArrayBuffer?g(t,n,e,r):"string"===typeof n?p(t,n,e):m(t,n)}function f(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,n,e,r){return f(n),n<=0?s(t,n):void 0!==e?"string"===typeof r?s(t,n).fill(e,r):s(t,n).fill(e):s(t,n)}function d(t,n){if(f(n),t=s(t,n<0?0:0|y(n)),!c.TYPED_ARRAY_SUPPORT)for(var e=0;e<n;++e)t[e]=0;return t}function p(t,n,e){if("string"===typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|_(n,e);t=s(t,r);var i=t.write(n,e);return i!==r&&(t=t.slice(0,i)),t}function v(t,n){var e=n.length<0?0:0|y(n.length);t=s(t,e);for(var r=0;r<e;r+=1)t[r]=255&n[r];return t}function g(t,n,e,r){if(n.byteLength,e<0||n.byteLength<e)throw new RangeError("'offset' is out of bounds");if(n.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");return n=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r),c.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=c.prototype):t=v(t,n),t}function m(t,n){if(c.isBuffer(n)){var e=0|y(n.length);return t=s(t,e),0===t.length?t:(n.copy(t,0,0,e),t)}if(n){if("undefined"!==typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!==typeof n.length||nt(n.length)?s(t,0):v(t,n);if("Buffer"===n.type&&a(n.data))return v(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function b(t){return+t!=t&&(t=0),c.alloc(+t)}function _(t,n){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return K(t).length;default:if(r)return J(t).length;n=(""+n).toLowerCase(),r=!0}}function x(t,n,e){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,n>>>=0,e<=n)return"";t||(t="utf8");while(1)switch(t){case"hex":return P(this,n,e);case"utf8":case"utf-8":return F(this,n,e);case"ascii":return R(this,n,e);case"latin1":case"binary":return N(this,n,e);case"base64":return S(this,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,n,e);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function A(t,n,e,r,i){if(0===t.length)return-1;if("string"===typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"===typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:O(t,n,e,r,i);if("number"===typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,n,e):Uint8Array.prototype.lastIndexOf.call(t,n,e):O(t,[n],e,r,i);throw new TypeError("val must be string, number or Buffer")}function O(t,n,e,r,i){var a,o=1,u=t.length,s=n.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;o=2,u/=2,s/=2,e/=2}function c(t,n){return 1===o?t[n]:t.readUInt16BE(n*o)}if(i){var l=-1;for(a=e;a<u;a++)if(c(t,a)===c(n,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===s)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(e+s>u&&(e=u-s),a=e;a>=0;a--){for(var f=!0,h=0;h<s;h++)if(c(t,a+h)!==c(n,h)){f=!1;break}if(f)return a}return-1}function k(t,n,e,r){e=Number(e)||0;var i=t.length-e;r?(r=Number(r),r>i&&(r=i)):r=i;var a=n.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var u=parseInt(n.substr(2*o,2),16);if(isNaN(u))return o;t[e+o]=u}return o}function M(t,n,e,r){return tt(J(n,t.length-e),t,e,r)}function E(t,n,e,r){return tt(Z(n),t,e,r)}function C(t,n,e,r){return E(t,n,e,r)}function j(t,n,e,r){return tt(K(n),t,e,r)}function D(t,n,e,r){return tt(Q(n,t.length-e),t,e,r)}function S(t,n,e){return 0===n&&e===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,e))}function F(t,n,e){e=Math.min(t.length,e);var r=[],i=n;while(i<e){var a,o,u,s,c=t[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=e)switch(f){case 1:c<128&&(l=c);break;case 2:a=t[i+1],128===(192&a)&&(s=(31&c)<<6|63&a,s>127&&(l=s));break;case 3:a=t[i+1],o=t[i+2],128===(192&a)&&128===(192&o)&&(s=(15&c)<<12|(63&a)<<6|63&o,s>2047&&(s<55296||s>57343)&&(l=s));break;case 4:a=t[i+1],o=t[i+2],u=t[i+3],128===(192&a)&&128===(192&o)&&128===(192&u)&&(s=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&u,s>65535&&s<1114112&&(l=s))}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return B(r)}n.Buffer=c,n.SlowBuffer=b,n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),n.kMaxLength=u(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,n,e){return l(null,t,n,e)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,n,e){return h(null,t,n,e)},c.allocUnsafe=function(t){return d(null,t)},c.allocUnsafeSlow=function(t){return d(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,n){if(!c.isBuffer(t)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var e=t.length,r=n.length,i=0,a=Math.min(e,r);i<a;++i)if(t[i]!==n[i]){e=t[i],r=n[i];break}return e<r?-1:r<e?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,n){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var e;if(void 0===n)for(n=0,e=0;e<t.length;++e)n+=t[e].length;var r=c.allocUnsafe(n),i=0;for(e=0;e<t.length;++e){var o=t[e];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)w(this,n,n+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)w(this,n,n+3),w(this,n+1,n+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)w(this,n,n+7),w(this,n+1,n+6),w(this,n+2,n+5),w(this,n+3,n+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?F(this,0,t):x.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,n,e,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),n<0||e>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&n>=e)return 0;if(r>=i)return-1;if(n>=e)return 1;if(n>>>=0,e>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,o=e-n,u=Math.min(a,o),s=this.slice(r,i),l=t.slice(n,e),f=0;f<u;++f)if(s[f]!==l[f]){a=s[f],o=l[f];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(t,n,e){return-1!==this.indexOf(t,n,e)},c.prototype.indexOf=function(t,n,e){return A(this,t,n,e,!0)},c.prototype.lastIndexOf=function(t,n,e){return A(this,t,n,e,!1)},c.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"===typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var i=this.length-n;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return k(this,t,n,e);case"utf8":case"utf-8":return M(this,t,n,e);case"ascii":return E(this,t,n,e);case"latin1":case"binary":return C(this,t,n,e);case"base64":return j(this,t,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n,e);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function B(t){var n=t.length;if(n<=T)return String.fromCharCode.apply(String,t);var e="",r=0;while(r<n)e+=String.fromCharCode.apply(String,t.slice(r,r+=T));return e}function R(t,n,e){var r="";e=Math.min(t.length,e);for(var i=n;i<e;++i)r+=String.fromCharCode(127&t[i]);return r}function N(t,n,e){var r="";e=Math.min(t.length,e);for(var i=n;i<e;++i)r+=String.fromCharCode(t[i]);return r}function P(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var i="",a=n;a<e;++a)i+=X(t[a]);return i}function L(t,n,e){for(var r=t.slice(n,e),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function z(t,n,e){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+n>e)throw new RangeError("Trying to access beyond buffer length")}function $(t,n,e,r,i,a){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>i||n<a)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function U(t,n,e,r){n<0&&(n=65535+n+1);for(var i=0,a=Math.min(t.length-e,2);i<a;++i)t[e+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function I(t,n,e,r){n<0&&(n=4294967295+n+1);for(var i=0,a=Math.min(t.length-e,4);i<a;++i)t[e+i]=n>>>8*(r?i:3-i)&255}function q(t,n,e,r,i,a){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function W(t,n,e,r,a){return a||q(t,n,e,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(t,n,e,r,23,4),e+4}function Y(t,n,e,r,a){return a||q(t,n,e,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(t,n,e,r,52,8),e+8}c.prototype.slice=function(t,n){var e,r=this.length;if(t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t),c.TYPED_ARRAY_SUPPORT)e=this.subarray(t,n),e.__proto__=c.prototype;else{var i=n-t;e=new c(i,void 0);for(var a=0;a<i;++a)e[a]=this[a+t]}return e},c.prototype.readUIntLE=function(t,n,e){t|=0,n|=0,e||z(t,n,this.length);var r=this[t],i=1,a=0;while(++a<n&&(i*=256))r+=this[t+a]*i;return r},c.prototype.readUIntBE=function(t,n,e){t|=0,n|=0,e||z(t,n,this.length);var r=this[t+--n],i=1;while(n>0&&(i*=256))r+=this[t+--n]*i;return r},c.prototype.readUInt8=function(t,n){return n||z(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,n){return n||z(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,n){return n||z(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,n){return n||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,n){return n||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,n,e){t|=0,n|=0,e||z(t,n,this.length);var r=this[t],i=1,a=0;while(++a<n&&(i*=256))r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(t,n,e){t|=0,n|=0,e||z(t,n,this.length);var r=n,i=1,a=this[t+--r];while(r>0&&(i*=256))a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*n)),a},c.prototype.readInt8=function(t,n){return n||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,n){n||z(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt16BE=function(t,n){n||z(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt32LE=function(t,n){return n||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,n){return n||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,n){return n||z(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,n){return n||z(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,n){return n||z(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,n){return n||z(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,n,e,r){if(t=+t,n|=0,e|=0,!r){var i=Math.pow(2,8*e)-1;$(this,t,n,e,i,0)}var a=1,o=0;this[n]=255&t;while(++o<e&&(a*=256))this[n+o]=t/a&255;return n+e},c.prototype.writeUIntBE=function(t,n,e,r){if(t=+t,n|=0,e|=0,!r){var i=Math.pow(2,8*e)-1;$(this,t,n,e,i,0)}var a=e-1,o=1;this[n+a]=255&t;while(--a>=0&&(o*=256))this[n+a]=t/o&255;return n+e},c.prototype.writeUInt8=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},c.prototype.writeUInt16LE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):U(this,t,n,!0),n+2},c.prototype.writeUInt16BE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):U(this,t,n,!1),n+2},c.prototype.writeUInt32LE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):I(this,t,n,!0),n+4},c.prototype.writeUInt32BE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):I(this,t,n,!1),n+4},c.prototype.writeIntLE=function(t,n,e,r){if(t=+t,n|=0,!r){var i=Math.pow(2,8*e-1);$(this,t,n,e,i-1,-i)}var a=0,o=1,u=0;this[n]=255&t;while(++a<e&&(o*=256))t<0&&0===u&&0!==this[n+a-1]&&(u=1),this[n+a]=(t/o>>0)-u&255;return n+e},c.prototype.writeIntBE=function(t,n,e,r){if(t=+t,n|=0,!r){var i=Math.pow(2,8*e-1);$(this,t,n,e,i-1,-i)}var a=e-1,o=1,u=0;this[n+a]=255&t;while(--a>=0&&(o*=256))t<0&&0===u&&0!==this[n+a+1]&&(u=1),this[n+a]=(t/o>>0)-u&255;return n+e},c.prototype.writeInt8=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},c.prototype.writeInt16LE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):U(this,t,n,!0),n+2},c.prototype.writeInt16BE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):U(this,t,n,!1),n+2},c.prototype.writeInt32LE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):I(this,t,n,!0),n+4},c.prototype.writeInt32BE=function(t,n,e){return t=+t,n|=0,e||$(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):I(this,t,n,!1),n+4},c.prototype.writeFloatLE=function(t,n,e){return W(this,t,n,!0,e)},c.prototype.writeFloatBE=function(t,n,e){return W(this,t,n,!1,e)},c.prototype.writeDoubleLE=function(t,n,e){return Y(this,t,n,!0,e)},c.prototype.writeDoubleBE=function(t,n,e){return Y(this,t,n,!1,e)},c.prototype.copy=function(t,n,e,r){if(e||(e=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var i,a=r-e;if(this===t&&e<n&&n<r)for(i=a-1;i>=0;--i)t[i+n]=this[i+e];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+n]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+a),n);return a},c.prototype.fill=function(t,n,e,r){if("string"===typeof t){if("string"===typeof n?(r=n,n=0,e=this.length):"string"===typeof e&&(r=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;var a;if(n>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"===typeof t)for(a=n;a<e;++a)this[a]=t;else{var o=c.isBuffer(t)?t:J(new c(t,r).toString()),u=o.length;for(a=0;a<e-n;++a)this[a+n]=o[a%u]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function V(t){if(t=G(t).replace(H,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,n){var e;n=n||1/0;for(var r=t.length,i=null,a=[],o=0;o<r;++o){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!i){if(e>56319){(n-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(n-=3)>-1&&a.push(239,191,189);continue}i=e;continue}if(e<56320){(n-=3)>-1&&a.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(n-=3)>-1&&a.push(239,191,189);if(i=null,e<128){if((n-=1)<0)break;a.push(e)}else if(e<2048){if((n-=2)<0)break;a.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;a.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;a.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return a}function Z(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}function Q(t,n){for(var e,r,i,a=[],o=0;o<t.length;++o){if((n-=2)<0)break;e=t.charCodeAt(o),r=e>>8,i=e%256,a.push(i),a.push(r)}return a}function K(t){return r.toByteArray(V(t))}function tt(t,n,e,r){for(var i=0;i<r;++i){if(i+e>=n.length||i>=t.length)break;n[i+e]=t[i]}return i}function nt(t){return t!==t}}).call(this,e("c8ba"))},b8e3:function(t,n){t.exports=!0},bc13:function(t,n,e){var r=e("e53d"),i=r.navigator;t.exports=i&&i.userAgent||""},bcaa:function(t,n,e){var r=e("cb7c"),i=e("d3f4"),a=e("a5b8");t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=a.f(t),o=e.resolve;return o(n),e.promise}},be13:function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},c207:function(t,n){},c366:function(t,n,e){var r=e("6821"),i=e("9def"),a=e("77f1");t.exports=function(t){return function(n,e,o){var u,s=r(n),c=i(s.length),l=a(o,c);if(t&&e!=e){while(c>l)if(u=s[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===e)return t||l||0;return!t&&-1}}},c367:function(t,n,e){"use strict";var r=e("8436"),i=e("50ed"),a=e("481b"),o=e("36c3");t.exports=e("30f1")(Array,"Array",function(t,n){this._t=o(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,n,e){var r=e("e6f3"),i=e("1691");t.exports=Object.keys||function(t){return r(t,i)}},c69a:function(t,n,e){t.exports=!e("9e1e")&&!e("79e5")(function(){return 7!=Object.defineProperty(e("230e")("div"),"a",{get:function(){return 7}}).a})},c8ba:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(r){"object"===typeof window&&(e=window)}t.exports=e},ca5a:function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},cadf:function(t,n,e){"use strict";var r=e("9c6c"),i=e("d53b"),a=e("84f2"),o=e("6821");t.exports=e("01f9")(Array,"Array",function(t,n){this._t=o(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?e:"values"==n?t[e]:[e,t[e]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,n,e){var r=e("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cd78:function(t,n,e){var r=e("e4ae"),i=e("f772"),a=e("656e");t.exports=function(t,n){if(r(t),i(n)&&n.constructor===t)return n;var e=a.f(t),o=e.resolve;return o(n),e.promise}},ce10:function(t,n,e){var r=e("69a8"),i=e("6821"),a=e("c366")(!1),o=e("613b")("IE_PROTO");t.exports=function(t,n){var e,u=i(t),s=0,c=[];for(e in u)e!=o&&r(u,e)&&c.push(e);while(n.length>s)r(u,e=n[s++])&&(~a(c,e)||c.push(e));return c}},d3f4:function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},d864:function(t,n,e){var r=e("79aa");t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)}}return function(){return t.apply(n,arguments)}}},d8e8:function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,n,e){var r=e("e4ae"),i=e("794b"),a=e("1bc3"),o=Object.defineProperty;n.f=e("8e60")?Object.defineProperty:function(t,n,e){if(r(t),n=a(n,!0),r(e),i)try{return o(t,n,e)}catch(u){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},dbdb:function(t,n,e){var r=e("584a"),i=e("e53d"),a="__core-js_shared__",o=i[a]||(i[a]={});(t.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:e("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dcbc:function(t,n,e){var r=e("2aba");t.exports=function(t,n,e){for(var i in n)r(t,i,n[i],e);return t}},e11e:function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e3db:function(t,n){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},e4ae:function(t,n,e){var r=e("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},e6f3:function(t,n,e){var r=e("07e3"),i=e("36c3"),a=e("5b4e")(!1),o=e("5559")("IE_PROTO");t.exports=function(t,n){var e,u=i(t),s=0,c=[];for(e in u)e!=o&&r(u,e)&&c.push(e);while(n.length>s)r(u,e=n[s++])&&(~a(c,e)||c.push(e));return c}},ebd6:function(t,n,e){var r=e("cb7c"),i=e("d8e8"),a=e("2b4c")("species");t.exports=function(t,n){var e,o=r(t).constructor;return void 0===o||void 0==(e=r(o)[a])?n:i(e)}},f161:function(t){t.exports={}},f201:function(t,n,e){var r=e("e4ae"),i=e("79aa"),a=e("5168")("species");t.exports=function(t,n){var e,o=r(t).constructor;return void 0===o||void 0==(e=r(o)[a])?n:i(e)}},f605:function(t,n){t.exports=function(t,n,e,r){if(!(t instanceof n)||void 0!==r&&r in t)throw TypeError(e+": incorrect invocation!");return t}},f751:function(t,n,e){var r=e("5ca1");r(r.S+r.F,"Object",{assign:e("7333")})},f772:function(t,n){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa5b:function(t,n,e){t.exports=e("5537")("native-function-to-string",Function.toString)},fab2:function(t,n,e){var r=e("7726").document;t.exports=r&&r.documentElement}}]);
//# sourceMappingURL=chunk-vendors.d75ad979.js.map